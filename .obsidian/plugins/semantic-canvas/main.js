/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  Location: () => Location,
  default: () => SemanticCanvasPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var Location = /* @__PURE__ */ ((Location2) => {
  Location2[Location2["VaultFolder"] = 0] = "VaultFolder";
  Location2[Location2["SameFolder"] = 1] = "SameFolder";
  Location2[Location2["SpecifiedFolder"] = 2] = "SpecifiedFolder";
  return Location2;
})(Location || {});
var DEFAULT_SETTINGS = {
  newFileLocation: 0 /* VaultFolder */,
  customFileLocation: "",
  // The default strings for unlabeled edges
  cardDefault: "cards",
  fileDefault: "files",
  urlDefault: "urls",
  // The string for group containment
  groupDefault: "groups",
  // For disabling whole types of interactions
  useCards: true,
  useUrls: true,
  useFiles: true,
  useGroups: true
};
var FileNode = class {
  /**
   * A Node on the Canvas that represents a file in the vault
   * @param file 
   * @param data 
   * @param settings 
   * @returns 
   */
  constructor(file, data, settings, appRef) {
    var _a;
    this.filePath = file.file;
    this.propsToSet = {};
    this.app = appRef;
    if (file.inGroups === void 0)
      file.inGroups = [];
    let relevantIds = [file.id];
    relevantIds = [file.id, ...file.inGroups.map((g) => g.id)];
    const relevantEdges = (_a = data.edges) == null ? void 0 : _a.filter((edge) => {
      if (relevantIds.some((id) => edge.fromNode == id))
        return true;
      if (relevantIds.some((id) => edge.toNode == id && edge.isBidirectional))
        return true;
      return false;
    });
    if ((relevantEdges == null ? void 0 : relevantEdges.length) === 0 && file.inGroups.length === 0) {
      this.propsToSet = null;
      return;
    }
    let edges = relevantEdges == null ? void 0 : relevantEdges.map((edge) => {
      var _a2, _b, _c, _d;
      let newEdge = {
        otherSideId: edge.toNode,
        isBidirectional: edge.isBidirectional
      };
      if (file.id === newEdge.otherSideId)
        newEdge.otherSideId = edge.fromNode;
      newEdge.otherSide = (_a2 = data.cards) == null ? void 0 : _a2.find((card) => card.id === newEdge.otherSideId);
      newEdge.type = "card";
      newEdge.propLbl = settings.cardDefault;
      if (newEdge.otherSide === void 0) {
        newEdge.otherSide = (_b = data.urls) == null ? void 0 : _b.find((url) => url.id === newEdge.otherSideId);
        newEdge.type = "url";
        newEdge.propLbl = settings.urlDefault;
      }
      if (newEdge.otherSide === void 0) {
        newEdge.otherSide = (_c = data.files) == null ? void 0 : _c.find((file2) => file2.id === newEdge.otherSideId);
        newEdge.type = "file";
        newEdge.propLbl = settings.fileDefault;
      }
      if (newEdge.otherSide === void 0) {
        newEdge.otherSide = (_d = data.groups) == null ? void 0 : _d.find((group) => group.id === newEdge.otherSideId);
        newEdge.type = "group";
      }
      if (newEdge.otherSide === void 0)
        throw new Error("Could not find other side of edge");
      if (newEdge.type === "card")
        newEdge.propVal = newEdge.otherSide.text;
      if (newEdge.type === "url")
        newEdge.propVal = newEdge.otherSide.url;
      if (newEdge.type === "file")
        newEdge.propVal = convertToWikilink(newEdge.otherSide, this);
      if (edge.label !== void 0)
        newEdge.propLbl = edge.label;
      return newEdge;
    }).filter((newEdge) => newEdge.propLbl !== void 0 && newEdge.propLbl !== "");
    if (file.inGroups.length > 0 && settings.useGroups) {
      this.propsToSet[settings.groupDefault] = file.inGroups.map((group) => group.label);
    }
    if (settings.useCards) {
      edges.filter((edge) => edge.type === "card").forEach((edge) => {
        if (!this.propsToSet.hasOwnProperty(edge.propLbl)) {
          this.propsToSet[edge.propLbl] = [edge.propVal];
          return;
        }
        this.propsToSet[edge.propLbl].push(edge.propVal);
      });
    }
    if (settings.useUrls) {
      edges.filter((edge) => edge.type === "url").forEach((edge) => {
        if (!this.propsToSet.hasOwnProperty(edge.propLbl)) {
          this.propsToSet[edge.propLbl] = [edge.propVal];
          return;
        }
        this.propsToSet[edge.propLbl].push(edge.propVal);
      });
    }
    if (settings.useFiles) {
      edges.filter((edge) => edge.type === "file").forEach((edge) => {
        if (!this.propsToSet.hasOwnProperty(edge.propLbl)) {
          this.propsToSet[edge.propLbl] = [edge.propVal];
          return;
        }
        this.propsToSet[edge.propLbl].push(edge.propVal);
      });
    }
    function convertToWikilink(otherSide, that) {
      const otherFile = that.app.metadataCache.getFirstLinkpathDest(otherSide.file, that.filePath);
      let linkTextContent = that.app.metadataCache.fileToLinktext(otherFile, that.filePath);
      if (otherSide.hasOwnProperty("subpath"))
        linkTextContent = linkTextContent + otherSide.subpath;
      return "[[" + linkTextContent + "]]";
    }
  }
};
var SemanticCanvasPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.addCommand({
      id: "set-canvas-to-note-properties",
      name: "Overwrite note properties based on canvas",
      callback: () => {
        this.pushCanvasToNoteProperties(true);
      }
    });
    this.addCommand({
      id: "append-canvas-to-note-properties",
      name: "Append note properties based on canvas",
      callback: () => {
        this.pushCanvasToNoteProperties(false);
      }
    });
    this.addCommand({
      id: "create-canvas-from-note",
      name: "Create canvas based on note",
      callback: () => {
        this.createCanvasFromNote();
      }
    });
    this.addSettingTab(new SemanticCanvasSettingsTab(this.app, this));
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian.TFolder || file === void 0)
          return;
        if (file.extension === "md") {
          menu.addItem((item) => {
            item.setTitle("Create canvas based on note").setIcon("cloud").onClick(() => {
              this.createCanvasFromNote();
            });
          });
        }
        if (file.extension === "canvas") {
          menu.addItem((item) => {
            item.setTitle("Append note properties based on canvas").setIcon("cloud").onClick(() => {
              this.pushCanvasToNoteProperties(false);
            });
          });
          menu.addItem((item) => {
            item.setTitle("Overwrite note properties based on canvas").setIcon("cloud").onClick(() => {
              this.pushCanvasToNoteProperties(true);
            });
          });
        }
      })
    );
  }
  /**
   * The main function for using a note to create a new canvas.
   */
  async createCanvasFromNote() {
    var _a;
    let file = this.app.workspace.getActiveFile();
    if (!file || (file == null ? void 0 : file.extension) !== "md") {
      new import_obsidian.Notice("Aborted: Active file is not Markdown file");
      return;
    }
    const name = file.basename;
    new import_obsidian.Notice("Creating canvas for " + name);
    const allProperties = (_a = this.app.metadataCache.getCache(file.path)) == null ? void 0 : _a.frontmatter;
    let listTypeProps = [];
    if (allProperties !== void 0) {
      Object.keys(allProperties).forEach((key) => {
        if (Array.isArray(allProperties[key]))
          listTypeProps.push({ [key]: allProperties[key] });
      });
    }
    const that = this;
    const canvasContents = buildCanvasContents(file, listTypeProps);
    const savePath = createSavePathBasedOnSettings(file, that);
    const createdCanvas = await this.app.vault.create(savePath, JSON.stringify(canvasContents));
    this.app.workspace.getLeaf().openFile(createdCanvas);
    function buildCanvasContents(file2, propsMap) {
      const thisFileNodeData = {
        color: "1",
        x: 0,
        y: 0,
        id: "0",
        width: 400,
        height: 400,
        type: "file",
        file: file2.path
      };
      let canvasContents2 = {
        nodes: [thisFileNodeData],
        edges: []
      };
      if (propsMap.length === 0)
        return canvasContents2;
      const firstColumnPosition = 600;
      let curY = 0;
      let nodeCount = 1;
      let edgeCount = 0;
      propsMap.forEach((propObj) => {
        const key = Object.keys(propObj)[0];
        const valArr = propObj[key];
        if (!Array.isArray(valArr))
          throw new Error("A non-array was passed into buildCanvasContents");
        addEdge(key);
        if (isGroup(valArr))
          return addGroup(key, valArr);
        const val = valArr[0];
        return addNode(val, firstColumnPosition);
      });
      thisFileNodeData.y = curY / 2 - thisFileNodeData.height / 2;
      return canvasContents2;
      function addEdge(label) {
        edgeCount = edgeCount + 1;
        canvasContents2.edges.push({
          id: edgeCount.toString(),
          fromNode: "0",
          fromSide: "right",
          toNode: (nodeCount + 1).toString(),
          toSide: "left",
          label
        });
      }
      function addNode(val, xPos) {
        nodeCount = nodeCount + 1;
        const newNode = {
          id: nodeCount.toString(),
          x: xPos.toString(),
          y: curY.toString()
        };
        if (isFile(val)) {
          newNode.type = "file";
          newNode.file = val.substring(2, val.length - 2);
          newNode.width = 400;
          newNode.height = 400;
          if (that.app.vault.getAbstractFileByPath(newNode.file) === null) {
            const splitToBaseAndAlias = newNode.file.split("|");
            const base = splitToBaseAndAlias[0];
            const splitToPathAndSubpath = base.split("#");
            const path = splitToPathAndSubpath[0];
            if (splitToPathAndSubpath.length > 1)
              newNode.subpath = "#" + splitToPathAndSubpath[1];
            const foundFile = that.app.metadataCache.getFirstLinkpathDest(path, file2.path);
            if (foundFile !== null)
              newNode.file = foundFile.path;
          }
        } else if (isURL(val)) {
          newNode.type = "link";
          newNode.url = val;
          newNode.width = 400;
          newNode.height = 400;
        } else {
          newNode.type = "text";
          newNode.text = val;
          newNode.width = val.length > 15 ? 400 : 200;
          newNode.height = val.length > 15 ? 200 : 100;
        }
        if (xPos === firstColumnPosition) {
          curY = curY + parseInt(newNode.height) + 50;
        }
        canvasContents2.nodes.push(newNode);
        return newNode;
      }
      function addGroup(key, valArr) {
        nodeCount = nodeCount + 1;
        const newGroup = {
          type: "group",
          id: nodeCount.toString(),
          x: firstColumnPosition,
          y: curY,
          label: key,
          width: 50,
          height: 50
        };
        let xPos = firstColumnPosition + 50;
        curY = curY + 50;
        valArr.forEach((val) => {
          let newNode = addNode(val, xPos);
          xPos = xPos + newNode.width + 50;
          newGroup.width = newGroup.width + newNode.width + 50;
          if (newNode.height + 100 > newGroup.height)
            newGroup.height = newNode.height + 100;
        });
        curY = curY + newGroup.height;
        canvasContents2.nodes.push(newGroup);
      }
      function isGroup(val) {
        return val.length > 1;
      }
      function isFile(val) {
        if (val.substring(0, 2) !== "[[")
          return false;
        if (val.substring(val.length - 2) !== "]]")
          return false;
        if (val.split("[[").length !== 2)
          return false;
        return true;
      }
      function isURL(val) {
        if (val.toUpperCase().substring(0, 4) !== "HTTP")
          return false;
        if (!val.contains("//"))
          return false;
        if (val.length < 8)
          return false;
        return true;
      }
    }
    function createSavePathBasedOnSettings(file2, that2) {
      let location = "";
      switch (that2.settings.newFileLocation) {
        case 1 /* SameFolder */:
          location = file2.parent.path;
          break;
        case 2 /* SpecifiedFolder */:
          const fileLocationExists = that2.app.vault.getAbstractFileByPath(that2.settings.customFileLocation) !== null;
          if (fileLocationExists) {
            location = that2.settings.customFileLocation;
          } else {
            new import_obsidian.Notice(
              `folder ${that2.settings.customFileLocation} does not exist, creating in root folder`
            );
          }
      }
      let canvasPath = name + ".canvas";
      if (location !== "")
        canvasPath = location + "/" + canvasPath;
      while (that2.app.vault.getAbstractFileByPath(canvasPath) !== null) {
        canvasPath = canvasPath.substring(0, canvasPath.length - 7) + " (new).canvas";
      }
      return canvasPath;
    }
  }
  /**
   * The main function for using an existing canvas to update note properties.
   * @param overwrite `true` will overwrite existing values for keys
   */
  async pushCanvasToNoteProperties(overwrite) {
    var _a;
    let file = this.app.workspace.getActiveFile();
    if (!file || (file == null ? void 0 : file.extension) !== "canvas") {
      new import_obsidian.Notice("Aborted: Active file is not Canvas");
      return;
    }
    let data = await SemanticCanvasPlugin.getCanvasMap(file);
    if (!data) {
      new import_obsidian.Notice("Aborted: No Canvas data found");
      return;
    }
    let fileNodes = (_a = data == null ? void 0 : data.files) == null ? void 0 : _a.map((file2) => new FileNode(file2, data, this.settings, this.app));
    let dedupedFileNodes = [];
    fileNodes == null ? void 0 : fileNodes.forEach((fileNode) => {
      if (fileNode.propsToSet === null)
        return;
      let existing = dedupedFileNodes == null ? void 0 : dedupedFileNodes.find((ogNodeList) => ogNodeList.filePath === fileNode.filePath);
      if (existing === void 0) {
        dedupedFileNodes.push(fileNode);
        return;
      }
      existing.propsToSet = mergeProps(existing.propsToSet, fileNode.propsToSet);
    });
    dedupedFileNodes = dedupedFileNodes.filter((fileNode) => fileNode.propsToSet && Object.keys(fileNode.propsToSet).length > 0);
    let actualFilesMap = dedupedFileNodes.map((fileNode) => {
      return {
        file: this.app.vault.getFileByPath(fileNode.filePath),
        props: fileNode.propsToSet
      };
    });
    actualFilesMap = actualFilesMap.filter((fileMap) => {
      var _a2;
      return ((_a2 = fileMap.file) == null ? void 0 : _a2.extension) === "md";
    });
    let propertyAddCount = 0;
    actualFilesMap.forEach((fileMap) => {
      propertyAddCount = propertyAddCount + Object.keys(fileMap.props).length;
    });
    let modifiedFileCount = actualFilesMap.length;
    actualFilesMap.forEach((fileMap) => this.app.fileManager.processFrontMatter(fileMap.file, (frontmatter) => {
      Object.keys(fileMap.props).forEach((key) => {
        if (overwrite || !frontmatter.hasOwnProperty(key)) {
          frontmatter[key] = fileMap.props[key];
          return;
        }
        if (!Array.isArray(frontmatter[key]))
          frontmatter[key] = [frontmatter[key]];
        fileMap.props[key] = fileMap.props[key].filter((val) => !frontmatter[key].some((og) => og === val));
        frontmatter[key] = [...frontmatter[key], ...fileMap.props[key]];
      });
    }));
    if (modifiedFileCount > 0) {
      new import_obsidian.Notice(`Successfully set ${propertyAddCount} prop(s) in ${modifiedFileCount} file(s)`);
    } else {
      new import_obsidian.Notice(`No notes connections found on canvas.`);
    }
    function mergeProps(a, b) {
      Object.keys(b).forEach((key) => {
        if (a.hasOwnProperty(key)) {
          a[key] = [...a[key], ...b[key]];
        } else {
          a[key] = b[key];
        }
      });
      return a;
    }
  }
  static async getCanvasData(file) {
    if (file === null || file.extension !== "canvas")
      return;
    let rawCanvasText = await file.vault.cachedRead(file);
    let canvas = JSON.parse(rawCanvasText);
    return canvas;
  }
  static getCanvasNodes(data) {
    var _a;
    if (data === void 0)
      return void 0;
    let map = {
      cards: data.nodes.filter((node) => node.type == "text"),
      files: data.nodes.filter((node) => node.type == "file"),
      urls: data.nodes.filter((node) => node.type == "link"),
      groups: data.nodes.filter((node) => node.type == "group")
    };
    (_a = map.groups) == null ? void 0 : _a.forEach((group) => {
      var _a2, _b, _c;
      group.containedNodes = [];
      (_a2 = map.files) == null ? void 0 : _a2.forEach((file) => {
        if (groupContainsNode(group, file)) {
          group.containedNodes.push(file);
          if (file.hasOwnProperty("inGroups")) {
            file.inGroups.push(group);
          } else {
            file.inGroups = [group];
          }
        }
      });
      (_b = map.cards) == null ? void 0 : _b.forEach((cards) => {
        if (groupContainsNode(group, cards)) {
          group.containedNodes.push(cards);
        }
      });
      (_c = map.urls) == null ? void 0 : _c.forEach((urls) => {
        if (groupContainsNode(group, urls)) {
          group.containedNodes.push(urls);
        }
      });
    });
    function groupContainsNode(group, node) {
      if (group.y > node.y)
        return false;
      if (group.y + group.height < node.y + node.height)
        return false;
      if (group.x > node.x)
        return false;
      if (group.x + group.width < node.x + node.width)
        return false;
      return true;
    }
    return map;
  }
  static getCanvasEdges(data) {
    if (data === void 0)
      return void 0;
    data.edges.forEach((edge) => {
      edge.isBidirectional = edge.fromEnd === "arrow" || edge.toEnd === "none";
    });
    return data.edges;
  }
  static async getCanvasMap(file) {
    if (!file)
      return void 0;
    const canvasData = await SemanticCanvasPlugin.getCanvasData(file);
    if (!canvasData)
      return void 0;
    let map = SemanticCanvasPlugin.getCanvasNodes(canvasData);
    if (!map)
      return void 0;
    let edges = SemanticCanvasPlugin.getCanvasEdges(canvasData);
    map.edges = edges;
    edges == null ? void 0 : edges.forEach((edge) => {
      var _a;
      const toType = getTypeOfNodeById(edge.toNode);
      if (toType === "group") {
        let group = (_a = map == null ? void 0 : map.groups) == null ? void 0 : _a.find((g) => g.id === edge.toNode);
        if (!group)
          throw new Error("Unmatched group. ID: " + edge.toNode);
        makePhantomPropagatedEdgesToGroupContents(group, edge);
      }
    });
    return map;
    function getTypeOfNodeById(nodeId) {
      var _a, _b, _c, _d;
      if ((_a = map == null ? void 0 : map.cards) == null ? void 0 : _a.some((card) => card.id === nodeId))
        return "card";
      if ((_b = map == null ? void 0 : map.files) == null ? void 0 : _b.some((file2) => file2.id === nodeId))
        return "file";
      if ((_c = map == null ? void 0 : map.urls) == null ? void 0 : _c.some((url) => url.id === nodeId))
        return "url";
      if ((_d = map == null ? void 0 : map.groups) == null ? void 0 : _d.some((group) => group.id === nodeId))
        return "group";
      throw new Error("No type found for id: " + nodeId);
    }
    function makePhantomPropagatedEdgesToGroupContents(group, edge) {
      group.containedNodes.forEach((node) => {
        if (node.type === "group")
          return;
        const newEdge = {
          id: edge.id + "-phantom",
          fromNode: edge.fromNode,
          fromSide: "right",
          //doesn't matter
          toNode: node.id,
          toSide: "left",
          //doesn't matter
          label: edge.hasOwnProperty("label") ? edge.label : group.label
        };
        edges == null ? void 0 : edges.push(newEdge);
      });
    }
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SemanticCanvasSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Note \u2192 create canvas" });
    new import_obsidian.Setting(containerEl).setName("Default location for new canvas files").addDropdown((dropDown) => {
      dropDown.addOption(Location[0 /* VaultFolder */], "Vault folder").addOption(
        Location[1 /* SameFolder */],
        "Same folder as current file"
      ).addOption(
        Location[2 /* SpecifiedFolder */],
        "In the folder specified below"
      ).setValue(
        Location[this.plugin.settings.newFileLocation] || Location[0 /* VaultFolder */]
      ).onChange(async (value) => {
        this.plugin.settings.newFileLocation = Location[value];
        await this.plugin.saveSettings();
        this.display();
      });
    });
    if (this.plugin.settings.newFileLocation == 2 /* SpecifiedFolder */) {
      new import_obsidian.Setting(containerEl).setName("Folder to create new canvas files in").addText((text) => {
        text.setPlaceholder("Example: folder 1/folder 2").setValue(this.plugin.settings.customFileLocation).onChange(async (value) => {
          this.plugin.settings.customFileLocation = value;
          await this.plugin.saveSettings();
        });
      });
    }
    containerEl.createEl("h1", { text: "Canvas \u2192 set note properties" });
    containerEl.createEl("h2", { text: "Toggle property setting per type" });
    new import_obsidian.Setting(containerEl).setName("Set note properties for connections to cards ").setDesc("Default: true").addToggle((toggle) => toggle.setValue(this.plugin.settings.useCards).onChange(async (value) => {
      this.plugin.settings.useCards = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Set note properties for connections to urls").setDesc("Default: true").addToggle((toggle) => toggle.setValue(this.plugin.settings.useUrls).onChange(async (value) => {
      this.plugin.settings.useUrls = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Set note properties for connections to files").setDesc("Default: true").addToggle((toggle) => toggle.setValue(this.plugin.settings.useFiles).onChange(async (value) => {
      this.plugin.settings.useFiles = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Set note properties based on containment in groups").setDesc("Default: true").addToggle((toggle) => toggle.setValue(this.plugin.settings.useGroups).onChange(async (value) => {
      this.plugin.settings.useGroups = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h2", { text: "Default property keys for unlabeled connections" });
    new import_obsidian.Setting(containerEl).setName("Property key for unlabeled connections to: cards").setDesc("Leave blank to only create properties for labeled edges. Default: cards").addText((text) => text.setPlaceholder("Default cards key...").setValue(this.plugin.settings.cardDefault).onChange(async (value) => {
      this.plugin.settings.cardDefault = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Property key for unlabeled connections to: urls").setDesc("Leave blank to only create properties for labeled edges. Default: urls").addText((text) => text.setPlaceholder("Default urls key...").setValue(this.plugin.settings.urlDefault).onChange(async (value) => {
      this.plugin.settings.urlDefault = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Property key for unlabeled connections to: files").setDesc("Leave blank to only create properties for labeled edges. Default: files").addText((text) => text.setPlaceholder("Default files key...").setValue(this.plugin.settings.fileDefault).onChange(async (value) => {
      this.plugin.settings.fileDefault = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h2", { text: "Property keys for group containment" });
    new import_obsidian.Setting(containerEl).setName("Property key for groups").setDesc("Default: groups").addText((text) => text.setPlaceholder("Default groups key...").setValue(this.plugin.settings.groupDefault).onChange(async (value) => {
      this.plugin.settings.groupDefault = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBNZXRhZGF0YUNhY2hlLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVEFic3RyYWN0RmlsZSwgVEZpbGUsIFRGb2xkZXIsIGdldEZyb250TWF0dGVySW5mbyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IENhbnZhc0RhdGEsIENhbnZhc0VkZ2VEYXRhLCBDYW52YXNGaWxlRGF0YSwgQ2FudmFzR3JvdXBEYXRhLCBDYW52YXNMaW5rRGF0YSwgQ2FudmFzTm9kZURhdGEsIENhbnZhc1RleHREYXRhIH0gZnJvbSAnY2FudmFzJztcblxuaW50ZXJmYWNlIFNlbWFudGljQ2FudmFzUGx1Z2luU2V0dGluZ3Mge1xuXHQvKiBOb3RlIFx1MjdBMVx1RkUwRiBjYW52YXMgKi9cblx0bmV3RmlsZUxvY2F0aW9uOiBMb2NhdGlvbjtcblx0Y3VzdG9tRmlsZUxvY2F0aW9uOiBzdHJpbmc7XG5cdC8qIENhbnZhcyBcdTI3QTFcdUZFMEYgbm90ZSAqL1xuXHRjYXJkRGVmYXVsdDogc3RyaW5nO1xuXHRmaWxlRGVmYXVsdDogc3RyaW5nO1xuXHR1cmxEZWZhdWx0OiBzdHJpbmc7XG5cdGdyb3VwRGVmYXVsdDogc3RyaW5nO1xuXHR1c2VDYXJkczogYm9vbGVhbjtcblx0dXNlVXJsczogYm9vbGVhbjtcblx0dXNlRmlsZXM6IGJvb2xlYW47XG5cdHVzZUdyb3VwczogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGVudW0gTG9jYXRpb24ge1xuXHRWYXVsdEZvbGRlcixcblx0U2FtZUZvbGRlcixcblx0U3BlY2lmaWVkRm9sZGVyLFxufVxuXG5pbnRlcmZhY2UgQ2FudmFzTm9kZU1hcCB7XG5cdGNhcmRzPzogQXJyYXk8Q2FudmFzVGV4dERhdGE+LFxuXHRmaWxlcz86IEFycmF5PENhbnZhc0ZpbGVEYXRhPiAmIHsgaW5Hcm91cHM/OiBBcnJheTxDYW52YXNHcm91cERhdGE+IH0sXG5cdHVybHM/OiBBcnJheTxDYW52YXNMaW5rRGF0YT4sXG5cdGdyb3Vwcz86IEFycmF5PENhbnZhc0dyb3VwRGF0YT5cbn1cblxuaW50ZXJmYWNlIENhbnZhc01hcCBleHRlbmRzIENhbnZhc05vZGVNYXAge1xuXHRlZGdlcz86IEFycmF5PENhbnZhc0VkZ2VEYXRhICYgeyBpc0JpZGlyZWN0aW9uYWw6IGJvb2xlYW4gfT5cbn1cblxudHlwZSBDb25uZWN0aW9uUHJvcHMgPSB7XG5cdG90aGVyU2lkZUlkPzogc3RyaW5nO1xuXHRvdGhlclNpZGU/OiBDYW52YXNOb2RlRGF0YVxuXHR0eXBlPzogJ2NhcmQnIHwgJ3VybCcgfCAnZmlsZScgfCAnZ3JvdXAnO1xuXHRpc0JpZGlyZWN0aW9uYWw/OiBib29sZWFuO1xuXHRwcm9wTGJsPzogc3RyaW5nO1xuXHRwcm9wVmFsPzogc3RyaW5nO1xufVxuXG50eXBlIFJhd0NhbnZhc09iaiA9IHtcblx0bm9kZXM6IEFycmF5PENhbnZhc05vZGVEYXRhPixcblx0ZWRnZXM6IEFycmF5PENhbnZhc0VkZ2VEYXRhPlxufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTZW1hbnRpY0NhbnZhc1BsdWdpblNldHRpbmdzID0ge1xuXHRuZXdGaWxlTG9jYXRpb246IExvY2F0aW9uLlZhdWx0Rm9sZGVyLFxuXHRjdXN0b21GaWxlTG9jYXRpb246ICcnLFxuXHQvLyBUaGUgZGVmYXVsdCBzdHJpbmdzIGZvciB1bmxhYmVsZWQgZWRnZXNcblx0Y2FyZERlZmF1bHQ6ICdjYXJkcycsXG5cdGZpbGVEZWZhdWx0OiAnZmlsZXMnLFxuXHR1cmxEZWZhdWx0OiAndXJscycsXG5cdC8vIFRoZSBzdHJpbmcgZm9yIGdyb3VwIGNvbnRhaW5tZW50XG5cdGdyb3VwRGVmYXVsdDogJ2dyb3VwcycsXG5cdC8vIEZvciBkaXNhYmxpbmcgd2hvbGUgdHlwZXMgb2YgaW50ZXJhY3Rpb25zXG5cdHVzZUNhcmRzOiB0cnVlLFxuXHR1c2VVcmxzOiB0cnVlLFxuXHR1c2VGaWxlczogdHJ1ZSxcblx0dXNlR3JvdXBzOiB0cnVlXG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnN0YW5jZSBvZiBhIG5vZGUgb24gdGhlIGNhbnZhcyB0aGF0IHJlcHJlc2VudHMgYSBmaWxlIGluIHRoZSB2YXVsdFxuICovXG5jbGFzcyBGaWxlTm9kZSB7XG5cdGZpbGVQYXRoOiBzdHJpbmc7XG5cdHByb3BzVG9TZXQ6IGFueTtcblx0YXBwOiBBcHA7XG5cblx0LyoqXG5cdCAqIEEgTm9kZSBvbiB0aGUgQ2FudmFzIHRoYXQgcmVwcmVzZW50cyBhIGZpbGUgaW4gdGhlIHZhdWx0XG5cdCAqIEBwYXJhbSBmaWxlIFxuXHQgKiBAcGFyYW0gZGF0YSBcblx0ICogQHBhcmFtIHNldHRpbmdzIFxuXHQgKiBAcmV0dXJucyBcblx0ICovXG5cdGNvbnN0cnVjdG9yKGZpbGU6IENhbnZhc0ZpbGVEYXRhLCBkYXRhOiBDYW52YXNNYXAsIHNldHRpbmdzOiBTZW1hbnRpY0NhbnZhc1BsdWdpblNldHRpbmdzLCBhcHBSZWY6IEFwcCkge1xuXHRcdHRoaXMuZmlsZVBhdGggPSBmaWxlLmZpbGU7XG5cdFx0dGhpcy5wcm9wc1RvU2V0ID0ge307XG5cdFx0dGhpcy5hcHAgPSBhcHBSZWY7IC8vZm9yIGFjY2VzcyB0byBtZXRhZGF0YWNhY2hlXG5cblx0XHRpZiAoZmlsZS5pbkdyb3VwcyA9PT0gdW5kZWZpbmVkKSBmaWxlLmluR3JvdXBzID0gW107XG5cblx0XHRsZXQgcmVsZXZhbnRJZHMgPSBbZmlsZS5pZF07IC8vdGhlIG5vZGUgSUQgaXRzZWxmLi4uXG5cdFx0cmVsZXZhbnRJZHMgPSBbZmlsZS5pZCwgLi4uZmlsZS5pbkdyb3Vwcy5tYXAoKGc6IGFueSkgPT4gZy5pZCldOyAvLy4uLisgYW55IGdyb3VwcyB0aGF0IGNvbnRhaW4gaXRcblxuXHRcdGNvbnN0IHJlbGV2YW50RWRnZXMgPSBkYXRhLmVkZ2VzPy5maWx0ZXIoZWRnZSA9PiB7XG5cdFx0XHRpZiAocmVsZXZhbnRJZHMuc29tZShpZCA9PiBlZGdlLmZyb21Ob2RlID09IGlkKSkgcmV0dXJuIHRydWVcblx0XHRcdC8qIEluIGNhc2UgbGluayBpcyBiaS1kaXJlY3Rpb25hbCAqL1xuXHRcdFx0aWYgKHJlbGV2YW50SWRzLnNvbWUoaWQgPT4gZWRnZS50b05vZGUgPT0gaWQgJiYgZWRnZS5pc0JpZGlyZWN0aW9uYWwpKSByZXR1cm4gdHJ1ZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fSlcblxuXHRcdGlmIChyZWxldmFudEVkZ2VzPy5sZW5ndGggPT09IDAgJiYgZmlsZS5pbkdyb3Vwcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHRoaXMucHJvcHNUb1NldCA9IG51bGw7XG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRsZXQgZWRnZXM6IENvbm5lY3Rpb25Qcm9wc1tdID0gcmVsZXZhbnRFZGdlcz8ubWFwKGVkZ2UgPT4ge1xuXHRcdFx0bGV0IG5ld0VkZ2U6IENvbm5lY3Rpb25Qcm9wcyA9IHtcblx0XHRcdFx0b3RoZXJTaWRlSWQ6IGVkZ2UudG9Ob2RlLFxuXHRcdFx0XHRpc0JpZGlyZWN0aW9uYWw6IGVkZ2UuaXNCaWRpcmVjdGlvbmFsXG5cdFx0XHR9XG5cdFx0XHRpZiAoZmlsZS5pZCA9PT0gbmV3RWRnZS5vdGhlclNpZGVJZCkgbmV3RWRnZS5vdGhlclNpZGVJZCA9IGVkZ2UuZnJvbU5vZGU7XG5cdFx0XHRuZXdFZGdlLm90aGVyU2lkZSA9IGRhdGEuY2FyZHM/LmZpbmQoY2FyZCA9PiBjYXJkLmlkID09PSBuZXdFZGdlLm90aGVyU2lkZUlkKTtcblx0XHRcdG5ld0VkZ2UudHlwZSA9ICdjYXJkJztcblx0XHRcdG5ld0VkZ2UucHJvcExibCA9IHNldHRpbmdzLmNhcmREZWZhdWx0XG5cdFx0XHRpZiAobmV3RWRnZS5vdGhlclNpZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRuZXdFZGdlLm90aGVyU2lkZSA9IGRhdGEudXJscz8uZmluZCh1cmwgPT4gdXJsLmlkID09PSBuZXdFZGdlLm90aGVyU2lkZUlkKTtcblx0XHRcdFx0bmV3RWRnZS50eXBlID0gJ3VybCc7XG5cdFx0XHRcdG5ld0VkZ2UucHJvcExibCA9IHNldHRpbmdzLnVybERlZmF1bHRcblx0XHRcdH1cblx0XHRcdGlmIChuZXdFZGdlLm90aGVyU2lkZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5ld0VkZ2Uub3RoZXJTaWRlID0gZGF0YS5maWxlcz8uZmluZChmaWxlID0+IGZpbGUuaWQgPT09IG5ld0VkZ2Uub3RoZXJTaWRlSWQpO1xuXHRcdFx0XHRuZXdFZGdlLnR5cGUgPSAnZmlsZSc7XG5cdFx0XHRcdG5ld0VkZ2UucHJvcExibCA9IHNldHRpbmdzLmZpbGVEZWZhdWx0XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3RWRnZS5vdGhlclNpZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRuZXdFZGdlLm90aGVyU2lkZSA9IGRhdGEuZ3JvdXBzPy5maW5kKGdyb3VwID0+IGdyb3VwLmlkID09PSBuZXdFZGdlLm90aGVyU2lkZUlkKTtcblx0XHRcdFx0bmV3RWRnZS50eXBlID0gJ2dyb3VwJztcblx0XHRcdH1cblx0XHRcdGlmIChuZXdFZGdlLm90aGVyU2lkZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIG90aGVyIHNpZGUgb2YgZWRnZScpO1xuXHRcdFx0aWYgKG5ld0VkZ2UudHlwZSA9PT0gJ2NhcmQnKSBuZXdFZGdlLnByb3BWYWwgPSBuZXdFZGdlLm90aGVyU2lkZS50ZXh0O1xuXHRcdFx0aWYgKG5ld0VkZ2UudHlwZSA9PT0gJ3VybCcpIG5ld0VkZ2UucHJvcFZhbCA9IG5ld0VkZ2Uub3RoZXJTaWRlLnVybDtcblx0XHRcdGlmIChuZXdFZGdlLnR5cGUgPT09ICdmaWxlJykgbmV3RWRnZS5wcm9wVmFsID0gY29udmVydFRvV2lraWxpbmsobmV3RWRnZS5vdGhlclNpZGUgYXMgQ2FudmFzRmlsZURhdGEsIHRoaXMpXG5cdFx0XHRpZiAoZWRnZS5sYWJlbCAhPT0gdW5kZWZpbmVkKSBuZXdFZGdlLnByb3BMYmwgPSBlZGdlLmxhYmVsO1xuXHRcdFx0cmV0dXJuIG5ld0VkZ2Vcblx0XHR9KS5maWx0ZXIobmV3RWRnZSA9PiBuZXdFZGdlLnByb3BMYmwgIT09IHVuZGVmaW5lZCAmJiBuZXdFZGdlLnByb3BMYmwgIT09ICcnKSE7XG5cblx0XHQvKiBBTEwgUFJPUEVSVElFUyBBUkUgQVJSQVlTIE9GIFNUUklOR1MgKi9cblxuXHRcdC8qIHRoaXMgLT4gY29udGFpbmVkIGluIGdyb3VwICovXG5cdFx0aWYgKGZpbGUuaW5Hcm91cHMubGVuZ3RoID4gMCAmJiBzZXR0aW5ncy51c2VHcm91cHMpIHtcblx0XHRcdHRoaXMucHJvcHNUb1NldFtzZXR0aW5ncy5ncm91cERlZmF1bHRdID0gZmlsZS5pbkdyb3Vwcy5tYXAoKGdyb3VwOiBDYW52YXNHcm91cERhdGEpID0+IGdyb3VwLmxhYmVsKTtcblx0XHR9XG5cblx0XHQvKiB0aGlzIC0+IGNhcmQgKi9cblx0XHRpZiAoc2V0dGluZ3MudXNlQ2FyZHMpIHtcblx0XHRcdGVkZ2VzLmZpbHRlcihlZGdlID0+IGVkZ2UudHlwZSA9PT0gJ2NhcmQnKS5mb3JFYWNoKGVkZ2UgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMucHJvcHNUb1NldC5oYXNPd25Qcm9wZXJ0eShlZGdlLnByb3BMYmwpKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wc1RvU2V0W2VkZ2UucHJvcExibCFdID0gW2VkZ2UucHJvcFZhbF07XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5wcm9wc1RvU2V0W2VkZ2UucHJvcExibCFdLnB1c2goZWRnZS5wcm9wVmFsKTtcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0LyogdGhpcyAtPiB1cmwgKi9cblx0XHRpZiAoc2V0dGluZ3MudXNlVXJscykge1xuXHRcdFx0ZWRnZXMuZmlsdGVyKGVkZ2UgPT4gZWRnZS50eXBlID09PSAndXJsJykuZm9yRWFjaChlZGdlID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLnByb3BzVG9TZXQuaGFzT3duUHJvcGVydHkoZWRnZS5wcm9wTGJsKSkge1xuXHRcdFx0XHRcdHRoaXMucHJvcHNUb1NldFtlZGdlLnByb3BMYmwhXSA9IFtlZGdlLnByb3BWYWxdO1xuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMucHJvcHNUb1NldFtlZGdlLnByb3BMYmwhXS5wdXNoKGVkZ2UucHJvcFZhbCk7XG5cdFx0XHR9KVxuXHRcdH1cblx0XHQvKiB0aGlzIC0+IG5vdGUgKi9cblx0XHRpZiAoc2V0dGluZ3MudXNlRmlsZXMpIHtcblx0XHRcdGVkZ2VzLmZpbHRlcihlZGdlID0+IGVkZ2UudHlwZSA9PT0gJ2ZpbGUnKS5mb3JFYWNoKGVkZ2UgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMucHJvcHNUb1NldC5oYXNPd25Qcm9wZXJ0eShlZGdlLnByb3BMYmwpKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wc1RvU2V0W2VkZ2UucHJvcExibCFdID0gW2VkZ2UucHJvcFZhbF07XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5wcm9wc1RvU2V0W2VkZ2UucHJvcExibCFdLnB1c2goZWRnZS5wcm9wVmFsKTtcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY29udmVydFRvV2lraWxpbmsob3RoZXJTaWRlOiBDYW52YXNGaWxlRGF0YSwgdGhhdDogRmlsZU5vZGUpOiBzdHJpbmcge1xuXHRcdFx0Y29uc3Qgb3RoZXJGaWxlID0gdGhhdC5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChvdGhlclNpZGUuZmlsZSwgdGhhdC5maWxlUGF0aCkgYXMgVEZpbGU7XG5cdFx0XHRsZXQgbGlua1RleHRDb250ZW50ID0gdGhhdC5hcHAubWV0YWRhdGFDYWNoZS5maWxlVG9MaW5rdGV4dChvdGhlckZpbGUsdGhhdC5maWxlUGF0aCk7XG5cdFx0XHQvKiBzZWUgaWYgU3VicGF0aHMgd2VyZSB1c2VkICovXG5cdFx0XHRpZiAob3RoZXJTaWRlLmhhc093blByb3BlcnR5KFwic3VicGF0aFwiKSkgbGlua1RleHRDb250ZW50ID0gbGlua1RleHRDb250ZW50ICsgb3RoZXJTaWRlLnN1YnBhdGg7XG5cdFx0XHRyZXR1cm4gXCJbW1wiICsgbGlua1RleHRDb250ZW50ICsgXCJdXVwiO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZW1hbnRpY0NhbnZhc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBTZW1hbnRpY0NhbnZhc1BsdWdpblNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0LyogVGhpcyBjb21tYW5kIHdpbGwgcmVwbGFjZSB0aGUgdmFsdWVzIG9mIGFuIGFscmVhZHktZXhpc3RpbmcgcHJvcGVydHkgKi9cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdzZXQtY2FudmFzLXRvLW5vdGUtcHJvcGVydGllcycsXG5cdFx0XHRuYW1lOiAnT3ZlcndyaXRlIG5vdGUgcHJvcGVydGllcyBiYXNlZCBvbiBjYW52YXMnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5wdXNoQ2FudmFzVG9Ob3RlUHJvcGVydGllcyh0cnVlKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qIFRoaXMgY29tbWFuZCB3aWxsIGFkZCBuZXcgdmFsdWVzIG9udG8gdGhlIGVuZCBvZiBhbiBhbHJlYWR5LWV4aXN0aW5nIHByb3BlcnR5ICovXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnYXBwZW5kLWNhbnZhcy10by1ub3RlLXByb3BlcnRpZXMnLFxuXHRcdFx0bmFtZTogJ0FwcGVuZCBub3RlIHByb3BlcnRpZXMgYmFzZWQgb24gY2FudmFzJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMucHVzaENhbnZhc1RvTm90ZVByb3BlcnRpZXMoZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0LyogVGhpcyBjb21tYW5kIHdpbGwgYWRkIG5ldyB2YWx1ZXMgb250byB0aGUgZW5kIG9mIGFuIGFscmVhZHktZXhpc3RpbmcgcHJvcGVydHkgKi9cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjcmVhdGUtY2FudmFzLWZyb20tbm90ZScsXG5cdFx0XHRuYW1lOiAnQ3JlYXRlIGNhbnZhcyBiYXNlZCBvbiBub3RlJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY3JlYXRlQ2FudmFzRnJvbU5vdGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2VtYW50aWNDYW52YXNTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0LyogRmlsZSBNZW51ICovXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1tZW51XCIsIChtZW51LCBmaWxlKSA9PiB7XG5cdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZvbGRlciB8fCBmaWxlID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0XHRcdFx0LyogSWYgTWFya2Rvd24gb2ZmZXIgdG8gY3JlYXRlIGNhbnZhcyAqL1xuXHRcdFx0XHRpZiAoKDxURmlsZT5maWxlKS5leHRlbnNpb24gPT09ICdtZCcpIHtcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGl0ZW0uc2V0VGl0bGUoJ0NyZWF0ZSBjYW52YXMgYmFzZWQgb24gbm90ZScpXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKCdjbG91ZCcpXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmNyZWF0ZUNhbnZhc0Zyb21Ob3RlKCk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0LyogSWYgQ2FudmFzIG9mZmVyIHRvIHVwZGF0ZSBub3RlcyAqL1xuXHRcdFx0XHRpZiAoKDxURmlsZT5maWxlKS5leHRlbnNpb24gPT09ICdjYW52YXMnKSB7XG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtLnNldFRpdGxlKCdBcHBlbmQgbm90ZSBwcm9wZXJ0aWVzIGJhc2VkIG9uIGNhbnZhcycpXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKCdjbG91ZCcpXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnB1c2hDYW52YXNUb05vdGVQcm9wZXJ0aWVzKGZhbHNlKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtLnNldFRpdGxlKCdPdmVyd3JpdGUgbm90ZSBwcm9wZXJ0aWVzIGJhc2VkIG9uIGNhbnZhcycpXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKCdjbG91ZCcpXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnB1c2hDYW52YXNUb05vdGVQcm9wZXJ0aWVzKHRydWUpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBtYWluIGZ1bmN0aW9uIGZvciB1c2luZyBhIG5vdGUgdG8gY3JlYXRlIGEgbmV3IGNhbnZhcy5cblx0ICovXG5cdGFzeW5jIGNyZWF0ZUNhbnZhc0Zyb21Ob3RlKCkge1xuXHRcdGxldCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRpZiAoIWZpbGUgfHwgZmlsZT8uZXh0ZW5zaW9uICE9PSAnbWQnKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdBYm9ydGVkOiBBY3RpdmUgZmlsZSBpcyBub3QgTWFya2Rvd24gZmlsZScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IG5hbWUgPSBmaWxlLmJhc2VuYW1lO1xuXHRcdG5ldyBOb3RpY2UoJ0NyZWF0aW5nIGNhbnZhcyBmb3IgJyArIG5hbWUpO1xuXG5cdFx0Y29uc3QgYWxsUHJvcGVydGllcyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Q2FjaGUoZmlsZS5wYXRoKT8uZnJvbnRtYXR0ZXI7XG5cdFx0bGV0IGxpc3RUeXBlUHJvcHM6IEFycmF5PHsgW2luZGV4OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+IH0+ID0gW107XG5cblx0XHRpZiAoYWxsUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRPYmplY3Qua2V5cyhhbGxQcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXkpID0+IHtcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoYWxsUHJvcGVydGllc1trZXldKSkgbGlzdFR5cGVQcm9wcy5wdXNoKHsgW2tleV06IGFsbFByb3BlcnRpZXNba2V5XSB9KTtcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0Y29uc3QgdGhhdCA9IHRoaXM7XG5cdFx0Y29uc3QgY2FudmFzQ29udGVudHMgPSBidWlsZENhbnZhc0NvbnRlbnRzKGZpbGUsIGxpc3RUeXBlUHJvcHMpO1xuXG5cdFx0Y29uc3Qgc2F2ZVBhdGggPSBjcmVhdGVTYXZlUGF0aEJhc2VkT25TZXR0aW5ncyhmaWxlLCB0aGF0KTtcblx0XHRjb25zdCBjcmVhdGVkQ2FudmFzID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKHNhdmVQYXRoLCBKU09OLnN0cmluZ2lmeShjYW52YXNDb250ZW50cykpO1xuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoY3JlYXRlZENhbnZhcyk7XG5cblx0XHRmdW5jdGlvbiBidWlsZENhbnZhc0NvbnRlbnRzKGZpbGU6IFRGaWxlLCBwcm9wc01hcDogQXJyYXk8eyBbaW5kZXg6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfT4pOiBDYW52YXNEYXRhIHtcblx0XHRcdGNvbnN0IHRoaXNGaWxlTm9kZURhdGE6IENhbnZhc0ZpbGVEYXRhID0ge1xuXHRcdFx0XHRjb2xvcjogXCIxXCIsXG5cdFx0XHRcdHg6IDAsXG5cdFx0XHRcdHk6IDAsXG5cdFx0XHRcdGlkOiAnMCcsXG5cdFx0XHRcdHdpZHRoOiA0MDAsXG5cdFx0XHRcdGhlaWdodDogNDAwLFxuXHRcdFx0XHR0eXBlOiAnZmlsZScsXG5cdFx0XHRcdGZpbGU6IGZpbGUucGF0aFxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgY2FudmFzQ29udGVudHM6IENhbnZhc0RhdGEgPSB7XG5cdFx0XHRcdG5vZGVzOiBbdGhpc0ZpbGVOb2RlRGF0YV0sXG5cdFx0XHRcdGVkZ2VzOiBbXVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAocHJvcHNNYXAubGVuZ3RoID09PSAwKSByZXR1cm4gY2FudmFzQ29udGVudHM7XG5cblx0XHRcdGNvbnN0IGZpcnN0Q29sdW1uUG9zaXRpb24gPSA2MDA7XG5cdFx0XHRsZXQgY3VyWSA9IDA7XG5cdFx0XHRsZXQgbm9kZUNvdW50ID0gMTtcblx0XHRcdGxldCBlZGdlQ291bnQgPSAwO1xuXG5cdFx0XHQvKiBJdGVyYXRlIHRocm91Z2ggdGhlIHByb3BzICYgbXV0YXRlIHRoZSBjYW52YXNDb250ZW50cyBmb3IgZWFjaCAqL1xuXHRcdFx0cHJvcHNNYXAuZm9yRWFjaChwcm9wT2JqID0+IHtcblx0XHRcdFx0Y29uc3Qga2V5ID0gT2JqZWN0LmtleXMocHJvcE9iailbMF07XG5cdFx0XHRcdGNvbnN0IHZhbEFyciA9IHByb3BPYmpba2V5XTsgLy93aWxsIGJlIGFycmF5XG5cdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheSh2YWxBcnIpKSB0aHJvdyBuZXcgRXJyb3IoXCJBIG5vbi1hcnJheSB3YXMgcGFzc2VkIGludG8gYnVpbGRDYW52YXNDb250ZW50c1wiKTtcblx0XHRcdFx0YWRkRWRnZShrZXkpO1xuXHRcdFx0XHRpZiAoaXNHcm91cCh2YWxBcnIpKSByZXR1cm4gYWRkR3JvdXAoa2V5LCB2YWxBcnIpO1xuXHRcdFx0XHQvKiBJZiBpdCdzIG5vdCBhIGdyb3VwLCB0aGUgYXJyYXkgaXMgb2Ygc2l6ZSAxICovXG5cdFx0XHRcdGNvbnN0IHZhbCA9IHZhbEFyclswXTtcblx0XHRcdFx0cmV0dXJuIGFkZE5vZGUodmFsLCBmaXJzdENvbHVtblBvc2l0aW9uKTtcblx0XHRcdH0pXG5cblx0XHRcdHRoaXNGaWxlTm9kZURhdGEueSA9IGN1clkgLyAyIC0gdGhpc0ZpbGVOb2RlRGF0YS5oZWlnaHQgLyAyO1xuXG5cdFx0XHRyZXR1cm4gY2FudmFzQ29udGVudHNcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBNdXRhdGVzIGNhbnZhc0NvbnRlbnRzXG5cdFx0XHQgKiBAcGFyYW0gbGFiZWwgXG5cdFx0XHQgKi9cblx0XHRcdGZ1bmN0aW9uIGFkZEVkZ2UobGFiZWw6IHN0cmluZyk6IHZvaWQge1xuXHRcdFx0XHRlZGdlQ291bnQgPSBlZGdlQ291bnQgKyAxO1xuXHRcdFx0XHRjYW52YXNDb250ZW50cy5lZGdlcy5wdXNoKHtcblx0XHRcdFx0XHRpZDogZWRnZUNvdW50LnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0ZnJvbU5vZGU6ICcwJyxcblx0XHRcdFx0XHRmcm9tU2lkZTogJ3JpZ2h0Jyxcblx0XHRcdFx0XHR0b05vZGU6IChub2RlQ291bnQgKyAxKS50b1N0cmluZygpLFxuXHRcdFx0XHRcdHRvU2lkZTogJ2xlZnQnLFxuXHRcdFx0XHRcdGxhYmVsOiBsYWJlbFxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIE11dGF0ZXMgY2FudmFzQ29udGVudHNcblx0XHRcdCAqIEBwYXJhbSB2YWwgY2FyZCB0ZXh0LCB1cmwsIGZpbGVcblx0XHRcdCAqIEBwYXJhbSB4UG9zIGFsc28gdXNlZCBhcyBhIGZsYWcgZm9yIFwiaXMgdGhpcyBpbiBhIGdyb3VwP1wiXG5cdFx0XHQgKi9cblx0XHRcdGZ1bmN0aW9uIGFkZE5vZGUodmFsOiBzdHJpbmcsIHhQb3M6IG51bWJlcikge1xuXHRcdFx0XHRub2RlQ291bnQgPSBub2RlQ291bnQgKyAxO1xuXHRcdFx0XHRjb25zdCBuZXdOb2RlOiBhbnkgPSB7XG5cdFx0XHRcdFx0aWQ6IG5vZGVDb3VudC50b1N0cmluZygpLFxuXHRcdFx0XHRcdHg6IHhQb3MudG9TdHJpbmcoKSxcblx0XHRcdFx0XHR5OiBjdXJZLnRvU3RyaW5nKClcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaXNGaWxlKHZhbCkpIHtcblx0XHRcdFx0XHRuZXdOb2RlLnR5cGUgPSAnZmlsZSc7XG5cdFx0XHRcdFx0bmV3Tm9kZS5maWxlID0gdmFsLnN1YnN0cmluZygyLCB2YWwubGVuZ3RoIC0gMik7XG5cdFx0XHRcdFx0bmV3Tm9kZS53aWR0aCA9IDQwMDtcblx0XHRcdFx0XHRuZXdOb2RlLmhlaWdodCA9IDQwMDtcblx0XHRcdFx0XHRpZiAodGhhdC5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5ld05vZGUuZmlsZSkgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdC8vbm8gc3VjaCBmaWxlIGV4aXN0cywgc2VhcmNoIGZvciBiZXN0IG1hdGNoXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRvQmFzZUFuZEFsaWFzID0gbmV3Tm9kZS5maWxlLnNwbGl0KCd8Jyk7XG5cdFx0XHRcdFx0XHRjb25zdCBiYXNlID0gc3BsaXRUb0Jhc2VBbmRBbGlhc1swXTtcblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VG9QYXRoQW5kU3VicGF0aCA9IGJhc2Uuc3BsaXQoJyMnKTtcblx0XHRcdFx0XHRcdGNvbnN0IHBhdGggPSBzcGxpdFRvUGF0aEFuZFN1YnBhdGhbMF07XG5cdFx0XHRcdFx0XHRpZihzcGxpdFRvUGF0aEFuZFN1YnBhdGgubGVuZ3RoPjEpIG5ld05vZGUuc3VicGF0aCA9IFwiI1wiICsgc3BsaXRUb1BhdGhBbmRTdWJwYXRoWzFdO1xuXHRcdFx0XHRcdFx0Y29uc3QgZm91bmRGaWxlID0gdGhhdC5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChwYXRoLCBmaWxlLnBhdGgpO1xuXHRcdFx0XHRcdFx0aWYgKGZvdW5kRmlsZSAhPT0gbnVsbCkgbmV3Tm9kZS5maWxlID0gZm91bmRGaWxlLnBhdGg7XG5cdFx0XHRcdFx0XHQvL2Vsc2UganVzdCBsZWF2aW5nIHRoZSBsaW5rIGJyb2tlblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChpc1VSTCh2YWwpKSB7XG5cdFx0XHRcdFx0bmV3Tm9kZS50eXBlID0gJ2xpbmsnO1xuXHRcdFx0XHRcdG5ld05vZGUudXJsID0gdmFsO1xuXHRcdFx0XHRcdG5ld05vZGUud2lkdGggPSA0MDA7XG5cdFx0XHRcdFx0bmV3Tm9kZS5oZWlnaHQgPSA0MDA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV3Tm9kZS50eXBlID0gJ3RleHQnO1xuXHRcdFx0XHRcdG5ld05vZGUudGV4dCA9IHZhbDtcblx0XHRcdFx0XHRuZXdOb2RlLndpZHRoID0gdmFsLmxlbmd0aCA+IDE1ID8gNDAwIDogMjAwO1xuXHRcdFx0XHRcdG5ld05vZGUuaGVpZ2h0ID0gdmFsLmxlbmd0aCA+IDE1ID8gMjAwIDogMTAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0LyogYWRqdXN0IGN1clkgYmFzZWQgb24gaGVpZ2h0IGlmIHRoaXMgaXNuJ3QgYmVpbmcgYWRkZWQgaW4gYSBncm91cCovXG5cdFx0XHRcdGlmICh4UG9zID09PSBmaXJzdENvbHVtblBvc2l0aW9uKSB7XG5cdFx0XHRcdFx0Y3VyWSA9IGN1clkgKyBwYXJzZUludChuZXdOb2RlLmhlaWdodCkgKyA1MDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhbnZhc0NvbnRlbnRzLm5vZGVzLnB1c2gobmV3Tm9kZSBhcyBDYW52YXNUZXh0RGF0YSk7XG5cdFx0XHRcdC8vIFJldHVybmluZyBmb3IgdXNlIGluIFwiYWRkR3JvdXBcIlxuXHRcdFx0XHRyZXR1cm4gbmV3Tm9kZVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBhZGRHcm91cChrZXk6IHN0cmluZywgdmFsQXJyOiBBcnJheTxzdHJpbmc+KSB7XG5cdFx0XHRcdG5vZGVDb3VudCA9IG5vZGVDb3VudCArIDE7XG5cdFx0XHRcdGNvbnN0IG5ld0dyb3VwOiBDYW52YXNHcm91cERhdGEgPSB7XG5cdFx0XHRcdFx0dHlwZTogJ2dyb3VwJyxcblx0XHRcdFx0XHRpZDogbm9kZUNvdW50LnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0eDogZmlyc3RDb2x1bW5Qb3NpdGlvbixcblx0XHRcdFx0XHR5OiBjdXJZLFxuXHRcdFx0XHRcdGxhYmVsOiBrZXksXG5cdFx0XHRcdFx0d2lkdGg6IDUwLFxuXHRcdFx0XHRcdGhlaWdodDogNTBcblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgeFBvcyA9IGZpcnN0Q29sdW1uUG9zaXRpb24gKyA1MDtcblx0XHRcdFx0Y3VyWSA9IGN1clkgKyA1MDtcblx0XHRcdFx0dmFsQXJyLmZvckVhY2godmFsID0+IHtcblx0XHRcdFx0XHRsZXQgbmV3Tm9kZSA9IGFkZE5vZGUodmFsLCB4UG9zKTtcblx0XHRcdFx0XHR4UG9zID0geFBvcyArIG5ld05vZGUud2lkdGggKyA1MDtcblx0XHRcdFx0XHRuZXdHcm91cC53aWR0aCA9IG5ld0dyb3VwLndpZHRoICsgbmV3Tm9kZS53aWR0aCArIDUwO1xuXHRcdFx0XHRcdGlmIChuZXdOb2RlLmhlaWdodCArIDEwMCA+IG5ld0dyb3VwLmhlaWdodCkgbmV3R3JvdXAuaGVpZ2h0ID0gbmV3Tm9kZS5oZWlnaHQgKyAxMDBcblx0XHRcdFx0fSlcblx0XHRcdFx0Y3VyWSA9IGN1clkgKyBuZXdHcm91cC5oZWlnaHQ7XG5cdFx0XHRcdGNhbnZhc0NvbnRlbnRzLm5vZGVzLnB1c2gobmV3R3JvdXApO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBpc0dyb3VwKHZhbDogQXJyYXk8c3RyaW5nPikge1xuXHRcdFx0XHRyZXR1cm4gdmFsLmxlbmd0aCA+IDE7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGlzRmlsZSh2YWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdFx0XHRpZiAodmFsLnN1YnN0cmluZygwLCAyKSAhPT0gJ1tbJykgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZiAodmFsLnN1YnN0cmluZyh2YWwubGVuZ3RoIC0gMikgIT09ICddXScpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWYgKHZhbC5zcGxpdCgnW1snKS5sZW5ndGggIT09IDIpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gaXNVUkwodmFsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRcdFx0aWYgKHZhbC50b1VwcGVyQ2FzZSgpLnN1YnN0cmluZygwLCA0KSAhPT0gJ0hUVFAnKSByZXR1cm4gZmFsc2Vcblx0XHRcdFx0aWYgKCF2YWwuY29udGFpbnMoJy8vJykpIHJldHVybiBmYWxzZVxuXHRcdFx0XHRpZiAodmFsLmxlbmd0aCA8IDgpIHJldHVybiBmYWxzZVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVNhdmVQYXRoQmFzZWRPblNldHRpbmdzKGZpbGU6IFRGaWxlLCB0aGF0OiBTZW1hbnRpY0NhbnZhc1BsdWdpbik6IHN0cmluZyB7XG5cdFx0XHRsZXQgbG9jYXRpb24gPSAnJztcblx0XHRcdHN3aXRjaCAodGhhdC5zZXR0aW5ncy5uZXdGaWxlTG9jYXRpb24pIHtcblx0XHRcdFx0Y2FzZSBMb2NhdGlvbi5TYW1lRm9sZGVyOlxuXHRcdFx0XHRcdGxvY2F0aW9uID0gZmlsZS5wYXJlbnQhLnBhdGg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgTG9jYXRpb24uU3BlY2lmaWVkRm9sZGVyOlxuXHRcdFx0XHRcdGNvbnN0IGZpbGVMb2NhdGlvbkV4aXN0cyA9IHRoYXQuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGF0LnNldHRpbmdzLmN1c3RvbUZpbGVMb2NhdGlvbikgIT09IG51bGw7XG5cdFx0XHRcdFx0aWYgKGZpbGVMb2NhdGlvbkV4aXN0cykge1xuXHRcdFx0XHRcdFx0bG9jYXRpb24gPSB0aGF0LnNldHRpbmdzLmN1c3RvbUZpbGVMb2NhdGlvbjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShcblx0XHRcdFx0XHRcdFx0YGZvbGRlciAke3RoYXQuc2V0dGluZ3MuY3VzdG9tRmlsZUxvY2F0aW9ufSBkb2VzIG5vdCBleGlzdCwgY3JlYXRpbmcgaW4gcm9vdCBmb2xkZXJgXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGxldCBjYW52YXNQYXRoID0gbmFtZSArICcuY2FudmFzJztcblx0XHRcdGlmIChsb2NhdGlvbiAhPT0gJycpIGNhbnZhc1BhdGggPSBsb2NhdGlvbiArIFwiL1wiICsgY2FudmFzUGF0aDtcblx0XHRcdC8qIElmIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLCBrZWVwIGFwcGVuZGluZyBcIihuZXcpXCIgdW50aWwgaXQncyB1bmlxdWUgKi9cblx0XHRcdHdoaWxlICh0aGF0LmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoY2FudmFzUGF0aCkgIT09IG51bGwpIHtcblx0XHRcdFx0Y2FudmFzUGF0aCA9IGNhbnZhc1BhdGguc3Vic3RyaW5nKDAsIGNhbnZhc1BhdGgubGVuZ3RoIC0gNykgKyBcIiAobmV3KS5jYW52YXNcIlxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNhbnZhc1BhdGhcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG1haW4gZnVuY3Rpb24gZm9yIHVzaW5nIGFuIGV4aXN0aW5nIGNhbnZhcyB0byB1cGRhdGUgbm90ZSBwcm9wZXJ0aWVzLlxuXHQgKiBAcGFyYW0gb3ZlcndyaXRlIGB0cnVlYCB3aWxsIG92ZXJ3cml0ZSBleGlzdGluZyB2YWx1ZXMgZm9yIGtleXNcblx0ICovXG5cdGFzeW5jIHB1c2hDYW52YXNUb05vdGVQcm9wZXJ0aWVzKG92ZXJ3cml0ZTogYm9vbGVhbikge1xuXHRcdGxldCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRpZiAoIWZpbGUgfHwgZmlsZT8uZXh0ZW5zaW9uICE9PSAnY2FudmFzJykge1xuXHRcdFx0bmV3IE5vdGljZSgnQWJvcnRlZDogQWN0aXZlIGZpbGUgaXMgbm90IENhbnZhcycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBkYXRhID0gYXdhaXQgU2VtYW50aWNDYW52YXNQbHVnaW4uZ2V0Q2FudmFzTWFwKGZpbGUpO1xuXG5cdFx0aWYgKCFkYXRhKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdBYm9ydGVkOiBObyBDYW52YXMgZGF0YSBmb3VuZCcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBmaWxlTm9kZXMgPSBkYXRhPy5maWxlcz8ubWFwKGZpbGUgPT4gbmV3IEZpbGVOb2RlKGZpbGUsIGRhdGEhLCB0aGlzLnNldHRpbmdzLCB0aGlzLmFwcCkpO1xuXG5cdFx0LyogRGUtZHVwZSAtIGlmIHNhbWUgZmlsZSB3YXMgb24gYSBjYW52YXMgbXVsdGlwbGUgdGltZXMgKi9cblx0XHRsZXQgZGVkdXBlZEZpbGVOb2RlczogRmlsZU5vZGVbXSA9IFtdO1xuXHRcdGZpbGVOb2Rlcz8uZm9yRWFjaChmaWxlTm9kZSA9PiB7XG5cdFx0XHRpZiAoZmlsZU5vZGUucHJvcHNUb1NldCA9PT0gbnVsbCkgcmV0dXJuXG5cblx0XHRcdGxldCBleGlzdGluZyA9IGRlZHVwZWRGaWxlTm9kZXM/LmZpbmQob2dOb2RlTGlzdCA9PiBvZ05vZGVMaXN0LmZpbGVQYXRoID09PSBmaWxlTm9kZS5maWxlUGF0aCk7XG5cblx0XHRcdGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGRlZHVwZWRGaWxlTm9kZXMucHVzaChmaWxlTm9kZSk7XG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fVxuXG5cdFx0XHRleGlzdGluZy5wcm9wc1RvU2V0ID0gbWVyZ2VQcm9wcyhleGlzdGluZy5wcm9wc1RvU2V0LCBmaWxlTm9kZS5wcm9wc1RvU2V0KTtcblx0XHR9KVxuXG5cdFx0LyogUmVtb3ZlIGFueSB1bmFmZmVjdGVkIG5vZGVzIGJlZm9yZSBzZWVraW5nIGZpbGVzICovXG5cdFx0ZGVkdXBlZEZpbGVOb2RlcyA9IGRlZHVwZWRGaWxlTm9kZXMuZmlsdGVyKGZpbGVOb2RlID0+IGZpbGVOb2RlLnByb3BzVG9TZXQgJiYgT2JqZWN0LmtleXMoZmlsZU5vZGUucHJvcHNUb1NldCkubGVuZ3RoID4gMCk7XG5cblx0XHRsZXQgYWN0dWFsRmlsZXNNYXA6IEFycmF5PGFueT4gPSBkZWR1cGVkRmlsZU5vZGVzLm1hcChmaWxlTm9kZSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRmaWxlOiB0aGlzLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKGZpbGVOb2RlLmZpbGVQYXRoKSxcblx0XHRcdFx0cHJvcHM6IGZpbGVOb2RlLnByb3BzVG9TZXRcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qIFJlbW92ZSBhbnkgbm9uLW1hcmtkb3duIGZpbGVzIGJlZm9yZSBzZXR0aW5nIHByb3BlcnRpZXMgKi9cblx0XHRhY3R1YWxGaWxlc01hcCA9IGFjdHVhbEZpbGVzTWFwLmZpbHRlcihmaWxlTWFwID0+IGZpbGVNYXAuZmlsZT8uZXh0ZW5zaW9uID09PSAnbWQnKTtcblxuXHRcdGxldCBwcm9wZXJ0eUFkZENvdW50ID0gMDtcblx0XHRhY3R1YWxGaWxlc01hcC5mb3JFYWNoKGZpbGVNYXAgPT4ge1xuXHRcdFx0cHJvcGVydHlBZGRDb3VudCA9IHByb3BlcnR5QWRkQ291bnQgKyBPYmplY3Qua2V5cyhmaWxlTWFwLnByb3BzKS5sZW5ndGhcblx0XHR9KVxuXG5cdFx0bGV0IG1vZGlmaWVkRmlsZUNvdW50ID0gYWN0dWFsRmlsZXNNYXAubGVuZ3RoO1xuXG5cdFx0YWN0dWFsRmlsZXNNYXAuZm9yRWFjaChmaWxlTWFwID0+IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihmaWxlTWFwLmZpbGUsIChmcm9udG1hdHRlcikgPT4ge1xuXHRcdFx0LyogaGF2ZSB0byBkaXJlY3RseSBtdXRhdGUgdGhpcyBvYmplY3QsIGEgYml0IHRlZGlvdXMgKi9cblx0XHRcdE9iamVjdC5rZXlzKGZpbGVNYXAucHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRcdFx0aWYgKG92ZXJ3cml0ZSB8fCAhZnJvbnRtYXR0ZXIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGZyb250bWF0dGVyW2tleV0gPSBmaWxlTWFwLnByb3BzW2tleV07XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL2ZvcmNlIGFycmF5XG5cdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheShmcm9udG1hdHRlcltrZXldKSkgZnJvbnRtYXR0ZXJba2V5XSA9IFtmcm9udG1hdHRlcltrZXldXTtcblx0XHRcdFx0LyogRG9uJ3QgYWRkIGR1cGxpY2F0ZSB2YWx1ZXMgdG8gZXhpc3RpbmcgcHJvcHMgKi9cblx0XHRcdFx0ZmlsZU1hcC5wcm9wc1trZXldID0gZmlsZU1hcC5wcm9wc1trZXldLmZpbHRlcigodmFsOiBhbnkpID0+ICFmcm9udG1hdHRlcltrZXldLnNvbWUoKG9nOiBhbnkpID0+IG9nID09PSB2YWwpKVxuXHRcdFx0XHRmcm9udG1hdHRlcltrZXldID0gWy4uLmZyb250bWF0dGVyW2tleV0sIC4uLmZpbGVNYXAucHJvcHNba2V5XV07XG5cdFx0XHR9KVxuXG5cdFx0fSkpO1xuXG5cdFx0aWYgKG1vZGlmaWVkRmlsZUNvdW50ID4gMCkge1xuXHRcdFx0bmV3IE5vdGljZShgU3VjY2Vzc2Z1bGx5IHNldCAke3Byb3BlcnR5QWRkQ291bnR9IHByb3AocykgaW4gJHttb2RpZmllZEZpbGVDb3VudH0gZmlsZShzKWApXG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ldyBOb3RpY2UoYE5vIG5vdGVzIGNvbm5lY3Rpb25zIGZvdW5kIG9uIGNhbnZhcy5gKVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG1lcmdlUHJvcHMoYTogYW55LCBiOiBhbnkpIHtcblx0XHRcdE9iamVjdC5rZXlzKGIpLmZvckVhY2goa2V5ID0+IHtcblx0XHRcdFx0aWYgKGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGFba2V5XSA9IFsuLi5hW2tleV0sIC4uLmJba2V5XV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YVtrZXldID0gYltrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuIGE7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGFzeW5jIGdldENhbnZhc0RhdGEoZmlsZTogVEZpbGUgfCBudWxsKTogUHJvbWlzZTxSYXdDYW52YXNPYmogfCB1bmRlZmluZWQ+IHtcblx0XHRpZiAoZmlsZSA9PT0gbnVsbCB8fCBmaWxlLmV4dGVuc2lvbiAhPT0gJ2NhbnZhcycpIHJldHVybjtcblx0XHRsZXQgcmF3Q2FudmFzVGV4dCA9IGF3YWl0IGZpbGUudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcblx0XHRsZXQgY2FudmFzID0gSlNPTi5wYXJzZShyYXdDYW52YXNUZXh0KTtcblx0XHRyZXR1cm4gY2FudmFzIVxuXHR9XG5cblx0c3RhdGljIGdldENhbnZhc05vZGVzKGRhdGE6IFJhd0NhbnZhc09iaik6IENhbnZhc01hcCB8IHVuZGVmaW5lZCB7XG5cdFx0aWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcblx0XHRsZXQgbWFwOiBDYW52YXNOb2RlTWFwID0ge1xuXHRcdFx0Y2FyZHM6ICg8Q2FudmFzVGV4dERhdGFbXT5kYXRhLm5vZGVzLmZpbHRlcigobm9kZSkgPT4gbm9kZS50eXBlID09ICd0ZXh0JykpLFxuXHRcdFx0ZmlsZXM6ICg8Q2FudmFzRmlsZURhdGFbXT5kYXRhLm5vZGVzLmZpbHRlcigobm9kZSkgPT4gbm9kZS50eXBlID09ICdmaWxlJykpLFxuXHRcdFx0dXJsczogKDxDYW52YXNMaW5rRGF0YVtdPmRhdGEubm9kZXMuZmlsdGVyKChub2RlKSA9PiBub2RlLnR5cGUgPT0gJ2xpbmsnKSksXG5cdFx0XHRncm91cHM6ICg8Q2FudmFzR3JvdXBEYXRhW10+ZGF0YS5ub2Rlcy5maWx0ZXIoKG5vZGUpID0+IG5vZGUudHlwZSA9PSAnZ3JvdXAnKSksXG5cdFx0fVxuXG5cdFx0LyogRmluZCB3aG9sbHktY29udGFpbmVkIGZpbGUtdHlwZSBub2RlcyAmIGFkZCB0byBncm91cCAqL1xuXHRcdG1hcC5ncm91cHM/LmZvckVhY2goKGdyb3VwKSA9PiB7XG5cdFx0XHRncm91cC5jb250YWluZWROb2RlcyA9IFtdIGFzIENhbnZhc05vZGVEYXRhW107XG5cdFx0XHRtYXAuZmlsZXM/LmZvckVhY2goKGZpbGUpID0+IHtcblx0XHRcdFx0aWYgKGdyb3VwQ29udGFpbnNOb2RlKGdyb3VwLCBmaWxlKSkge1xuXHRcdFx0XHRcdGdyb3VwLmNvbnRhaW5lZE5vZGVzLnB1c2goZmlsZSk7XG5cdFx0XHRcdFx0aWYgKGZpbGUuaGFzT3duUHJvcGVydHkoJ2luR3JvdXBzJykpIHtcblx0XHRcdFx0XHRcdGZpbGUuaW5Hcm91cHMucHVzaChncm91cClcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZmlsZS5pbkdyb3VwcyA9IFtncm91cF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0bWFwLmNhcmRzPy5mb3JFYWNoKChjYXJkcykgPT4ge1xuXHRcdFx0XHRpZiAoZ3JvdXBDb250YWluc05vZGUoZ3JvdXAsIGNhcmRzKSkge1xuXHRcdFx0XHRcdGdyb3VwLmNvbnRhaW5lZE5vZGVzLnB1c2goY2FyZHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0bWFwLnVybHM/LmZvckVhY2goKHVybHMpID0+IHtcblx0XHRcdFx0aWYgKGdyb3VwQ29udGFpbnNOb2RlKGdyb3VwLCB1cmxzKSkge1xuXHRcdFx0XHRcdGdyb3VwLmNvbnRhaW5lZE5vZGVzLnB1c2godXJscyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSlcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgR3JvdXAncyBvdXRlciBib3VuZHMgd2hvbGx5IGNvbnRhaW4gdGhlIGZpbGUncyBvdXRlciBib3VuZHMuXG5cdFx0ICogTWltaWNrcyB0aGUgYmVoYXZpb3IgaW4gT2JzaWRpYW5cblx0XHQgKiBAcGFyYW0gZ3JvdXAgXG5cdFx0ICogQHBhcmFtIG5vZGUgXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ3JvdXBDb250YWluc05vZGUoZ3JvdXA6IENhbnZhc0dyb3VwRGF0YSwgbm9kZTogQ2FudmFzTm9kZURhdGEpOiBib29sZWFuIHtcblx0XHRcdGlmIChncm91cC55ID4gbm9kZS55KSByZXR1cm4gZmFsc2Vcblx0XHRcdGlmIChncm91cC55ICsgZ3JvdXAuaGVpZ2h0IDwgbm9kZS55ICsgbm9kZS5oZWlnaHQpIHJldHVybiBmYWxzZVxuXHRcdFx0aWYgKGdyb3VwLnggPiBub2RlLngpIHJldHVybiBmYWxzZVxuXHRcdFx0aWYgKGdyb3VwLnggKyBncm91cC53aWR0aCA8IG5vZGUueCArIG5vZGUud2lkdGgpIHJldHVybiBmYWxzZVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hcDtcblx0fVxuXG5cdHN0YXRpYyBnZXRDYW52YXNFZGdlcyhkYXRhOiBSYXdDYW52YXNPYmopOiBDYW52YXNFZGdlRGF0YVtdIHwgdW5kZWZpbmVkIHtcblx0XHRpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuXHRcdGRhdGEuZWRnZXMuZm9yRWFjaChlZGdlID0+IHtcblx0XHRcdGVkZ2UuaXNCaWRpcmVjdGlvbmFsID0gKGVkZ2UuZnJvbUVuZCA9PT0gJ2Fycm93JyB8fCBlZGdlLnRvRW5kID09PSAnbm9uZScpXG5cdFx0fSlcblx0XHRyZXR1cm4gZGF0YS5lZGdlc1xuXHR9XG5cblx0c3RhdGljIGFzeW5jIGdldENhbnZhc01hcChmaWxlOiBURmlsZSB8IG51bGwpOiBQcm9taXNlPENhbnZhc01hcCB8IHVuZGVmaW5lZD4ge1xuXHRcdGlmICghZmlsZSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuXHRcdGNvbnN0IGNhbnZhc0RhdGEgPSBhd2FpdCBTZW1hbnRpY0NhbnZhc1BsdWdpbi5nZXRDYW52YXNEYXRhKGZpbGUpO1xuXHRcdGlmICghY2FudmFzRGF0YSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuXHRcdGxldCBtYXAgPSBTZW1hbnRpY0NhbnZhc1BsdWdpbi5nZXRDYW52YXNOb2RlcyhjYW52YXNEYXRhKVxuXHRcdGlmICghbWFwKSByZXR1cm4gdW5kZWZpbmVkO1xuXG5cdFx0bGV0IGVkZ2VzID0gU2VtYW50aWNDYW52YXNQbHVnaW4uZ2V0Q2FudmFzRWRnZXMoY2FudmFzRGF0YSlcblx0XHRtYXAhLmVkZ2VzID0gZWRnZXMgYXMgdW5rbm93biBhcyBBcnJheTxDYW52YXNFZGdlRGF0YSAmIHsgaXNCaWRpcmVjdGlvbmFsOiBib29sZWFuIH0+O1xuXG5cdFx0ZWRnZXM/LmZvckVhY2goZWRnZSA9PiB7XG5cdFx0XHRjb25zdCB0b1R5cGUgPSBnZXRUeXBlT2ZOb2RlQnlJZChlZGdlLnRvTm9kZSk7XG5cblx0XHRcdGlmICh0b1R5cGUgPT09ICdncm91cCcpIHtcblx0XHRcdFx0LyogY3JlYXRlIHBoYW50b20gZWRnZXMgdG8gZ3JvdXAgY29udGVudHMgKi9cblx0XHRcdFx0bGV0IGdyb3VwID0gbWFwPy5ncm91cHM/LmZpbmQoZyA9PiBnLmlkID09PSBlZGdlLnRvTm9kZSk7XG5cdFx0XHRcdGlmICghZ3JvdXApIHRocm93IG5ldyBFcnJvcignVW5tYXRjaGVkIGdyb3VwLiBJRDogJyArIGVkZ2UudG9Ob2RlKTtcblx0XHRcdFx0bWFrZVBoYW50b21Qcm9wYWdhdGVkRWRnZXNUb0dyb3VwQ29udGVudHMoZ3JvdXAhLCBlZGdlKTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0cmV0dXJuIG1hcFxuXG5cdFx0ZnVuY3Rpb24gZ2V0VHlwZU9mTm9kZUJ5SWQobm9kZUlkOiBzdHJpbmcpIHtcblx0XHRcdGlmIChtYXA/LmNhcmRzPy5zb21lKGNhcmQgPT4gY2FyZC5pZCA9PT0gbm9kZUlkKSkgcmV0dXJuICdjYXJkJ1xuXHRcdFx0aWYgKG1hcD8uZmlsZXM/LnNvbWUoZmlsZSA9PiBmaWxlLmlkID09PSBub2RlSWQpKSByZXR1cm4gJ2ZpbGUnXG5cdFx0XHRpZiAobWFwPy51cmxzPy5zb21lKHVybCA9PiB1cmwuaWQgPT09IG5vZGVJZCkpIHJldHVybiAndXJsJ1xuXHRcdFx0aWYgKG1hcD8uZ3JvdXBzPy5zb21lKGdyb3VwID0+IGdyb3VwLmlkID09PSBub2RlSWQpKSByZXR1cm4gJ2dyb3VwJ1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyB0eXBlIGZvdW5kIGZvciBpZDogJyArIG5vZGVJZCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTXV0YXRlcyB0aGUgbWFwIHRvIHNldCBpdHMgZWRnZXMgcHJvcGVydHkgdG8gdGhlIHBhc3NlZC1pbiBlZGdlcyBBTkRcblx0XHQgKiB0aGUgXCJwaGFudG9tXCIgZWRnZXMgY3JlYXRlZCBieSBsaW5rcy10by1ncm91cHMuXG5cdFx0ICogQHBhcmFtIG1hcCBcblx0XHQgKiBAcGFyYW0gZWRnZXMgXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gbWFrZVBoYW50b21Qcm9wYWdhdGVkRWRnZXNUb0dyb3VwQ29udGVudHMoZ3JvdXA6IENhbnZhc0dyb3VwRGF0YSwgZWRnZTogQ2FudmFzRWRnZURhdGEpIHtcblx0XHRcdGdyb3VwLmNvbnRhaW5lZE5vZGVzLmZvckVhY2goKG5vZGU6IENhbnZhc05vZGVEYXRhKSA9PiB7XG5cdFx0XHRcdGlmIChub2RlLnR5cGUgPT09ICdncm91cCcpIHJldHVybiAvL2lmIGEgZ3JvdXAgY29udGFpbnMgYW5vdGhlciBncm91cCwgdGhhdCBncm91cCBub2RlIGNhbiBiZSBpZ25vcmVkXG5cblx0XHRcdFx0Y29uc3QgbmV3RWRnZTogQ2FudmFzRWRnZURhdGEgPSB7XG5cdFx0XHRcdFx0aWQ6IGVkZ2UuaWQgKyAnLXBoYW50b20nLFxuXHRcdFx0XHRcdGZyb21Ob2RlOiBlZGdlLmZyb21Ob2RlLFxuXHRcdFx0XHRcdGZyb21TaWRlOiAncmlnaHQnLCAvL2RvZXNuJ3QgbWF0dGVyXG5cdFx0XHRcdFx0dG9Ob2RlOiBub2RlLmlkLFxuXHRcdFx0XHRcdHRvU2lkZTogJ2xlZnQnLCAvL2RvZXNuJ3QgbWF0dGVyXG5cdFx0XHRcdFx0bGFiZWw6IGVkZ2UuaGFzT3duUHJvcGVydHkoJ2xhYmVsJykgPyBlZGdlLmxhYmVsIDogZ3JvdXAubGFiZWxcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVkZ2VzPy5wdXNoKG5ld0VkZ2UpO1xuXHRcdFx0fSlcblx0XHR9XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHQvL25vdGhpbmcgdG8gZG9cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmNsYXNzIFNlbWFudGljQ2FudmFzU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBTZW1hbnRpY0NhbnZhc1BsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBTZW1hbnRpY0NhbnZhc1BsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdC8qIENsZWFyIGV4aXN0aW5nIGNvbnRlbnQsIGlmIGFueSAqL1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdOb3RlIFx1MjE5MiBjcmVhdGUgY2FudmFzJyB9KTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdEZWZhdWx0IGxvY2F0aW9uIGZvciBuZXcgY2FudmFzIGZpbGVzJylcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcERvd24pID0+IHtcblx0XHRcdFx0ZHJvcERvd25cblx0XHRcdFx0XHQuYWRkT3B0aW9uKExvY2F0aW9uW0xvY2F0aW9uLlZhdWx0Rm9sZGVyXSwgJ1ZhdWx0IGZvbGRlcicpXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcblx0XHRcdFx0XHRcdExvY2F0aW9uW0xvY2F0aW9uLlNhbWVGb2xkZXJdLFxuXHRcdFx0XHRcdFx0J1NhbWUgZm9sZGVyIGFzIGN1cnJlbnQgZmlsZSdcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcblx0XHRcdFx0XHRcdExvY2F0aW9uW0xvY2F0aW9uLlNwZWNpZmllZEZvbGRlcl0sXG5cdFx0XHRcdFx0XHQnSW4gdGhlIGZvbGRlciBzcGVjaWZpZWQgYmVsb3cnXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShcblx0XHRcdFx0XHRcdExvY2F0aW9uW3RoaXMucGx1Z2luLnNldHRpbmdzLm5ld0ZpbGVMb2NhdGlvbl0gfHxcblx0XHRcdFx0XHRcdExvY2F0aW9uW0xvY2F0aW9uLlZhdWx0Rm9sZGVyXVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5uZXdGaWxlTG9jYXRpb24gPVxuXHRcdFx0XHRcdFx0XHRMb2NhdGlvblt2YWx1ZSBhcyBrZXlvZiB0eXBlb2YgTG9jYXRpb25dO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5uZXdGaWxlTG9jYXRpb24gPT0gTG9jYXRpb24uU3BlY2lmaWVkRm9sZGVyKSB7XG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUoJ0ZvbGRlciB0byBjcmVhdGUgbmV3IGNhbnZhcyBmaWxlcyBpbicpXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG5cdFx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFeGFtcGxlOiBmb2xkZXIgMS9mb2xkZXIgMicpXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tRmlsZUxvY2F0aW9uKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21GaWxlTG9jYXRpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnQ2FudmFzIFx1MjE5MiBzZXQgbm90ZSBwcm9wZXJ0aWVzJyB9KTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdUb2dnbGUgcHJvcGVydHkgc2V0dGluZyBwZXIgdHlwZScgfSk7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnU2V0IG5vdGUgcHJvcGVydGllcyBmb3IgY29ubmVjdGlvbnMgdG8gY2FyZHMgJylcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0OiB0cnVlJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlQ2FyZHMpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VDYXJkcyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTZXQgbm90ZSBwcm9wZXJ0aWVzIGZvciBjb25uZWN0aW9ucyB0byB1cmxzJylcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0OiB0cnVlJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlVXJscylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVVybHMgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnU2V0IG5vdGUgcHJvcGVydGllcyBmb3IgY29ubmVjdGlvbnMgdG8gZmlsZXMnKVxuXHRcdFx0LnNldERlc2MoJ0RlZmF1bHQ6IHRydWUnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VGaWxlcylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZUZpbGVzID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1NldCBub3RlIHByb3BlcnRpZXMgYmFzZWQgb24gY29udGFpbm1lbnQgaW4gZ3JvdXBzJylcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0OiB0cnVlJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlR3JvdXBzKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlR3JvdXBzID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0RlZmF1bHQgcHJvcGVydHkga2V5cyBmb3IgdW5sYWJlbGVkIGNvbm5lY3Rpb25zJyB9KTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdQcm9wZXJ0eSBrZXkgZm9yIHVubGFiZWxlZCBjb25uZWN0aW9ucyB0bzogY2FyZHMnKVxuXHRcdFx0LnNldERlc2MoJ0xlYXZlIGJsYW5rIHRvIG9ubHkgY3JlYXRlIHByb3BlcnRpZXMgZm9yIGxhYmVsZWQgZWRnZXMuIERlZmF1bHQ6IGNhcmRzJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHQgY2FyZHMga2V5Li4uJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmREZWZhdWx0KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FyZERlZmF1bHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnUHJvcGVydHkga2V5IGZvciB1bmxhYmVsZWQgY29ubmVjdGlvbnMgdG86IHVybHMnKVxuXHRcdFx0LnNldERlc2MoJ0xlYXZlIGJsYW5rIHRvIG9ubHkgY3JlYXRlIHByb3BlcnRpZXMgZm9yIGxhYmVsZWQgZWRnZXMuIERlZmF1bHQ6IHVybHMnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdCB1cmxzIGtleS4uLicpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51cmxEZWZhdWx0KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXJsRGVmYXVsdCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdQcm9wZXJ0eSBrZXkgZm9yIHVubGFiZWxlZCBjb25uZWN0aW9ucyB0bzogZmlsZXMnKVxuXHRcdFx0LnNldERlc2MoJ0xlYXZlIGJsYW5rIHRvIG9ubHkgY3JlYXRlIHByb3BlcnRpZXMgZm9yIGxhYmVsZWQgZWRnZXMuIERlZmF1bHQ6IGZpbGVzJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHQgZmlsZXMga2V5Li4uJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpbGVEZWZhdWx0KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZURlZmF1bHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnUHJvcGVydHkga2V5cyBmb3IgZ3JvdXAgY29udGFpbm1lbnQnIH0pO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1Byb3BlcnR5IGtleSBmb3IgZ3JvdXBzJylcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0OiBncm91cHMnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdCBncm91cHMga2V5Li4uJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdyb3VwRGVmYXVsdClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdyb3VwRGVmYXVsdCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cblxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQWlJO0FBa0IxSCxJQUFLLFdBQUwsa0JBQUtBLGNBQUw7QUFDTixFQUFBQSxvQkFBQTtBQUNBLEVBQUFBLG9CQUFBO0FBQ0EsRUFBQUEsb0JBQUE7QUFIVyxTQUFBQTtBQUFBLEdBQUE7QUErQlosSUFBTSxtQkFBaUQ7QUFBQSxFQUN0RCxpQkFBaUI7QUFBQSxFQUNqQixvQkFBb0I7QUFBQTtBQUFBLEVBRXBCLGFBQWE7QUFBQSxFQUNiLGFBQWE7QUFBQSxFQUNiLFlBQVk7QUFBQTtBQUFBLEVBRVosY0FBYztBQUFBO0FBQUEsRUFFZCxVQUFVO0FBQUEsRUFDVixTQUFT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LEtBQUssT0FBTyxTQUFTLFVBQVUsRUFDeEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsYUFBYTtBQUNsQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRUosUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsa0RBQWtELEVBQzFELFFBQVEseUVBQXlFLEVBQ2pGLFFBQVEsVUFBUSxLQUNmLGVBQWUsc0JBQXNCLEVBQ3JDLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFFSixnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQzFFLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLHlCQUF5QixFQUNqQyxRQUFRLGlCQUFpQixFQUN6QixRQUFRLFVBQVEsS0FDZixlQUFlLHVCQUF1QixFQUN0QyxTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBQUEsRUFDTDtBQUNEOyIsCiAgIm5hbWVzIjogWyJMb2NhdGlvbiIsICJfYSIsICJmaWxlIiwgImNhbnZhc0NvbnRlbnRzIiwgInRoYXQiXQp9Cg==
