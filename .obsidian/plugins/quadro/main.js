/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Tl=Object.create;var At=Object.defineProperty;var Sl=Object.getOwnPropertyDescriptor;var Cl=Object.getOwnPropertyNames;var kl=Object.getPrototypeOf,Dl=Object.prototype.hasOwnProperty;var Ml=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),bl=(a,n)=>{for(var o in n)At(a,o,{get:n[o],enumerable:!0})},Wr=(a,n,o,d)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of Cl(n))!Dl.call(a,c)&&c!==o&&At(a,c,{get:()=>n[c],enumerable:!(d=Sl(n,c))||d.enumerable});return a};var Rr=(a,n,o)=>(o=a!=null?Tl(kl(a)):{},Wr(n||!a||!a.__esModule?At(o,"default",{value:a,enumerable:!0}):o,a)),Ol=a=>Wr(At({},"__esModule",{value:!0}),a);var Os=Ml((bs,Ze)=>{(function(a,n){typeof bs=="object"&&typeof Ze<"u"?Ze.exports=n():typeof define=="function"&&define.amd?define(n):a.moment=n()})(bs,function(){"use strict";var a;function n(){return a.apply(null,arguments)}function o(e){a=e}function d(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function f(e){return e===void 0}function g(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function F(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){var s=[],r,i=e.length;for(r=0;r<i;++r)s.push(t(e[r],r));return s}function T(e,t){for(var s in t)u(t,s)&&(e[s]=t[s]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function S(e,t,s,r){return pr(e,t,s,r,!0).utc()}function Y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=Y()),e._pf}var W;Array.prototype.some?W=Array.prototype.some:W=function(e){var t=Object(this),s=t.length>>>0,r;for(r=0;r<s;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Q(e){if(e._isValid==null){var t=w(e),s=W.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function j(e){var t=S(NaN);return e!=null?T(w(t),e):w(t).userInvalidated=!0,t}var se=n.momentProperties=[],U=!1;function ue(e,t){var s,r,i,l=se.length;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=w(t)),f(t._locale)||(e._locale=t._locale),l>0)for(s=0;s<l;s++)r=se[s],i=t[r],f(i)||(e[r]=i);return e}function ae(e){ue(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U===!1&&(U=!0,n.updateOffset(this),U=!1)}function q(e){return e instanceof ae||e!=null&&e._isAMomentObject!=null}function We(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var s=!0;return T(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),s){var r=[],i,l,h,v=arguments.length;for(l=0;l<v;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(h in arguments[0])u(arguments[0],h)&&(i+=h+": "+arguments[0][h]+", ");i=i.slice(0,-2)}else i=arguments[l];r.push(i)}We(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var Re={};function Bs(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),Re[e]||(We(t),Re[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function oe(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Sn(e){var t,s;for(s in e)u(e,s)&&(t=e[s],oe(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ts(e,t){var s=T({},e),r;for(r in t)u(t,r)&&(c(e[r])&&c(t[r])?(s[r]={},T(s[r],e[r]),T(s[r],t[r])):t[r]!=null?s[r]=t[r]:delete s[r]);for(r in e)u(e,r)&&!u(t,r)&&c(e[r])&&(s[r]=T({},s[r]));return s}function ss(e){e!=null&&this.set(e)}var rs;Object.keys?rs=Object.keys:rs=function(e){var t,s=[];for(t in e)u(e,t)&&s.push(t);return s};var Cn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kn(e,t,s){var r=this._calendar[e]||this._calendar.sameElse;return oe(r)?r.call(t,s):r}function le(e,t,s){var r=""+Math.abs(e),i=t-r.length,l=e>=0;return(l?s?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var ns=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,is={},Ae={};function _(e,t,s,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Ae[e]=i),t&&(Ae[t[0]]=function(){return le(i.apply(this,arguments),t[1],t[2])}),s&&(Ae[s]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Dn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Mn(e){var t=e.match(ns),s,r;for(s=0,r=t.length;s<r;s++)Ae[t[s]]?t[s]=Ae[t[s]]:t[s]=Dn(t[s]);return function(i){var l="",h;for(h=0;h<r;h++)l+=oe(t[h])?t[h].call(i,e):t[h];return l}}function wt(e,t){return e.isValid()?(t=Gs(t,e.localeData()),is[t]=is[t]||Mn(t),is[t](e)):e.localeData().invalidDate()}function Gs(e,t){var s=5;function r(i){return t.longDateFormat(i)||i}for(gt.lastIndex=0;s>=0&&gt.test(e);)e=e.replace(gt,r),gt.lastIndex=0,s-=1;return e}var bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function On(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(ns).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var En="Invalid date";function In(){return this._invalidDate}var Pn="%d",Yn=/\d{1,2}/;function Ln(e){return this._ordinal.replace("%d",e)}var Nn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Wn(e,t,s,r){var i=this._relativeTime[s];return oe(i)?i(e,t,s,r):i.replace(/%d/i,e)}function Rn(e,t){var s=this._relativeTime[e>0?"future":"past"];return oe(s)?s(t):s.replace(/%s/i,t)}var rt={};function $(e,t){var s=e.toLowerCase();rt[s]=rt[s+"s"]=rt[t]=e}function ee(e){return typeof e=="string"?rt[e]||rt[e.toLowerCase()]:void 0}function as(e){var t={},s,r;for(r in e)u(e,r)&&(s=ee(r),s&&(t[s]=e[r]));return t}var zs={};function H(e,t){zs[e]=t}function An(e){var t=[],s;for(s in e)u(e,s)&&t.push({unit:s,priority:zs[s]});return t.sort(function(r,i){return r.priority-i.priority}),t}function _t(e){return e%4===0&&e%100!==0||e%400===0}function te(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function k(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=te(t)),s}function Ue(e,t){return function(s){return s!=null?(Ks(this,e,s),n.updateOffset(this,t),this):vt(this,e)}}function vt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ks(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&_t(e.year())&&e.month()===1&&e.date()===29?(s=k(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),Dt(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function Un(e){return e=ee(e),oe(this[e])?this[e]():this}function $n(e,t){if(typeof e=="object"){e=as(e);var s=An(e),r,i=s.length;for(r=0;r<i;r++)this[s[r].unit](e[s[r].unit])}else if(e=ee(e),oe(this[e]))return this[e](t);return this}var Zs=/\d/,J=/\d\d/,qs=/\d{3}/,os=/\d{4}/,Ft=/[+-]?\d{6}/,I=/\d\d?/,Js=/\d\d\d\d?/,Xs=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,ls=/\d{1,4}/,Tt=/[+-]?\d{1,6}/,$e=/\d+/,St=/[+-]?\d+/,Hn=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,Vn=/[+-]?\d+(\.\d{1,3})?/,nt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,kt;kt={};function y(e,t,s){kt[e]=oe(t)?t:function(r,i){return r&&s?s:t}}function Qn(e,t){return u(kt,e)?kt[e](t._strict,t._locale):new RegExp(jn(e))}function jn(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,r,i,l){return s||r||i||l}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ds={};function O(e,t){var s,r=t,i;for(typeof e=="string"&&(e=[e]),g(t)&&(r=function(l,h){h[t]=k(l)}),i=e.length,s=0;s<i;s++)ds[e[s]]=r}function it(e,t){O(e,function(s,r,i,l){i._w=i._w||{},t(s,i._w,i,l)})}function Bn(e,t,s){t!=null&&u(ds,e)&&ds[e](t,s._a,s,e)}var V=0,he=1,de=2,R=3,re=4,fe=5,Ee=6,Gn=7,zn=8;function Kn(e,t){return(e%t+t)%t}var N;Array.prototype.indexOf?N=Array.prototype.indexOf:N=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Dt(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=Kn(t,12);return e+=(t-s)/12,s===1?_t(e)?29:28:31-s%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),H("month",8),y("M",I),y("MM",I,J),y("MMM",function(e,t){return t.monthsShortRegex(e)}),y("MMMM",function(e,t){return t.monthsRegex(e)}),O(["M","MM"],function(e,t){t[he]=k(e)-1}),O(["MMM","MMMM"],function(e,t,s,r){var i=s._locale.monthsParse(e,r,s._strict);i!=null?t[he]=i:w(s).invalidMonth=e});var Zn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),er="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),tr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qn=nt,Jn=nt;function Xn(e,t){return e?d(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||tr).test(t)?"format":"standalone"][e.month()]:d(this._months)?this._months:this._months.standalone}function ei(e,t){return e?d(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[tr.test(t)?"format":"standalone"][e.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ti(e,t,s){var r,i,l,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)l=S([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(l,"").toLocaleLowerCase();return s?t==="MMM"?(i=N.call(this._shortMonthsParse,h),i!==-1?i:null):(i=N.call(this._longMonthsParse,h),i!==-1?i:null):t==="MMM"?(i=N.call(this._shortMonthsParse,h),i!==-1?i:(i=N.call(this._longMonthsParse,h),i!==-1?i:null)):(i=N.call(this._longMonthsParse,h),i!==-1?i:(i=N.call(this._shortMonthsParse,h),i!==-1?i:null))}function si(e,t,s){var r,i,l;if(this._monthsParseExact)return ti.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=S([2e3,r]),s&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!s&&!this._monthsParse[r]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(l.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(s&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!s&&this._monthsParse[r].test(e))return r}}function sr(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=k(t);else if(t=e.localeData().monthsParse(t),!g(t))return e}return s=Math.min(e.date(),Dt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function rr(e){return e!=null?(sr(this,e),n.updateOffset(this,!0),this):vt(this,"Month")}function ri(){return Dt(this.year(),this.month())}function ni(e){return this._monthsParseExact?(u(this,"_monthsRegex")||nr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=qn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ii(e){return this._monthsParseExact?(u(this,"_monthsRegex")||nr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Jn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function nr(){function e(h,v){return v.length-h.length}var t=[],s=[],r=[],i,l;for(i=0;i<12;i++)l=S([2e3,i]),t.push(this.monthsShort(l,"")),s.push(this.months(l,"")),r.push(this.months(l,"")),r.push(this.monthsShort(l,""));for(t.sort(e),s.sort(e),r.sort(e),i=0;i<12;i++)t[i]=X(t[i]),s[i]=X(s[i]);for(i=0;i<24;i++)r[i]=X(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?le(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),$("year","y"),H("year",1),y("Y",St),y("YY",I,J),y("YYYY",ls,os),y("YYYYY",Tt,Ft),y("YYYYYY",Tt,Ft),O(["YYYYY","YYYYYY"],V),O("YYYY",function(e,t){t[V]=e.length===2?n.parseTwoDigitYear(e):k(e)}),O("YY",function(e,t){t[V]=n.parseTwoDigitYear(e)}),O("Y",function(e,t){t[V]=parseInt(e,10)});function at(e){return _t(e)?366:365}n.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var ir=Ue("FullYear",!0);function ai(){return _t(this.year())}function oi(e,t,s,r,i,l,h){var v;return e<100&&e>=0?(v=new Date(e+400,t,s,r,i,l,h),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,t,s,r,i,l,h),v}function ot(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mt(e,t,s){var r=7+t-s,i=(7+ot(e,0,r).getUTCDay()-t)%7;return-i+r-1}function ar(e,t,s,r,i){var l=(7+s-r)%7,h=Mt(e,r,i),v=1+7*(t-1)+l+h,C,E;return v<=0?(C=e-1,E=at(C)+v):v>at(e)?(C=e+1,E=v-at(e)):(C=e,E=v),{year:C,dayOfYear:E}}function lt(e,t,s){var r=Mt(e.year(),t,s),i=Math.floor((e.dayOfYear()-r-1)/7)+1,l,h;return i<1?(h=e.year()-1,l=i+me(h,t,s)):i>me(e.year(),t,s)?(l=i-me(e.year(),t,s),h=e.year()+1):(h=e.year(),l=i),{week:l,year:h}}function me(e,t,s){var r=Mt(e,t,s),i=Mt(e+1,t,s);return(at(e)-r+i)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),H("week",5),H("isoWeek",5),y("w",I),y("ww",I,J),y("W",I),y("WW",I,J),it(["w","ww","W","WW"],function(e,t,s,r){t[r.substr(0,1)]=k(e)});function li(e){return lt(e,this._week.dow,this._week.doy).week}var di={dow:0,doy:6};function ci(){return this._week.dow}function ui(){return this._week.doy}function hi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function fi(e){var t=lt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),y("d",I),y("e",I),y("E",I),y("dd",function(e,t){return t.weekdaysMinRegex(e)}),y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),y("dddd",function(e,t){return t.weekdaysRegex(e)}),it(["dd","ddd","dddd"],function(e,t,s,r){var i=s._locale.weekdaysParse(e,r,s._strict);i!=null?t.d=i:w(s).invalidWeekday=e}),it(["d","e","E"],function(e,t,s,r){t[r]=k(e)});function mi(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function pi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function cs(e,t){return e.slice(t,7).concat(e.slice(0,t))}var yi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),or="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wi=nt,_i=nt,vi=nt;function Fi(e,t){var s=d(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?cs(s,this._week.dow):e?s[e.day()]:s}function xi(e){return e===!0?cs(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ti(e){return e===!0?cs(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Si(e,t,s){var r,i,l,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)l=S([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(l,"").toLocaleLowerCase();return s?t==="dddd"?(i=N.call(this._weekdaysParse,h),i!==-1?i:null):t==="ddd"?(i=N.call(this._shortWeekdaysParse,h),i!==-1?i:null):(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null):t==="dddd"?(i=N.call(this._weekdaysParse,h),i!==-1||(i=N.call(this._shortWeekdaysParse,h),i!==-1)?i:(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null)):t==="ddd"?(i=N.call(this._shortWeekdaysParse,h),i!==-1||(i=N.call(this._weekdaysParse,h),i!==-1)?i:(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null)):(i=N.call(this._minWeekdaysParse,h),i!==-1||(i=N.call(this._weekdaysParse,h),i!==-1)?i:(i=N.call(this._shortWeekdaysParse,h),i!==-1?i:null))}function Ci(e,t,s){var r,i,l;if(this._weekdaysParseExact)return Si.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=S([2e3,1]).day(r),s&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(l.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(s&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(s&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!s&&this._weekdaysParse[r].test(e))return r}}function ki(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=mi(e,this.localeData()),this.add(e-t,"d")):t}function Di(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Mi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=pi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function bi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||us.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=wi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||us.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_i),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ei(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||us.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function us(){function e(B,_e){return _e.length-B.length}var t=[],s=[],r=[],i=[],l,h,v,C,E;for(l=0;l<7;l++)h=S([2e3,1]).day(l),v=X(this.weekdaysMin(h,"")),C=X(this.weekdaysShort(h,"")),E=X(this.weekdays(h,"")),t.push(v),s.push(C),r.push(E),i.push(v),i.push(C),i.push(E);t.sort(e),s.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hs(){return this.hours()%12||12}function Ii(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,hs),_("k",["kk",2],0,Ii),_("hmm",0,0,function(){return""+hs.apply(this)+le(this.minutes(),2)}),_("hmmss",0,0,function(){return""+hs.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)});function lr(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}lr("a",!0),lr("A",!1),$("hour","h"),H("hour",13);function dr(e,t){return t._meridiemParse}y("a",dr),y("A",dr),y("H",I),y("h",I),y("k",I),y("HH",I,J),y("hh",I,J),y("kk",I,J),y("hmm",Js),y("hmmss",Xs),y("Hmm",Js),y("Hmmss",Xs),O(["H","HH"],R),O(["k","kk"],function(e,t,s){var r=k(e);t[R]=r===24?0:r}),O(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e}),O(["h","hh"],function(e,t,s){t[R]=k(e),w(s).bigHour=!0}),O("hmm",function(e,t,s){var r=e.length-2;t[R]=k(e.substr(0,r)),t[re]=k(e.substr(r)),w(s).bigHour=!0}),O("hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[R]=k(e.substr(0,r)),t[re]=k(e.substr(r,2)),t[fe]=k(e.substr(i)),w(s).bigHour=!0}),O("Hmm",function(e,t,s){var r=e.length-2;t[R]=k(e.substr(0,r)),t[re]=k(e.substr(r))}),O("Hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[R]=k(e.substr(0,r)),t[re]=k(e.substr(r,2)),t[fe]=k(e.substr(i))});function Pi(e){return(e+"").toLowerCase().charAt(0)==="p"}var Yi=/[ap]\.?m?\.?/i,Li=Ue("Hours",!0);function Ni(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var cr={calendar:Cn,longDateFormat:bn,invalidDate:En,ordinal:Pn,dayOfMonthOrdinalParse:Yn,relativeTime:Nn,months:Zn,monthsShort:er,week:di,weekdays:yi,weekdaysMin:gi,weekdaysShort:or,meridiemParse:Yi},L={},dt={},ct;function Wi(e,t){var s,r=Math.min(e.length,t.length);for(s=0;s<r;s+=1)if(e[s]!==t[s])return s;return r}function ur(e){return e&&e.toLowerCase().replace("_","-")}function Ri(e){for(var t=0,s,r,i,l;t<e.length;){for(l=ur(e[t]).split("-"),s=l.length,r=ur(e[t+1]),r=r?r.split("-"):null;s>0;){if(i=bt(l.slice(0,s).join("-")),i)return i;if(r&&r.length>=s&&Wi(l,r)>=s-1)break;s--}t++}return ct}function Ai(e){return e.match("^[^/\\\\]*$")!=null}function bt(e){var t=null,s;if(L[e]===void 0&&typeof Ze<"u"&&Ze&&Ze.exports&&Ai(e))try{t=ct._abbr,s=require,s("./locale/"+e),Ce(t)}catch{L[e]=null}return L[e]}function Ce(e,t){var s;return e&&(f(t)?s=pe(e):s=fs(e,t),s?ct=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ct._abbr}function fs(e,t){if(t!==null){var s,r=cr;if(t.abbr=e,L[e]!=null)Bs("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=L[e]._config;else if(t.parentLocale!=null)if(L[t.parentLocale]!=null)r=L[t.parentLocale]._config;else if(s=bt(t.parentLocale),s!=null)r=s._config;else return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;return L[e]=new ss(ts(r,t)),dt[e]&&dt[e].forEach(function(i){fs(i.name,i.config)}),Ce(e),L[e]}else return delete L[e],null}function Ui(e,t){if(t!=null){var s,r,i=cr;L[e]!=null&&L[e].parentLocale!=null?L[e].set(ts(L[e]._config,t)):(r=bt(e),r!=null&&(i=r._config),t=ts(i,t),r==null&&(t.abbr=e),s=new ss(t),s.parentLocale=L[e],L[e]=s),Ce(e)}else L[e]!=null&&(L[e].parentLocale!=null?(L[e]=L[e].parentLocale,e===Ce()&&Ce(e)):L[e]!=null&&delete L[e]);return L[e]}function pe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ct;if(!d(e)){if(t=bt(e),t)return t;e=[e]}return Ri(e)}function $i(){return rs(L)}function ms(e){var t,s=e._a;return s&&w(e).overflow===-2&&(t=s[he]<0||s[he]>11?he:s[de]<1||s[de]>Dt(s[V],s[he])?de:s[R]<0||s[R]>24||s[R]===24&&(s[re]!==0||s[fe]!==0||s[Ee]!==0)?R:s[re]<0||s[re]>59?re:s[fe]<0||s[fe]>59?fe:s[Ee]<0||s[Ee]>999?Ee:-1,w(e)._overflowDayOfYear&&(t<V||t>de)&&(t=de),w(e)._overflowWeeks&&t===-1&&(t=Gn),w(e)._overflowWeekday&&t===-1&&(t=zn),w(e).overflow=t),e}var Hi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qi=/Z|[+-]\d\d(?::?\d\d)?/,Ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ps=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ji=/^\/?Date\((-?\d+)/i,Bi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hr(e){var t,s,r=e._i,i=Hi.exec(r)||Vi.exec(r),l,h,v,C,E=Ot.length,B=ps.length;if(i){for(w(e).iso=!0,t=0,s=E;t<s;t++)if(Ot[t][1].exec(i[1])){h=Ot[t][0],l=Ot[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(i[3]){for(t=0,s=B;t<s;t++)if(ps[t][1].exec(i[3])){v=(i[2]||" ")+ps[t][0];break}if(v==null){e._isValid=!1;return}}if(!l&&v!=null){e._isValid=!1;return}if(i[4])if(Qi.exec(i[4]))C="Z";else{e._isValid=!1;return}e._f=h+(v||"")+(C||""),gs(e)}else e._isValid=!1}function zi(e,t,s,r,i,l){var h=[Ki(e),er.indexOf(t),parseInt(s,10),parseInt(r,10),parseInt(i,10)];return l&&h.push(parseInt(l,10)),h}function Ki(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Zi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qi(e,t,s){if(e){var r=or.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return w(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function Ji(e,t,s){if(e)return Gi[e];if(t)return 0;var r=parseInt(s,10),i=r%100,l=(r-i)/100;return l*60+i}function fr(e){var t=Bi.exec(Zi(e._i)),s;if(t){if(s=zi(t[4],t[3],t[2],t[5],t[6],t[7]),!qi(t[1],s,e))return;e._a=s,e._tzm=Ji(t[8],t[9],t[10]),e._d=ot.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function Xi(e){var t=ji.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(hr(e),e._isValid===!1)delete e._isValid;else return;if(fr(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function He(e,t,s){return e??t??s}function ea(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ys(e){var t,s,r=[],i,l,h;if(!e._d){for(i=ea(e),e._w&&e._a[de]==null&&e._a[he]==null&&ta(e),e._dayOfYear!=null&&(h=He(e._a[V],i[V]),(e._dayOfYear>at(h)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),s=ot(h,0,e._dayOfYear),e._a[he]=s.getUTCMonth(),e._a[de]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[R]===24&&e._a[re]===0&&e._a[fe]===0&&e._a[Ee]===0&&(e._nextDay=!0,e._a[R]=0),e._d=(e._useUTC?ot:oi).apply(null,r),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[R]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==l&&(w(e).weekdayMismatch=!0)}}function ta(e){var t,s,r,i,l,h,v,C,E;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(l=1,h=4,s=He(t.GG,e._a[V],lt(P(),1,4).year),r=He(t.W,1),i=He(t.E,1),(i<1||i>7)&&(C=!0)):(l=e._locale._week.dow,h=e._locale._week.doy,E=lt(P(),l,h),s=He(t.gg,e._a[V],E.year),r=He(t.w,E.week),t.d!=null?(i=t.d,(i<0||i>6)&&(C=!0)):t.e!=null?(i=t.e+l,(t.e<0||t.e>6)&&(C=!0)):i=l),r<1||r>me(s,l,h)?w(e)._overflowWeeks=!0:C!=null?w(e)._overflowWeekday=!0:(v=ar(s,r,i,l,h),e._a[V]=v.year,e._dayOfYear=v.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function gs(e){if(e._f===n.ISO_8601){hr(e);return}if(e._f===n.RFC_2822){fr(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,s,r,i,l,h,v=t.length,C=0,E,B;for(i=Gs(e._f,e._locale).match(ns)||[],B=i.length,s=0;s<B;s++)l=i[s],r=(t.match(Qn(l,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&w(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),C+=r.length),Ae[l]?(r?w(e).empty=!1:w(e).unusedTokens.push(l),Bn(l,r,e)):e._strict&&!r&&w(e).unusedTokens.push(l);w(e).charsLeftOver=v-C,t.length>0&&w(e).unusedInput.push(t),e._a[R]<=12&&w(e).bigHour===!0&&e._a[R]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[R]=sa(e._locale,e._a[R],e._meridiem),E=w(e).era,E!==null&&(e._a[V]=e._locale.erasConvertYear(E,e._a[V])),ys(e),ms(e)}function sa(e,t,s){var r;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(r=e.isPM(s),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function ra(e){var t,s,r,i,l,h,v=!1,C=e._f.length;if(C===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<C;i++)l=0,h=!1,t=ue({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],gs(t),Q(t)&&(h=!0),l+=w(t).charsLeftOver,l+=w(t).unusedTokens.length*10,w(t).score=l,v?l<r&&(r=l,s=t):(r==null||l<r||h)&&(r=l,s=t,h&&(v=!0));T(e,s||t)}function na(e){if(!e._d){var t=as(e._i),s=t.day===void 0?t.date:t.day;e._a=x([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),ys(e)}}function ia(e){var t=new ae(ms(mr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mr(e){var t=e._i,s=e._f;return e._locale=e._locale||pe(e._l),t===null||s===void 0&&t===""?j({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),q(t)?new ae(ms(t)):(F(t)?e._d=t:d(s)?ra(e):s?gs(e):aa(e),Q(e)||(e._d=null),e))}function aa(e){var t=e._i;f(t)?e._d=new Date(n.now()):F(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Xi(e):d(t)?(e._a=x(t.slice(0),function(s){return parseInt(s,10)}),ys(e)):c(t)?na(e):g(t)?e._d=new Date(t):n.createFromInputFallback(e)}function pr(e,t,s,r,i){var l={};return(t===!0||t===!1)&&(r=t,t=void 0),(s===!0||s===!1)&&(r=s,s=void 0),(c(e)&&p(e)||d(e)&&e.length===0)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=s,l._i=e,l._f=t,l._strict=r,ia(l)}function P(e,t,s,r){return pr(e,t,s,r,!1)}var oa=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=P.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:j()}),la=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=P.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:j()});function yr(e,t){var s,r;if(t.length===1&&d(t[0])&&(t=t[0]),!t.length)return P();for(s=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](s))&&(s=t[r]);return s}function da(){var e=[].slice.call(arguments,0);return yr("isBefore",e)}function ca(){var e=[].slice.call(arguments,0);return yr("isAfter",e)}var ua=function(){return Date.now?Date.now():+new Date},ut=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ha(e){var t,s=!1,r,i=ut.length;for(t in e)if(u(e,t)&&!(N.call(ut,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[ut[r]]){if(s)return!1;parseFloat(e[ut[r]])!==k(e[ut[r]])&&(s=!0)}return!0}function fa(){return this._isValid}function ma(){return ne(NaN)}function Et(e){var t=as(e),s=t.year||0,r=t.quarter||0,i=t.month||0,l=t.week||t.isoWeek||0,h=t.day||0,v=t.hour||0,C=t.minute||0,E=t.second||0,B=t.millisecond||0;this._isValid=ha(t),this._milliseconds=+B+E*1e3+C*6e4+v*1e3*60*60,this._days=+h+l*7,this._months=+i+r*3+s*12,this._data={},this._locale=pe(),this._bubble()}function It(e){return e instanceof Et}function ws(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function pa(e,t,s){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),l=0,h;for(h=0;h<r;h++)(s&&e[h]!==t[h]||!s&&k(e[h])!==k(t[h]))&&l++;return l+i}function gr(e,t){_(e,0,0,function(){var s=this.utcOffset(),r="+";return s<0&&(s=-s,r="-"),r+le(~~(s/60),2)+t+le(~~s%60,2)})}gr("Z",":"),gr("ZZ",""),y("Z",Ct),y("ZZ",Ct),O(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=_s(Ct,e)});var ya=/([\+\-]|\d\d)/gi;function _s(e,t){var s=(t||"").match(e),r,i,l;return s===null?null:(r=s[s.length-1]||[],i=(r+"").match(ya)||["-",0,0],l=+(i[1]*60)+k(i[2]),l===0?0:i[0]==="+"?l:-l)}function vs(e,t){var s,r;return t._isUTC?(s=t.clone(),r=(q(e)||F(e)?e.valueOf():P(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+r),n.updateOffset(s,!1),s):P(e).local()}function Fs(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function ga(e,t,s){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=_s(Ct,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(i=Fs(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Fr(this,ne(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Fs(this)}function wa(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function _a(e){return this.utcOffset(0,e)}function va(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Fs(this),"m")),this}function Fa(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=_s(Hn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xa(e){return this.isValid()?(e=e?P(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sa(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ue(e,this),e=mr(e),e._a?(t=e._isUTC?S(e._a):P(e._a),this._isDSTShifted=this.isValid()&&pa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ca(){return this.isValid()?!this._isUTC:!1}function ka(){return this.isValid()?this._isUTC:!1}function wr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Da=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ma=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ne(e,t){var s=e,r=null,i,l,h;return It(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:g(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(r=Da.exec(e))?(i=r[1]==="-"?-1:1,s={y:0,d:k(r[de])*i,h:k(r[R])*i,m:k(r[re])*i,s:k(r[fe])*i,ms:k(ws(r[Ee]*1e3))*i}):(r=Ma.exec(e))?(i=r[1]==="-"?-1:1,s={y:Ie(r[2],i),M:Ie(r[3],i),w:Ie(r[4],i),d:Ie(r[5],i),h:Ie(r[6],i),m:Ie(r[7],i),s:Ie(r[8],i)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(h=ba(P(s.from),P(s.to)),s={},s.ms=h.milliseconds,s.M=h.months),l=new Et(s),It(e)&&u(e,"_locale")&&(l._locale=e._locale),It(e)&&u(e,"_isValid")&&(l._isValid=e._isValid),l}ne.fn=Et.prototype,ne.invalid=ma;function Ie(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function _r(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function ba(e,t){var s;return e.isValid()&&t.isValid()?(t=vs(t,e),e.isBefore(t)?s=_r(e,t):(s=_r(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function vr(e,t){return function(s,r){var i,l;return r!==null&&!isNaN(+r)&&(Bs(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=s,s=r,r=l),i=ne(s,r),Fr(this,i,e),this}}function Fr(e,t,s,r){var i=t._milliseconds,l=ws(t._days),h=ws(t._months);e.isValid()&&(r=r??!0,h&&sr(e,vt(e,"Month")+h*s),l&&Ks(e,"Date",vt(e,"Date")+l*s),i&&e._d.setTime(e._d.valueOf()+i*s),r&&n.updateOffset(e,l||h))}var Oa=vr(1,"add"),Ea=vr(-1,"subtract");function xr(e){return typeof e=="string"||e instanceof String}function Ia(e){return q(e)||F(e)||xr(e)||g(e)||Ya(e)||Pa(e)||e===null||e===void 0}function Pa(e){var t=c(e)&&!p(e),s=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,h=r.length;for(i=0;i<h;i+=1)l=r[i],s=s||u(e,l);return t&&s}function Ya(e){var t=d(e),s=!1;return t&&(s=e.filter(function(r){return!g(r)&&xr(e)}).length===0),t&&s}function La(e){var t=c(e)&&!p(e),s=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<r.length;i+=1)l=r[i],s=s||u(e,l);return t&&s}function Na(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Wa(e,t){arguments.length===1&&(arguments[0]?Ia(arguments[0])?(e=arguments[0],t=void 0):La(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||P(),r=vs(s,this).startOf("day"),i=n.calendarFormat(this,r)||"sameElse",l=t&&(oe(t[i])?t[i].call(this,s):t[i]);return this.format(l||this.localeData().calendar(i,this,P(s)))}function Ra(){return new ae(this)}function Aa(e,t){var s=q(e)?e:P(e);return this.isValid()&&s.isValid()?(t=ee(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ua(e,t){var s=q(e)?e:P(e);return this.isValid()&&s.isValid()?(t=ee(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function $a(e,t,s,r){var i=q(e)?e:P(e),l=q(t)?t:P(t);return this.isValid()&&i.isValid()&&l.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,s):!this.isBefore(i,s))&&(r[1]===")"?this.isBefore(l,s):!this.isAfter(l,s))):!1}function Ha(e,t){var s=q(e)?e:P(e),r;return this.isValid()&&s.isValid()?(t=ee(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(r=s.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Va(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qa(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ja(e,t,s){var r,i,l;if(!this.isValid())return NaN;if(r=vs(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=ee(t),t){case"year":l=Pt(this,r)/12;break;case"month":l=Pt(this,r);break;case"quarter":l=Pt(this,r)/3;break;case"second":l=(this-r)/1e3;break;case"minute":l=(this-r)/6e4;break;case"hour":l=(this-r)/36e5;break;case"day":l=(this-r-i)/864e5;break;case"week":l=(this-r-i)/6048e5;break;default:l=this-r}return s?l:te(l)}function Pt(e,t){if(e.date()<t.date())return-Pt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(s,"months"),i,l;return t-r<0?(i=e.clone().add(s-1,"months"),l=(t-r)/(r-i)):(i=e.clone().add(s+1,"months"),l=(t-r)/(i-r)),-(s+l)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ba(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ga(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?wt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):oe(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wt(s,"Z")):wt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function za(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,r,i,l;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=t+'[")]',this.format(s+r+i+l)}function Ka(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=wt(this,e);return this.localeData().postformat(t)}function Za(e,t){return this.isValid()&&(q(e)&&e.isValid()||P(e).isValid())?ne({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qa(e){return this.from(P(),e)}function Ja(e,t){return this.isValid()&&(q(e)&&e.isValid()||P(e).isValid())?ne({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Xa(e){return this.to(P(),e)}function Tr(e){var t;return e===void 0?this._locale._abbr:(t=pe(e),t!=null&&(this._locale=t),this)}var Sr=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Cr(){return this._locale}var Yt=1e3,Ve=60*Yt,Lt=60*Ve,kr=(365*400+97)*24*Lt;function Qe(e,t){return(e%t+t)%t}function Dr(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-kr:new Date(e,t,s).valueOf()}function Mr(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-kr:Date.UTC(e,t,s)}function eo(e){var t,s;if(e=ee(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Mr:Dr,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qe(t+(this._isUTC?0:this.utcOffset()*Ve),Lt);break;case"minute":t=this._d.valueOf(),t-=Qe(t,Ve);break;case"second":t=this._d.valueOf(),t-=Qe(t,Yt);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function to(e){var t,s;if(e=ee(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Mr:Dr,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Lt-Qe(t+(this._isUTC?0:this.utcOffset()*Ve),Lt)-1;break;case"minute":t=this._d.valueOf(),t+=Ve-Qe(t,Ve)-1;break;case"second":t=this._d.valueOf(),t+=Yt-Qe(t,Yt)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function so(){return this._d.valueOf()-(this._offset||0)*6e4}function ro(){return Math.floor(this.valueOf()/1e3)}function no(){return new Date(this.valueOf())}function io(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ao(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function oo(){return this.isValid()?this.toISOString():null}function lo(){return Q(this)}function co(){return T({},w(this))}function uo(){return w(this).overflow}function ho(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),y("N",xs),y("NN",xs),y("NNN",xs),y("NNNN",To),y("NNNNN",So),O(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,r){var i=s._locale.erasParse(e,r,s._strict);i?w(s).era=i:w(s).invalidEra=e}),y("y",$e),y("yy",$e),y("yyy",$e),y("yyyy",$e),y("yo",Co),O(["y","yy","yyy","yyyy"],V),O(["yo"],function(e,t,s,r){var i;s._locale._eraYearOrdinalRegex&&(i=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[V]=s._locale.eraYearOrdinalParse(e,i):t[V]=parseInt(e,10)});function fo(e,t){var s,r,i,l=this._eras||pe("en")._eras;for(s=0,r=l.length;s<r;++s){switch(typeof l[s].since){case"string":i=n(l[s].since).startOf("day"),l[s].since=i.valueOf();break}switch(typeof l[s].until){case"undefined":l[s].until=1/0;break;case"string":i=n(l[s].until).startOf("day").valueOf(),l[s].until=i.valueOf();break}}return l}function mo(e,t,s){var r,i,l=this.eras(),h,v,C;for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(h=l[r].name.toUpperCase(),v=l[r].abbr.toUpperCase(),C=l[r].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(v===e)return l[r];break;case"NNNN":if(h===e)return l[r];break;case"NNNNN":if(C===e)return l[r];break}else if([h,v,C].indexOf(e)>=0)return l[r]}function po(e,t){var s=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*s}function yo(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].name;return""}function go(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].narrow;return""}function wo(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].abbr;return""}function _o(){var e,t,s,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(s=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-n(i[e].since).year())*s+i[e].offset;return this.year()}function vo(e){return u(this,"_erasNameRegex")||Ts.call(this),e?this._erasNameRegex:this._erasRegex}function Fo(e){return u(this,"_erasAbbrRegex")||Ts.call(this),e?this._erasAbbrRegex:this._erasRegex}function xo(e){return u(this,"_erasNarrowRegex")||Ts.call(this),e?this._erasNarrowRegex:this._erasRegex}function xs(e,t){return t.erasAbbrRegex(e)}function To(e,t){return t.erasNameRegex(e)}function So(e,t){return t.erasNarrowRegex(e)}function Co(e,t){return t._eraYearOrdinalRegex||$e}function Ts(){var e=[],t=[],s=[],r=[],i,l,h=this.eras();for(i=0,l=h.length;i<l;++i)t.push(X(h[i].name)),e.push(X(h[i].abbr)),s.push(X(h[i].narrow)),r.push(X(h[i].name)),r.push(X(h[i].abbr)),r.push(X(h[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Nt(e,t){_(0,[e,e.length],0,t)}Nt("gggg","weekYear"),Nt("ggggg","weekYear"),Nt("GGGG","isoWeekYear"),Nt("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),y("G",St),y("g",St),y("GG",I,J),y("gg",I,J),y("GGGG",ls,os),y("gggg",ls,os),y("GGGGG",Tt,Ft),y("ggggg",Tt,Ft),it(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,r){t[r.substr(0,2)]=k(e)}),it(["gg","GG"],function(e,t,s,r){t[r]=n.parseTwoDigitYear(e)});function ko(e){return br.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Do(e){return br.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Mo(){return me(this.year(),1,4)}function bo(){return me(this.isoWeekYear(),1,4)}function Oo(){var e=this.localeData()._week;return me(this.year(),e.dow,e.doy)}function Eo(){var e=this.localeData()._week;return me(this.weekYear(),e.dow,e.doy)}function br(e,t,s,r,i){var l;return e==null?lt(this,r,i).year:(l=me(e,r,i),t>l&&(t=l),Io.call(this,e,t,s,r,i))}function Io(e,t,s,r,i){var l=ar(e,t,s,r,i),h=ot(l.year,0,l.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}_("Q",0,"Qo","quarter"),$("quarter","Q"),H("quarter",7),y("Q",Zs),O("Q",function(e,t){t[he]=(k(e)-1)*3});function Po(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),$("date","D"),H("date",9),y("D",I),y("DD",I,J),y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),O(["D","DD"],de),O("Do",function(e,t){t[de]=k(e.match(I)[0])});var Or=Ue("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),H("dayOfYear",4),y("DDD",xt),y("DDDD",qs),O(["DDD","DDDD"],function(e,t,s){s._dayOfYear=k(e)});function Yo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),$("minute","m"),H("minute",14),y("m",I),y("mm",I,J),O(["m","mm"],re);var Lo=Ue("Minutes",!1);_("s",["ss",2],0,"second"),$("second","s"),H("second",15),y("s",I),y("ss",I,J),O(["s","ss"],fe);var No=Ue("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("millisecond","ms"),H("millisecond",16),y("S",xt,Zs),y("SS",xt,J),y("SSS",xt,qs);var ke,Er;for(ke="SSSS";ke.length<=9;ke+="S")y(ke,$e);function Wo(e,t){t[Ee]=k(("0."+e)*1e3)}for(ke="S";ke.length<=9;ke+="S")O(ke,Wo);Er=Ue("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Ro(){return this._isUTC?"UTC":""}function Ao(){return this._isUTC?"Coordinated Universal Time":""}var m=ae.prototype;m.add=Oa,m.calendar=Wa,m.clone=Ra,m.diff=ja,m.endOf=to,m.format=Ka,m.from=Za,m.fromNow=qa,m.to=Ja,m.toNow=Xa,m.get=Un,m.invalidAt=uo,m.isAfter=Aa,m.isBefore=Ua,m.isBetween=$a,m.isSame=Ha,m.isSameOrAfter=Va,m.isSameOrBefore=Qa,m.isValid=lo,m.lang=Sr,m.locale=Tr,m.localeData=Cr,m.max=la,m.min=oa,m.parsingFlags=co,m.set=$n,m.startOf=eo,m.subtract=Ea,m.toArray=io,m.toObject=ao,m.toDate=no,m.toISOString=Ga,m.inspect=za,typeof Symbol<"u"&&Symbol.for!=null&&(m[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),m.toJSON=oo,m.toString=Ba,m.unix=ro,m.valueOf=so,m.creationData=ho,m.eraName=yo,m.eraNarrow=go,m.eraAbbr=wo,m.eraYear=_o,m.year=ir,m.isLeapYear=ai,m.weekYear=ko,m.isoWeekYear=Do,m.quarter=m.quarters=Po,m.month=rr,m.daysInMonth=ri,m.week=m.weeks=hi,m.isoWeek=m.isoWeeks=fi,m.weeksInYear=Oo,m.weeksInWeekYear=Eo,m.isoWeeksInYear=Mo,m.isoWeeksInISOWeekYear=bo,m.date=Or,m.day=m.days=ki,m.weekday=Di,m.isoWeekday=Mi,m.dayOfYear=Yo,m.hour=m.hours=Li,m.minute=m.minutes=Lo,m.second=m.seconds=No,m.millisecond=m.milliseconds=Er,m.utcOffset=ga,m.utc=_a,m.local=va,m.parseZone=Fa,m.hasAlignedHourOffset=xa,m.isDST=Ta,m.isLocal=Ca,m.isUtcOffset=ka,m.isUtc=wr,m.isUTC=wr,m.zoneAbbr=Ro,m.zoneName=Ao,m.dates=A("dates accessor is deprecated. Use date instead.",Or),m.months=A("months accessor is deprecated. Use month instead",rr),m.years=A("years accessor is deprecated. Use year instead",ir),m.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wa),m.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sa);function Uo(e){return P(e*1e3)}function $o(){return P.apply(null,arguments).parseZone()}function Ir(e){return e}var M=ss.prototype;M.calendar=kn,M.longDateFormat=On,M.invalidDate=In,M.ordinal=Ln,M.preparse=Ir,M.postformat=Ir,M.relativeTime=Wn,M.pastFuture=Rn,M.set=Sn,M.eras=fo,M.erasParse=mo,M.erasConvertYear=po,M.erasAbbrRegex=Fo,M.erasNameRegex=vo,M.erasNarrowRegex=xo,M.months=Xn,M.monthsShort=ei,M.monthsParse=si,M.monthsRegex=ii,M.monthsShortRegex=ni,M.week=li,M.firstDayOfYear=ui,M.firstDayOfWeek=ci,M.weekdays=Fi,M.weekdaysMin=Ti,M.weekdaysShort=xi,M.weekdaysParse=Ci,M.weekdaysRegex=bi,M.weekdaysShortRegex=Oi,M.weekdaysMinRegex=Ei,M.isPM=Pi,M.meridiem=Ni;function Wt(e,t,s,r){var i=pe(),l=S().set(r,t);return i[s](l,e)}function Pr(e,t,s){if(g(e)&&(t=e,e=void 0),e=e||"",t!=null)return Wt(e,t,s,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Wt(e,r,s,"month");return i}function Ss(e,t,s,r){typeof e=="boolean"?(g(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,g(t)&&(s=t,t=void 0),t=t||"");var i=pe(),l=e?i._week.dow:0,h,v=[];if(s!=null)return Wt(t,(s+l)%7,r,"day");for(h=0;h<7;h++)v[h]=Wt(t,(h+l)%7,r,"day");return v}function Ho(e,t){return Pr(e,t,"months")}function Vo(e,t){return Pr(e,t,"monthsShort")}function Qo(e,t,s){return Ss(e,t,s,"weekdays")}function jo(e,t,s){return Ss(e,t,s,"weekdaysShort")}function Bo(e,t,s){return Ss(e,t,s,"weekdaysMin")}Ce("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=k(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}}),n.lang=A("moment.lang is deprecated. Use moment.locale instead.",Ce),n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",pe);var ye=Math.abs;function Go(){var e=this._data;return this._milliseconds=ye(this._milliseconds),this._days=ye(this._days),this._months=ye(this._months),e.milliseconds=ye(e.milliseconds),e.seconds=ye(e.seconds),e.minutes=ye(e.minutes),e.hours=ye(e.hours),e.months=ye(e.months),e.years=ye(e.years),this}function Yr(e,t,s,r){var i=ne(t,s);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function zo(e,t){return Yr(this,e,t,1)}function Ko(e,t){return Yr(this,e,t,-1)}function Lr(e){return e<0?Math.floor(e):Math.ceil(e)}function Zo(){var e=this._milliseconds,t=this._days,s=this._months,r=this._data,i,l,h,v,C;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Lr(Cs(s)+t)*864e5,t=0,s=0),r.milliseconds=e%1e3,i=te(e/1e3),r.seconds=i%60,l=te(i/60),r.minutes=l%60,h=te(l/60),r.hours=h%24,t+=te(h/24),C=te(Nr(t)),s+=C,t-=Lr(Cs(C)),v=te(s/12),s%=12,r.days=t,r.months=s,r.years=v,this}function Nr(e){return e*4800/146097}function Cs(e){return e*146097/4800}function qo(e){if(!this.isValid())return NaN;var t,s,r=this._milliseconds;if(e=ee(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,s=this._months+Nr(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Cs(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Jo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+k(this._months/12)*31536e6:NaN}function ge(e){return function(){return this.as(e)}}var Xo=ge("ms"),el=ge("s"),tl=ge("m"),sl=ge("h"),rl=ge("d"),nl=ge("w"),il=ge("M"),al=ge("Q"),ol=ge("y");function ll(){return ne(this)}function dl(e){return e=ee(e),this.isValid()?this[e+"s"]():NaN}function Pe(e){return function(){return this.isValid()?this._data[e]:NaN}}var cl=Pe("milliseconds"),ul=Pe("seconds"),hl=Pe("minutes"),fl=Pe("hours"),ml=Pe("days"),pl=Pe("months"),yl=Pe("years");function gl(){return te(this.days()/7)}var we=Math.round,je={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function wl(e,t,s,r,i){return i.relativeTime(t||1,!!s,e,r)}function _l(e,t,s,r){var i=ne(e).abs(),l=we(i.as("s")),h=we(i.as("m")),v=we(i.as("h")),C=we(i.as("d")),E=we(i.as("M")),B=we(i.as("w")),_e=we(i.as("y")),De=l<=s.ss&&["s",l]||l<s.s&&["ss",l]||h<=1&&["m"]||h<s.m&&["mm",h]||v<=1&&["h"]||v<s.h&&["hh",v]||C<=1&&["d"]||C<s.d&&["dd",C];return s.w!=null&&(De=De||B<=1&&["w"]||B<s.w&&["ww",B]),De=De||E<=1&&["M"]||E<s.M&&["MM",E]||_e<=1&&["y"]||["yy",_e],De[2]=t,De[3]=+e>0,De[4]=r,wl.apply(null,De)}function vl(e){return e===void 0?we:typeof e=="function"?(we=e,!0):!1}function Fl(e,t){return je[e]===void 0?!1:t===void 0?je[e]:(je[e]=t,e==="s"&&(je.ss=t-1),!0)}function xl(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,r=je,i,l;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(r=Object.assign({},je,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),l=_l(this,!s,r,i),s&&(l=i.pastFuture(+this,l)),i.postformat(l)}var ks=Math.abs;function Be(e){return(e>0)-(e<0)||+e}function Rt(){if(!this.isValid())return this.localeData().invalidDate();var e=ks(this._milliseconds)/1e3,t=ks(this._days),s=ks(this._months),r,i,l,h,v=this.asSeconds(),C,E,B,_e;return v?(r=te(e/60),i=te(r/60),e%=60,r%=60,l=te(s/12),s%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",C=v<0?"-":"",E=Be(this._months)!==Be(v)?"-":"",B=Be(this._days)!==Be(v)?"-":"",_e=Be(this._milliseconds)!==Be(v)?"-":"",C+"P"+(l?E+l+"Y":"")+(s?E+s+"M":"")+(t?B+t+"D":"")+(i||r||e?"T":"")+(i?_e+i+"H":"")+(r?_e+r+"M":"")+(e?_e+h+"S":"")):"P0D"}var D=Et.prototype;D.isValid=fa,D.abs=Go,D.add=zo,D.subtract=Ko,D.as=qo,D.asMilliseconds=Xo,D.asSeconds=el,D.asMinutes=tl,D.asHours=sl,D.asDays=rl,D.asWeeks=nl,D.asMonths=il,D.asQuarters=al,D.asYears=ol,D.valueOf=Jo,D._bubble=Zo,D.clone=ll,D.get=dl,D.milliseconds=cl,D.seconds=ul,D.minutes=hl,D.hours=fl,D.days=ml,D.weeks=gl,D.months=pl,D.years=yl,D.humanize=xl,D.toISOString=Rt,D.toString=Rt,D.toJSON=Rt,D.locale=Tr,D.localeData=Cr,D.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rt),D.lang=Sr,_("X",0,0,"unix"),_("x",0,0,"valueOf"),y("x",St),y("X",Vn),O("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)}),O("x",function(e,t,s){s._d=new Date(k(e))});return n.version="2.29.4",o(P),n.fn=m,n.min=da,n.max=ca,n.now=ua,n.utc=S,n.unix=Uo,n.months=Ho,n.isDate=F,n.locale=Ce,n.invalid=j,n.duration=ne,n.isMoment=q,n.weekdays=Qo,n.parseZone=$o,n.localeData=pe,n.isDuration=It,n.monthsShort=Vo,n.weekdaysMin=Bo,n.defineLocale=fs,n.updateLocale=Ui,n.locales=$i,n.weekdaysShort=jo,n.normalizeUnits=ee,n.relativeTimeRounding=vl,n.relativeTimeThreshold=Fl,n.calendarFormat=Na,n.prototype=m,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Wl={};bl(Wl,{default:()=>es});module.exports=Ol(Wl);var Tn=require("obsidian");var Fe=require("obsidian");var ve=require("obsidian"),Ut={state:{source:!1,mode:"source"}},Me=/\[\[(.+?)([|#].*?)?\]\] ?/;async function Ds(a,n){await a.workspace.getLeaf().openFile(n,Ut),a.commands.executeCommandById("file-explorer:reveal-active-file")}function b(a,n){let{app:o,settings:d}=a,c=n===void 0?o.workspace.getActiveFile():typeof n=="string"?o.vault.getFileByPath(n):n;return!c||!(c instanceof ve.TFile)||c.extension!=="md"?!1:c.name==="Template.md"?"Template":c.path.startsWith(d.coding.folder+"/")?"Code File":c.path.startsWith(d.extraction.folder+"/")?"Extraction File":"Data File"}async function $t(a,n,o){let{app:d,settings:c}=a,u=["```"+n,"```",""];d.vault.getFolderByPath(c.analysis.folder)||d.vault.createFolder(c.analysis.folder);let f=(0,ve.normalizePath)(c.analysis.folder+`/${o}.md`),g=d.vault.getFileByPath(f)||await d.vault.create(f,u.join(`
`));await Ds(d,g),G(a.app)?.setCursor({line:u.length,ch:0})}function G(a){let n=a.workspace.activeEditor?.editor;return n||new ve.Notice("No active editor."),n}function be(a){if(a.getLine(a.getCursor().line).trim()===""&&!a.somethingSelected())return new ve.Notice(`Current line is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let o=a.getCursor("head").line!==a.getCursor("anchor").line,d=a.listSelections().length>1;return o||d?(new ve.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Ge(a){let n=a.getSelection().includes("==");return n&&new ve.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`),n}function ze(a){a.metadataTypeManager.setType("extraction-date","datetime"),a.metadataTypeManager.setType("extraction-source","multitext"),a.metadataTypeManager.setType("code description","text")}var Ht={"last used first":(a,n)=>n.stat.mtime-a.stat.mtime,"oldest used first":(a,n)=>a.stat.mtime-n.stat.mtime,"frequently used first":(a,n)=>n.stat.size-a.stat.size,"rarely used first":(a,n)=>a.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(a,n)=>a.basename.localeCompare(n.basename)},Ar={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Ur={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},ce={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:","},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Ms(a,n){return n.path.slice(a.settings.coding.folder.length+1,-3)}function $r(a,n){return n?n.path===a.settings.coding.folder+"/Template.md":!1}function ht(a,n){let o=a.app.metadataCache.resolvedLinks[n.path]||{},d=0;for(let[c,u]of Object.entries(o))b(a,c)==="Data File"&&(d+=u);return d}function Vt(a,n,o){let d=a.app;return(o.match(new RegExp(Me,"g"))||[]).reduce((p,f)=>{let[g,F]=f.match(Me)||[];if(!F)return p;let x=d.metadataCache.getFirstLinkpathDest(F,n.path);return x&&b(a,x)==="Code File"&&p.push({tFile:x,wikilink:f}),p},[])}function Qt(a){let n=a.app.vault.getMarkdownFiles().filter(d=>b(a,d)==="Code File"),o=Ht[a.settings.coding.sortFunc];return n.sort(o),n}function Ke(a,n){let o=Ms(a,n);if(!a.settings.coding.displayCount)return o;let c=ht(a,n);return`${o} (${c}x)`}async function Hr(a){let n=a.codeblockLabels.codeOverview;await $t(a,n,"Code Overview")}function Vr(a,n){let{app:o,settings:d}=a,c=[...n.children];c.sort((p,f)=>p instanceof Fe.TFolder&&f instanceof Fe.TFile?-1:p instanceof Fe.TFile&&f instanceof Fe.TFolder?1:p.name.localeCompare(f.name));let u="";for(let p of c)if(p instanceof Fe.TFolder){let f=p;if(!f.children.some(x=>x instanceof Fe.TFile&&x.extension==="md"))continue;let F=Vr(a,f);u+=`<li>\u{1F4C1} ${f.name} ${F}</li>`}else if(p instanceof Fe.TFile){let f=p,g=f.path===d.coding.folder+"/Template.md",F=f.extension!=="md";if(g||F)continue;let x=o.metadataCache.getFileCache(f)?.frontmatter?.["code description"],T=x?": "+x:"",S=`<a href="${f.path}" class="internal-link">${f.basename}</a>`,Y=ht(a,f);u+=`<li>\u{1F4C4} ${S} (${Y}x)${T}</li>`}return`<ul>${u}</ul>`}function Qr(a){let{app:n,settings:o}=a,d=n.vault.getFolderByPath(o.coding.folder);return d?Vr(a,d):`\u26A0\uFE0F Code folder "${o.coding.folder}" not found.`}var qr=require("obsidian");var jr=Rr(Os()),Es=/\^[\w-]+$/,Br=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function El(a){let[n]=a.match(Es)||[];if(n){let d=a.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:d}}return{blockId:"^id-"+(0,jr.default)().format("YYMMDD-HHmmss"),lineWithoutId:a.trim()}}function qe(a){let n=a.getCursor(),o=a.getLine(n.line),d=a.getSelection();if(d){let p=d.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");a.replaceSelection(p),o=a.getLine(n.line)}let{blockId:c,lineWithoutId:u}=El(o);return{blockId:c,lineWithoutId:u}}function Je(a,n,o,d,c){let u=a.editorComponent.view.file,p=a.editorComponent.app;p.vault.setConfig("useMarkdownLinks",!1);let f=p.fileManager.generateMarkdownLink(n,u.path,"",o),g=`${d} ${f} ${c}`,F=a.getCursor();a.setLine(F.line,g),a.setCursor(F)}var jt=require("obsidian"),Z=class extends jt.FuzzySuggestModal{hotkeyInstructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.hotkeyInstructions),this.scope.register([],"Tab",o=>{o.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",o=>{o.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Ye=class extends jt.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){this.contentEl.empty()}};var z=require("obsidian");var Gt=require("obsidian"),Le=class extends Gt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,o){super(n.app,o),this.textInputEl=o,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(d=>d instanceof Gt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(o=>o.path.includes(n))}renderSuggestion(n,o){o.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function Gr(a,n){return n.path.slice(a.settings.coding.folder.length+1)+"/"}var Bt=class extends Le{getSuggestions(n){if(!n.includes("/"))return[];let o=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),p=c.path.startsWith(o.coding.folder+"/");return u&&p})}renderSuggestion(n,o){let d=Gr(this.plugin,n);o.createEl("span",{text:d})}selectSuggestion(n){this.textInputEl.value=Gr(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var Is=class extends Ye{fullCode="";codeDesc="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let o=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),d=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new z.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new Bt(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!o(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),d())})}),new z.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),d())})}),new z.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(d)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},Ps=class extends Ye{input="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new z.Setting(n).addTextArea(o=>{o.onChange(d=>{this.input=d.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new z.Setting(n).addButton(o=>{this.confirmationButton=o.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(o=>o.setButtonText("Cancel").onClick(()=>this.close()))}};async function zr(a,n,o){let{app:d,settings:c}=a;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,z.normalizePath)(`${c.coding.folder}/${n}.md`);if(d.vault.getFileByPath(u))return new z.Notice(`Code "${n}" already exists, Code File not created.`),!1;let f=n.split("/"),g=f.pop(),F=f.length?"/"+f.join("/"):"",x=c.coding.folder+F;d.vault.getFolderByPath(x)||await d.vault.createFolder(x);let S=`code description: "${o.replaceAll('"',"'")}"`,Y=d.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(Y){let j=await d.vault.read(Y),{exists:se,frontmatter:U}=(0,z.getFrontMatterInfo)(j);se&&(U=U.match(/^code description:/m)?U.replace(/^code description:.*$/m,S):S+`
`+U,w.push(...U.trim().split(`
`)))}else w.push(S);let W=["---",...w,"---","",""],Q=await d.vault.create(`${x}/${g}.md`,W.join(`
`));return Q?(new z.Notice(`Created new code file: "${n}"`),Q):(new z.Notice("Failed to create new code file."),!1)}function Kr(a,n){new Is(a,async(o,d)=>{let c=await zr(a,o,d);c&&n(c)}).open()}function Zr(a){new Ps(a,async n=>{let o=0,d=[];for(let u of n.split(`
`))await zr(a,u,"")?o++:d.push(u);let c=`${o} file(s) created`;d.length>0&&(c+=`
Could not create: `+d.join(", ")),new z.Notice(c,(d.length+2)*1e3)}).open()}var Ys=class extends Z{editor;codesInPara;dataFile;constructor(n,o,d,c){super(n),this.editor=o,this.codesInPara=d,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([...this.hotkeyInstructions,{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(u.preventDefault(),this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...Qt(this.plugin).filter(d=>!this.codesInPara.find(c=>c.path===d.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":Ke(this.plugin,n)}onChooseItem(n){n==="new-code-file"?Kr(this.plugin,o=>this.assignCode(o,this.dataFile)):this.assignCode(n,this.dataFile)}async assignCode(n,o){let d=this.editor,c=Ms(this.plugin,n),{blockId:u,lineWithoutId:p}=qe(d);Je(d,n,c,p,u);let f=`![[${o.path.slice(0,-3)}#${u}]]
`;await this.app.vault.append(n,f)}};function Jr(a){let n=a.app,o=G(n);if(!o||be(o))return;if(b(a)!=="Data File"){new qr.Notice("You must be in a Data File to assign a code.",3e3);return}if(Ge(o))return;let c=o.editorComponent.view.file,u=o.getLine(o.getCursor().line),p=Vt(a,c,u).map(f=>f.tFile);new Ys(a,o,p,c).open()}var Xr=require("obsidian");async function en(a){let n=a.app,o=G(n);if(!o)return;if(b(a)!=="Code File"){new Xr.Notice("Must be in Code File to delete the code everywhere.");return}let d=o.editorComponent.view.file;await n.vault.trash(d,!0)}var ft=require("obsidian");function tn(a,n){let o=Object.keys(n).map(d=>Il(a,d,n[d]));return o.length===1?o[0]:function(){o.forEach(d=>d())}}function Il(a,n,o){let d=a[n],c=a.hasOwnProperty(n),u=c?d:function(){return Object.getPrototypeOf(a)[n].apply(this,arguments)},p=o(u);return d&&Object.setPrototypeOf(p,d),Object.setPrototypeOf(f,p),a[n]=f,g;function f(...F){return p===u&&a[n]===f&&g(),p.apply(this,F)}function g(){a[n]===f&&(c?a[n]=u:delete a[n]),p!==u&&(p=u,Object.setPrototypeOf(f,d||Function))}}var rn=require("obsidian");var Xe=require("obsidian");async function sn(a,n){let o=a.app,d=[],c=0,u=b(a,n),p=o.metadataCache.getFileCache(n)?.embeds||[];for(let g of p){let[F,x]=g.link.split("#");if(!F||!x)continue;let T=o.metadataCache.getFirstLinkpathDest(F,n.path);if(!T||b(a,T)!=="Data File")continue;let Y=await Ls(o,n,T,x);Y?d.push(Y):c++}if(c===0&&d.length===0){let g=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new Xe.Notice(g),console.warn(g);return}let f=`${u} "${n.name}" and ${c} references to it deleted.
`;if(d.length>0){let g=[f,`\u26A0\uFE0F ${d.length} references could not be deleted:`,"- "+d.join(`
- `)].join(`
`);console.warn(g),new Xe.Notice(g,0)}else new Xe.Notice(f)}async function Ls(a,n,o,d){let c=(await a.vault.read(o)).split(`
`),u=c.findIndex(F=>F.endsWith(d));if(u<0)return`Data File "${o.basename}", has no line with the ID "${d}".`;let p=c[u]||"",g=(p.match(new RegExp(Me,"g"))||[]).find(F=>{F=F.trim().slice(2,-2);let x=a.metadataCache.getFirstLinkpathDest(F,o.path);return x instanceof Xe.TFile&&x.path===n.path});return g?(c[u]=p.replace(g,""),await a.vault.modify(o,c.join(`
`)),""):`Data File "${o.basename}", line "${d}" has no valid link to the "${n.name}".`}function et(a){let n=a.app.vault;return tn(n,{trash:d=>async(c,u)=>{let p=b(a,c);if((p==="Code File"||p==="Extraction File")&&c instanceof rn.TFile){let g=`Intercepted deletion of "${c.name}", deleting all references to the ${p} before proceeding with deletion.`;console.info(g),await sn(a,c)}await d.apply(n,[c,u])}})}var Ns=class extends Z{toBeMergedFile;constructor(n,o){super(n),this.toBeMergedFile=o,this.setPlaceholder(`Select Code File to merge "${o.basename}" into`),this.setInstructions([{command:"INFO",purpose:"In case of property conflicts, the file selected has priority."},...this.hotkeyInstructions])}getItems(){return Qt(this.plugin).filter(o=>o.path!==this.toBeMergedFile.path)}getItemText(n){return Ke(this.plugin,n)}async onChooseItem(n){let o=this.plugin,d=`## Codes from "${this.toBeMergedFile.basename}"`,c=await this.app.vault.cachedRead(this.toBeMergedFile),{contentStart:u}=(0,ft.getFrontMatterInfo)(c),p=c.slice(u).trim(),f=[d,p].join(`
`);o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await this.app.fileManager.mergeFile(n,this.toBeMergedFile,f,!1),o.trashWatcherUninstaller=et(o),new ft.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function nn(a){let n=G(a.app);if(!n)return;if(b(a)!=="Code File"){new ft.Notice("You must be in the Code File for this.",3e3);return}let o=n.editorComponent.view.file;new Ns(a,o).open()}var Ws=require("obsidian");function an(a){b(a)!=="Code File"?new Ws.Notice("You must be in a code file."):$r(a,a.app.workspace.getActiveFile())?new Ws.Notice("You must not rename the template file."):a.app.commands.executeCommandById("workspace:edit-file-title")}var xe=require("obsidian");var Rs=class extends Z{codesInParagraph;dataFile;editor;constructor(n,o,d,c){super(n),this.codesInParagraph=c,this.dataFile=d,this.editor=o,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph"),this.setInstructions(this.hotkeyInstructions)}getItems(){return this.codesInParagraph}getItemText(n){return Ke(this.plugin,n.tFile)}onChooseItem(n){on(this.editor,this.dataFile,n)}};async function on(a,n,o){let d=a.editorComponent.app,c=a.getCursor().line,u=a.getLine(c),p=u.replace(o.wikilink,"");a.setLine(c,p);let[f]=u.match(Es)||[];if(!f){new xe.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`);return}let g=(await d.vault.read(o.tFile)).split(`
`),F=g.findIndex(x=>{if(!x.includes(f))return!1;let T=x.match(new RegExp(Me,"g"))||[];for(let S of T){let[Y,w]=S.match(Me)||[];if(!w)continue;if(d.metadataCache.getFirstLinkpathDest(w,o.tFile.path)?.path===n.path)return!0}return!1});if(F<0){new xe.Notice(`"Code File "${o.tFile.basename}" contains not reference to Data File "${n.basename}" with the ID "${f}". Reference in Code File is thus not deleted.`,7e3);return}g.splice(F,1),await d.vault.modify(o.tFile,g.join(`
`)),new xe.Notice(`Assignment of code "${o.tFile.basename}" removed.`)}async function Pl(a,n){let o=n.getLine(n.getCursor().line),[d,c,u]=o.match(Br)||[],p=n.editorComponent.view.file,f=a.metadataCache.getFirstLinkpathDest(c||"",p.path);if(!u||!c||!f){new xe.Notice("Current line has no correct reference.");return}let g=await Ls(a,p,f,u);if(g){new xe.Notice(g+`

Aborting removal of Code.`,4e3);return}a.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new xe.Notice(`Assignment of code "${p.basename}" removed.`)}function ln(a){let n=a.app,o=G(n);if(!(!o||be(o)))if(b(a)==="Code File")Pl(n,o);else if(b(a)==="Data File"){let d=o.editorComponent.view.file,c=o.getLine(o.getCursor().line),u=Vt(a,d,c);u.length===0?new xe.Notice("Line does not contain any codes to remove."):u.length===1?on(o,d,u[0]):new Rs(a,o,d,u).open()}else new xe.Notice("You must be in a Data File or Code File to unassign a code.",3e3)}var dn=[{id:"assign-code",name:"Assign code to paragraph",func:Jr,hotkeyLetter:"a",ribbonIcon:"plus-circle"},{id:"rename-code",name:"Rename code",func:an,hotkeyLetter:"r",ribbonIcon:"circle-slash"},{id:"unassign-code",name:"Remove code from paragraph",func:ln,hotkeyLetter:"d",ribbonIcon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:en,ribbonIcon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:nn,ribbonIcon:"circle-dot"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:Zr,ribbonIcon:"circle-dashed"},{id:"code-overview-codeblock",name:"Create/goto code overview file",func:Hr,ribbonIcon:"circle-equal"}];var mt=require("obsidian");async function cn(a){let{app:n,settings:o}=a,d=G(n);if(!d||be(d))return;if(b(a)!=="Data File"){new mt.Notice("You must be in a Data File to make an extraction.",3e3);return}if(Ge(d))return;let u=n.vault.getMarkdownFiles().filter(W=>W.name!=="Template.md"&&W.path.startsWith(o.extraction.folder+"/"));if(u.length===0){new mt.Notice("No extractions have been created yet.");return}let p=u.sort((W,Q)=>Q.stat.ctime-W.stat.ctime)[0],f=d.editorComponent.view.file,{blockId:g,lineWithoutId:F}=qe(d);if(d.getLine(d.getCursor().line).includes(`[[${p.basename}]]`)){new mt.Notice("The paragraph already references the last Extraction File. Aborting.");return}let T=(await n.vault.read(p)).trim().split(`
`),S=`${f.path.slice(0,-3)}#${g}`,Y=1+T.findIndex(W=>W.startsWith("extraction-source:"));if(Y===0){new mt.Notice('Could not find "extraction-source:" property in last Extraction File. Aborting.');return}let w=Y+T.slice(Y).findIndex(W=>!W.startsWith("  - "));T.splice(w,0,`  - "[[${S}]]"`),T.push(`![[${S}]]`),T.push(""),await n.vault.modify(p,T.join(`
`)),Je(d,p,p.basename,F,g)}var yt=require("obsidian");var As="yyyymmdd",Yl="8.15.12",un={pluginVersion:Yl,model:{columns:[{id:"UUID",width:"WIDTH",content:"Source",sortDir:"default",isVisible:!1,type:"source",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:As,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!1,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null},{id:"UUID",width:"WIDTH",content:"Extraction File",sortDir:"default",isVisible:!0,type:"source-file",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:As,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"count-all",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null}],rows:[],filters:[{id:"UUID",columnId:"UUID",operator:"or",isEnabled:!0,type:"source-file",condition:"is-not",text:"Template"}],sources:[{id:"UUID",type:"folder",path:"PATH",includeSubfolders:!1}],settings:{numFrozenColumns:1,showCalculationRow:!1},externalRowOrder:[]}},hn={id:"UUID",type:"LOOM_TYPE",frontmatterKey:"DIMENSION",width:"WIDTH",sortDir:"default",isVisible:!0,numberPrefix:"",numberSuffix:"",numberSeparator:"",content:"",numberFormat:"number",currencyType:"USD",dateFormat:As,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset"};var ie=require("obsidian");async function pt(a,n){let{app:o,settings:d}=a,c=d.extraction.openingMode,u=o.workspace.getLeaf();if(c==="tab"){let p=u.parent;await o.workspace.createLeafInParent(p,p.children.length).openFile(n,Ut)}else{let p=c==="right-split"?"right":"bottom",f=c==="right-split"?"vertical":"horizontal",g=o.workspace.getAdjacentLeafInDirection(u,p)||o.workspace.createLeafBySplit(u,f,!1);await g.openFile(n,Ut),g.parent.setDimension(2)}}function zt(a,n){a.vault.setConfig("propertiesInDocument","visible"),setTimeout(()=>{let o=a.workspace.getActiveViewOfType(ie.MarkdownView)?.metadataEditor.rendered[0];if(!o)return;o[n==="key"?"focusKey":"focusValue"]()},350)}function Kt(a,n){let o=a.vault.getFileByPath(`${n.path}/Template.md`);if(!o){new ie.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,5e3);return}let d=a.metadataCache.getFileCache(o)?.frontmatter;if(!d){new ie.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,5e3);return}return d}function Oe(a){let{app:n,settings:o}=a,d=n.vault.getFolderByPath(o.extraction.folder);if(!d){new ie.Notice("ERROR: Could not find Extraction Folder.",4e3);return}let c=d.children.filter(u=>u instanceof ie.TFolder&&u.children.find(p=>p.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new ie.Notice(u,0);return}return c}function Te(a){return a.children.filter(o=>o instanceof ie.TFile&&o.extension==="md"&&o.name!=="Template.md").length}function Ll(a,n){let o={text:"text",number:"number",checkbox:"checkbox",date:"date",datetime:"date",aliases:"multi-tag",tags:"multi-tag",multitext:"multi-tag"},d=a.metadataTypeManager.getPropertyInfo(n.toLowerCase())?.type;return o[d]||"text"}var Us=class extends Z{extractionTypes;constructor(n,o){super(n),this.settings=n.settings,this.extractionTypes=o,this.setPlaceholder("Select extraction type to create aggregation for"),this.setInstructions(this.hotkeyInstructions)}getItems(){return this.extractionTypes}getItemText(n){let o=n.children.length-1;return`${n.name} (${o})`}async onChooseItem(n){ze(this.app);let o=this.settings,d=Kt(this.app,n);if(!d)return;let c=[...Object.keys(d),"extraction-source","extraction-date"],u=structuredClone(un);if(!u.model?.filters[0]||!u.model?.sources[0]||!u.model?.columns[0]||!u.model?.columns[1]){new yt.Notice("ERROR: Loom Template invalid.",4e3);return}u.model.sources[0].path=n.path,u.model.sources[0].id=crypto.randomUUID(),u.model.filters[0].id=crypto.randomUUID(),u.model.columns[0].id=crypto.randomUUID();let p=crypto.randomUUID();u.model.filters[0].columnId=p,u.model.columns[1].id=p,u.model.columns[1].width="150px";for(let T of c){let S=structuredClone(hn);S.id=crypto.randomUUID(),S.frontmatterKey=T,S.content=T,S.type=Ll(this.app,T),S.width=T==="extraction-date"?"150px":"200px",u.model.columns.push(S)}let f=this.app.vault.getFolderByPath(o.analysis.folder);if(f||(f=await this.app.vault.createFolder(o.analysis.folder)),!f){new yt.Notice("ERROR: Could not create Analysis Folder.",4e3);return}let g=n.name,F;for(;F=`${o.analysis.folder}/${g} (Aggregation).loom`,!!this.app.vault.getFileByPath(F);)g+="_1";let x=await this.app.vault.create(F,JSON.stringify(u));await Ds(this.app,x)}};async function fn(a){let n=a.app;if(![...n.plugins.enabledPlugins].includes("notion-like-tables")){if(!Object.keys(n.plugins.plugins).includes("notion-like-tables")){new yt.Notice(`Plugin "DataLoom" not installed.

Please install it from the Obsidian Community Store.`,7e3);return}if(!await n.plugins.enablePluginAndSave("dataview")){new yt.Notice("ERROR: DataLoom plugin could not be enabled.",4e3);return}}let d=Oe(a);d&&new Us(a,d).open()}var Ne=require("obsidian");var $s=class extends Ye{onSubmit;nameOfNewType="";constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let o=c=>c!=="",d=()=>{this.close(),this.onSubmit(this.nameOfNewType)};new Ne.Setting(n).setName("Name of the new type").addText(c=>{c.onChange(u=>{this.nameOfNewType=u.trim(),this.confirmationButton?.setDisabled(!o(u))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.nameOfNewType)&&(u.preventDefault(),d())})}),new Ne.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(d)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}};function mn(a){let{app:n,settings:o}=a;new $s(a,async d=>{d=d.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Ne.normalizePath)(o.extraction.folder+"/"+d);await n.vault.createFolder(c),new Ne.Notice(`Creating New Template for Extraction Type "${d}"`,6e3);let u=`---
dimension: 
---

`,p=["> [!NOTE] ",'> Due to a bug in DataLoom, properties of the type "List" must not have a space in them. You can work around that issue by using underscores or hyphens instead of a space.',"> ","> See <https://github.com/trey-wallis/obsidian-dataloom/issues/932>"].join(`
`),f=await n.vault.create(c+"/Template.md",u+p);await pt(a,f),n.commands.executeCommandById("file-explorer:reveal-active-file"),zt(n,"key")}).open()}var yn=Rr(Os()),Se=require("obsidian");var Nl="-";function pn(a,n){return a.map(d=>`"${d.replaceAll('"','""')}"`).join(n)}async function gn(a){let{app:n,settings:o}=a,d=o.extraction.csvSeparator,c=Oe(a);if(!c)return;let u;for(let p of c){let f=[],g=Kt(n,p);if(!g){new Se.Notice(`Export of Extraction Type "${p.name}" is skipped.`,5e3);continue}let F=["File",...Object.keys(g),"extraction-date","extraction-source"],x=pn(F,d);f.push(x);let T=p.children.filter(U=>U instanceof Se.TFile&&U.name!=="Template.md");for(let U of T){let ue=n.metadataCache.getFileCache(U)?.frontmatter;if(!ue)continue;let ae=[];for(let We of F){if(We==="File"){ae.push(U.basename);continue}let A=ue[We]??Nl,Re=typeof A!="object"?A.toString():Array.isArray(A)?A.join("; "):JSON.stringify(A);We==="extraction-source"&&(Re=Re.replace(/\[\[|\]\]/g,"")),ae.push(Re)}let q=pn(ae,d);f.push(q)}let S=(0,Se.normalizePath)(o.analysis.folder+"/CSV Export");n.vault.getFolderByPath(S)||await n.vault.createFolder(S);let w=f.join(`
`),W=(0,yn.default)().format("YYYY-MM-DD_HH-mm-ss"),Q=(0,Se.normalizePath)(`${S}/${p.name}_${W}.csv`),j=await n.vault.create(Q,w),se=j?`Successfully exported "${p.name}".`:`ERROR: Export for "${p.name}" failed.`;new Se.Notice(se,5e3),!u&&j&&(u=j)}new Se.Notice("All CSV exports finished.",5e3),u&&n.showInFolder(u.path)}var tt=require("obsidian");var Hs=class extends Z{extractionTypes;editor;dataFile;constructor(n,o,d,c){super(n),this.extractionTypes=d,this.editor=o,this.dataFile=c,this.setPlaceholder("Select extraction type"),this.setInstructions(this.hotkeyInstructions)}getItems(){return this.extractionTypes}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return Vs.name;let d=Te(n);return`${n.name} (${d}x)`}onChooseItem(n){Vs(this.plugin,this.editor,this.dataFile,n)}};async function Vs(a,n,o,d){let c=a.app;ze(c);let u=d.name,p=d.path,f=c.vault.getFileByPath(`${p}/Template.md`);if(!f){new tt.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${u}".`);return}let g=await c.vault.cachedRead(f),{exists:F,frontmatter:x}=(0,tt.getFrontMatterInfo)(g);if(!F){new tt.Notice(`The file "Template.md" in the folder "${p}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,6e3),pt(a,f);return}let T,S=Te(d);for(;;){S++;let ue=S.toString().padStart(3,"0");if(T=`${p}/${u} ${ue}.md`,!c.vault.getFileByPath(T))break}let{blockId:Y,lineWithoutId:w}=qe(n),W=new Date().toISOString().slice(0,-5),Q=`${o.path.slice(0,-3)}#${Y}`,j=["---",...x.split(`
`),"extraction-date: "+W,"extraction-source:",`  - "[[${Q}]]"`,"---","","**Paragraph extracted from:**",`![[${Q}]]`].join(`
`),se=await c.vault.create(T,j),U=se.basename;Je(n,se,U,w,Y),await pt(a,se),zt(c,"value")}function wn(a){let n=G(a.app);if(!n||be(n))return;if(b(a)!=="Data File"){new tt.Notice("You must be in a Data File to make an extraction.",3e3);return}if(Ge(n))return;let d=Oe(a);if(!d)return;let c=n.editorComponent.view.file;d.length===1?Vs(a,n,c,d[0]):new Hs(a,n,d,c).open()}async function _n(a){let n=a.codeblockLabels.extractionOverview;await $t(a,n,"Extraction Type Overview")}function vn(a){let n=a.app,o=[];n.internalPlugins.plugins["global-search"].enable();let d=Oe(a);if(!d)return"\u26A0\uFE0F No valid extraction templates found.";for(let c of d){let u=n.vault.getFileByPath(c.path+"/Template.md");if(!u)continue;let p=n.metadataCache.getFileCache(u)?.frontmatter;if(!p){o.push(`\u26A0\uFE0F Invalid properties in template file for "${c.name}".`);continue}let f=`<a href="${u.path}" class="internal-link">${c.name}</a>`,g=Object.keys(p).map(x=>{let T=n.metadataTypeManager.getPropertyInfo(x)?.type||"",S=n.metadataCache.getFrontmatterPropertyValuesForKey(x),Y=7,w="";S.length>0&&!T.startsWith("date")&&(w=S.slice(0,Y).map(j=>`<li><a href='${`obsidian://search?query=path:"${c.path}" ["${x}":"${j}"]`}'>${j}</a></li>`).join(""),S.length>Y&&(w+=`<li><i>${S.length-Y} more\u2026</i></li>`),w="<ul>"+w+"</ul>");let Q=w||(T?": "+T:"");return`<li><b>${x}</b>${Q}</li>`}),F=Te(c);o.push(`<b>${f}</b> (${F}x)<ul>`+g.join("")+"</ul>")}return o.join("<br>")}var st=require("obsidian");var Qs=class extends Z{toBeMergedFile;constructor(n,o){super(n),this.toBeMergedFile=o,this.setPlaceholder(`Select Extraction File to merge "${o.basename}" into.`),this.setInstructions([{command:"INFO",purpose:"In case of property conflicts, the file selected has priority."},...this.hotkeyInstructions])}getItems(){return this.toBeMergedFile.parent.children.filter(d=>d instanceof st.TFile&&d.extension==="md"&&d.name!=="Template.md"&&d.path!==this.toBeMergedFile.path).sort((d,c)=>c.stat.mtime-d.stat.mtime)}getItemText(n){return n.basename}async onChooseItem(n){let{plugin:o,app:d}=this;o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await d.fileManager.mergeFile(n,this.toBeMergedFile,"",!1),o.trashWatcherUninstaller=et(o);let c=n,u=(await d.vault.read(c)).replaceAll(`**Paragraph extracted from:**
`,"").replaceAll(`


`,`
`);setTimeout(async()=>await d.vault.modify(c,u),200),new st.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function Fn(a){let n=G(a.app);if(!n)return;if(b(a)!=="Extraction File"){new st.Notice("You must be in the Extraction File for this.",3e3);return}let o=n.editorComponent.view.file;if(Te(o.parent)<2){new st.Notice("There must be at least two extractions of the same type to merge.",4e3);return}new Qs(a,o).open()}var xn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:wn,hotkeyLetter:"e",ribbonIcon:"plus-square"},{id:"extract-to-last-extraction-file",name:"Add paragraph to last Extraction File",func:cn,hotkeyLetter:"l",ribbonIcon:"square-asterisk"},{id:"merge-extractions",name:"Merge current Extraction File into another Extraction File",func:Fn,ribbonIcon:"square-dot"},{id:"aggregate-extractions",name:"Aggregate extractions",func:fn,ribbonIcon:"sigma-square"},{id:"create-new-extraction-type",name:"Create new Extraction Type",func:mn,ribbonIcon:"box-select"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:gn,ribbonIcon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Create/Goto extraction type overview file",func:_n,ribbonIcon:"square-equal"}];function Zt(a){let n=a.settings.suppressSuggestionInFields.map(d=>`[data-property-key="${d}"]`).join(", "),o=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!a.styleElSuppressSuggestionsInFields){let d=activeDocument.createElement("style");d.addClass(a.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),a.register(()=>d?.detach()),a.styleElSuppressSuggestionsInFields=d}a.styleElSuppressSuggestionsInFields.textContent=o,a.app.workspace.trigger("css-change")}function qt(a){let o=`body .metadata-property-key { min-width: ${a.settings.propertiesKeysWidthPercent}% }`;if(!a.styleElPropertyKeyWidth){let d=activeDocument.createElement("style");d.addClass(a.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),a.register(()=>d?.detach()),a.styleElPropertyKeyWidth=d}a.styleElPropertyKeyWidth.textContent=o,a.app.workspace.trigger("css-change")}var K=require("obsidian");function js(a){return(0,K.normalizePath)(a).replace(/:/g,"-")}var Jt=class extends K.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,o=this.plugin.settings,d={"min-width":"15rem"};n.empty(),n.addClass(this.plugin.cssclass),new K.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(c=>c.setPlaceholder("One property per line").setValue(o.suppressSuggestionInFields.join(`
`)).onChange(async u=>{let p=u.split(`
`).map(f=>f.trim()).filter(f=>f!=="");o.suppressSuggestionInFields=p,await this.plugin.saveSettings(),Zt(this.plugin)}).inputEl.setCssProps({"min-height":"5rem","min-width":"15rem"})),new K.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(c=>c.setLimits(20,60,5).setDynamicTooltip().setValue(o.propertiesKeysWidthPercent).onChange(async u=>{o.propertiesKeysWidthPercent=u,await this.plugin.saveSettings(),qt(this.plugin)})),n.createEl("h3",{text:"Coding"}),new K.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(c=>{new Le(this.plugin,c.inputEl),c.setPlaceholder(ce.coding.folder).setValue(o.coding.folder).onChange(async u=>{o.coding.folder=js(u)||ce.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(d)}),new K.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(o.coding.displayCount).onChange(async u=>{o.coding.displayCount=u,await this.plugin.saveSettings()})),new K.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(c=>{for(let u in Ht)c.addOption(u,u);c.setValue(o.coding.sortFunc).onChange(async u=>{o.coding.sortFunc=u,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new K.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(c=>{new Le(this.plugin,c.inputEl),c.setPlaceholder(ce.extraction.folder).setValue(o.extraction.folder).onChange(async u=>{o.extraction.folder=js(u)||ce.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(d)}),new K.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(o.extraction.displayCount).onChange(async u=>{o.extraction.displayCount=u,await this.plugin.saveSettings()})),new K.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(c=>{c.addOptions(Ur).setValue(o.extraction.openingMode).onChange(async u=>{o.extraction.openingMode=u,await this.plugin.saveSettings()})}),new K.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(c=>{c.addOptions(Ar).setValue(o.extraction.csvSeparator).onChange(async u=>{o.extraction.csvSeparator=u,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new K.Setting(n).setName("Analysis folder").setDesc("Location where aggregations, overviews, and exports are stored.").addSearch(c=>{new Le(this.plugin,c.inputEl),c.setPlaceholder(ce.analysis.folder).setValue(o.analysis.folder).onChange(async u=>{o.analysis.folder=js(u)||ce.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(d)})}};function Xt(a){let{app:n,statusbar:o,settings:d}=a,c=n.workspace.getActiveFile();if(!c){o.setText("");return}let u=[];if(b(a)==="Code File"){let x=ht(a,c);u.push(`Code ${x}x assigned`)}else if(b(a)==="Extraction File"){let F=c.parent;if(F){let x=Te(F);u.push(`${x}x extracted`)}}else{let F=n.metadataCache.resolvedLinks[c.path]||{},x=0,T=0;for(let[S,Y]of Object.entries(F))S.startsWith(d.coding.folder+"/")&&(x+=Y),S.startsWith(d.extraction.folder+"/")&&T++;x>0&&u.push(`${x} Codes`),T>0&&u.push(`${T} Extractions`)}let p=n.metadataCache.unresolvedLinks[c.path]||{},f=0;for(let[F,x]of Object.entries(p))f+=x;f>0&&u.push(`${f} invalid links`);let g=u.map(F=>F.replace(/^(1 .*)s$/,"$1")).join(", ");o.setText(g)}var es=class extends Tn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontypes-overview",codeOverview:"quadro-code-overview"};statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=ce;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...dn,...xn]){let o=this.addRibbonIcon(n.ribbonIcon,`Quadro: ${n.name}`,()=>n.func(this));o.addClass(this.cssclass),o.setCssProps({border:"1px solid var(--text-faint)"});let d={id:n.id,name:n.name,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(d.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(d)}this.statusbar.addClass(this.cssclass),Xt(this),this.registerEvent(this.app.workspace.on("file-open",()=>Xt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>Xt(this))),this.trashWatcherUninstaller=et(this),await this.loadSettings(),this.addSettingTab(new Jt(this)),Zt(this),qt(this),ze(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,o)=>{o.innerHTML=Qr(this),o.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,o)=>{o.innerHTML=vn(this),o.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},ce,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
