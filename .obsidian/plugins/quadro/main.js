/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var yl=Object.create;var It=Object.defineProperty;var wl=Object.getOwnPropertyDescriptor;var _l=Object.getOwnPropertyNames;var vl=Object.getPrototypeOf,Fl=Object.prototype.hasOwnProperty;var xl=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),Sl=(a,n)=>{for(var o in n)It(a,o,{get:n[o],enumerable:!0})},Lr=(a,n,o,d)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of _l(n))!Fl.call(a,c)&&c!==o&&It(a,c,{get:()=>n[c],enumerable:!(d=wl(n,c))||d.enumerable});return a};var Nr=(a,n,o)=>(o=a!=null?yl(vl(a)):{},Lr(n||!a||!a.__esModule?It(o,"default",{value:a,enumerable:!0}):o,a)),Tl=a=>Lr(It({},"__esModule",{value:!0}),a);var bs=xl((Ms,qe)=>{(function(a,n){typeof Ms=="object"&&typeof qe<"u"?qe.exports=n():typeof define=="function"&&define.amd?define(n):a.moment=n()})(Ms,function(){"use strict";var a;function n(){return a.apply(null,arguments)}function o(e){a=e}function d(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function m(e){return e===void 0}function w(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function F(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){var s=[],r,i=e.length;for(r=0;r<i;++r)s.push(t(e[r],r));return s}function C(e,t){for(var s in t)u(t,s)&&(e[s]=t[s]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function S(e,t,s,r){return fr(e,t,s,r,!0).utc()}function I(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return e._pf==null&&(e._pf=I()),e._pf}var q;Array.prototype.some?q=Array.prototype.some:q=function(e){var t=Object(this),s=t.length>>>0,r;for(r=0;r<s;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function z(e){if(e._isValid==null){var t=y(e),s=q.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function V(e){var t=S(NaN);return e!=null?C(y(t),e):y(t).userInvalidated=!0,t}var Se=n.momentProperties=[],A=!1;function oe(e,t){var s,r,i,l=Se.length;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=y(t)),m(t._locale)||(e._locale=t._locale),l>0)for(s=0;s<l;s++)r=Se[s],i=t[r],m(i)||(e[r]=i);return e}function te(e){oe(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A===!1&&(A=!0,n.updateOffset(this),A=!1)}function j(e){return e instanceof te||e!=null&&e._isAMomentObject!=null}function se(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function W(e,t){var s=!0;return C(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),s){var r=[],i,l,h,v=arguments.length;for(l=0;l<v;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(h in arguments[0])u(arguments[0],h)&&(i+=h+": "+arguments[0][h]+", ");i=i.slice(0,-2)}else i=arguments[l];r.push(i)}se(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var Te={};function $e(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),Te[e]||(se(t),Te[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function re(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function wn(e){var t,s;for(s in e)u(e,s)&&(t=e[s],re(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function es(e,t){var s=C({},e),r;for(r in t)u(t,r)&&(c(e[r])&&c(t[r])?(s[r]={},C(s[r],e[r]),C(s[r],t[r])):t[r]!=null?s[r]=t[r]:delete s[r]);for(r in e)u(e,r)&&!u(t,r)&&c(e[r])&&(s[r]=C({},s[r]));return s}function ts(e){e!=null&&this.set(e)}var ss;Object.keys?ss=Object.keys:ss=function(e){var t,s=[];for(t in e)u(e,t)&&s.push(t);return s};var _n={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function vn(e,t,s){var r=this._calendar[e]||this._calendar.sameElse;return re(r)?r.call(t,s):r}function le(e,t,s){var r=""+Math.abs(e),i=t-r.length,l=e>=0;return(l?s?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var rs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ht=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ns={},Ue={};function _(e,t,s,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Ue[e]=i),t&&(Ue[t[0]]=function(){return le(i.apply(this,arguments),t[1],t[2])}),s&&(Ue[s]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Fn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function xn(e){var t=e.match(rs),s,r;for(s=0,r=t.length;s<r;s++)Ue[t[s]]?t[s]=Ue[t[s]]:t[s]=Fn(t[s]);return function(i){var l="",h;for(h=0;h<r;h++)l+=re(t[h])?t[h].call(i,e):t[h];return l}}function ft(e,t){return e.isValid()?(t=Qs(t,e.localeData()),ns[t]=ns[t]||xn(t),ns[t](e)):e.localeData().invalidDate()}function Qs(e,t){var s=5;function r(i){return t.longDateFormat(i)||i}for(ht.lastIndex=0;s>=0&&ht.test(e);)e=e.replace(ht,r),ht.lastIndex=0,s-=1;return e}var Sn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Tn(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(rs).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Cn="Invalid date";function kn(){return this._invalidDate}var Dn="%d",Mn=/\d{1,2}/;function bn(e){return this._ordinal.replace("%d",e)}var On={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function En(e,t,s,r){var i=this._relativeTime[s];return re(i)?i(e,t,s,r):i.replace(/%d/i,e)}function Yn(e,t){var s=this._relativeTime[e>0?"future":"past"];return re(s)?s(t):s.replace(/%s/i,t)}var et={};function $(e,t){var s=e.toLowerCase();et[s]=et[s+"s"]=et[t]=e}function J(e){return typeof e=="string"?et[e]||et[e.toLowerCase()]:void 0}function is(e){var t={},s,r;for(r in e)u(e,r)&&(s=J(r),s&&(t[s]=e[r]));return t}var Gs={};function U(e,t){Gs[e]=t}function Pn(e){var t=[],s;for(s in e)u(e,s)&&t.push({unit:s,priority:Gs[s]});return t.sort(function(r,i){return r.priority-i.priority}),t}function mt(e){return e%4===0&&e%100!==0||e%400===0}function X(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function k(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=X(t)),s}function He(e,t){return function(s){return s!=null?(Bs(this,e,s),n.updateOffset(this,t),this):pt(this,e)}}function pt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Bs(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&mt(e.year())&&e.month()===1&&e.date()===29?(s=k(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),xt(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function In(e){return e=J(e),re(this[e])?this[e]():this}function Ln(e,t){if(typeof e=="object"){e=is(e);var s=Pn(e),r,i=s.length;for(r=0;r<i;r++)this[s[r].unit](e[s[r].unit])}else if(e=J(e),re(this[e]))return this[e](t);return this}var zs=/\d/,K=/\d\d/,Ks=/\d{3}/,as=/\d{4}/,gt=/[+-]?\d{6}/,E=/\d\d?/,Zs=/\d\d\d\d?/,qs=/\d\d\d\d\d\d?/,yt=/\d{1,3}/,os=/\d{1,4}/,wt=/[+-]?\d{1,6}/,Ve=/\d+/,_t=/[+-]?\d+/,Nn=/Z|[+-]\d\d:?\d\d/gi,vt=/Z|[+-]\d\d(?::?\d\d)?/gi,Wn=/[+-]?\d+(\.\d{1,3})?/,tt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ft;Ft={};function g(e,t,s){Ft[e]=re(t)?t:function(r,i){return r&&s?s:t}}function Rn(e,t){return u(Ft,e)?Ft[e](t._strict,t._locale):new RegExp(An(e))}function An(e){return Z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,r,i,l){return s||r||i||l}))}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ls={};function b(e,t){var s,r=t,i;for(typeof e=="string"&&(e=[e]),w(t)&&(r=function(l,h){h[t]=k(l)}),i=e.length,s=0;s<i;s++)ls[e[s]]=r}function st(e,t){b(e,function(s,r,i,l){i._w=i._w||{},t(s,i._w,i,l)})}function $n(e,t,s){t!=null&&u(ls,e)&&ls[e](t,s._a,s,e)}var H=0,ue=1,de=2,R=3,ne=4,he=5,Ye=6,Un=7,Hn=8;function Vn(e,t){return(e%t+t)%t}var N;Array.prototype.indexOf?N=Array.prototype.indexOf:N=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function xt(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=Vn(t,12);return e+=(t-s)/12,s===1?mt(e)?29:28:31-s%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),U("month",8),g("M",E),g("MM",E,K),g("MMM",function(e,t){return t.monthsShortRegex(e)}),g("MMMM",function(e,t){return t.monthsRegex(e)}),b(["M","MM"],function(e,t){t[ue]=k(e)-1}),b(["MMM","MMMM"],function(e,t,s,r){var i=s._locale.monthsParse(e,r,s._strict);i!=null?t[ue]=i:y(s).invalidMonth=e});var jn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Js="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qn=tt,Gn=tt;function Bn(e,t){return e?d(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Xs).test(t)?"format":"standalone"][e.month()]:d(this._months)?this._months:this._months.standalone}function zn(e,t){return e?d(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Xs.test(t)?"format":"standalone"][e.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Kn(e,t,s){var r,i,l,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)l=S([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(l,"").toLocaleLowerCase();return s?t==="MMM"?(i=N.call(this._shortMonthsParse,h),i!==-1?i:null):(i=N.call(this._longMonthsParse,h),i!==-1?i:null):t==="MMM"?(i=N.call(this._shortMonthsParse,h),i!==-1?i:(i=N.call(this._longMonthsParse,h),i!==-1?i:null)):(i=N.call(this._longMonthsParse,h),i!==-1?i:(i=N.call(this._shortMonthsParse,h),i!==-1?i:null))}function Zn(e,t,s){var r,i,l;if(this._monthsParseExact)return Kn.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=S([2e3,r]),s&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!s&&!this._monthsParse[r]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(l.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(s&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!s&&this._monthsParse[r].test(e))return r}}function er(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=k(t);else if(t=e.localeData().monthsParse(t),!w(t))return e}return s=Math.min(e.date(),xt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function tr(e){return e!=null?(er(this,e),n.updateOffset(this,!0),this):pt(this,"Month")}function qn(){return xt(this.year(),this.month())}function Jn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||sr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Qn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Xn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||sr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Gn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function sr(){function e(h,v){return v.length-h.length}var t=[],s=[],r=[],i,l;for(i=0;i<12;i++)l=S([2e3,i]),t.push(this.monthsShort(l,"")),s.push(this.months(l,"")),r.push(this.months(l,"")),r.push(this.monthsShort(l,""));for(t.sort(e),s.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Z(t[i]),s[i]=Z(s[i]);for(i=0;i<24;i++)r[i]=Z(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?le(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),$("year","y"),U("year",1),g("Y",_t),g("YY",E,K),g("YYYY",os,as),g("YYYYY",wt,gt),g("YYYYYY",wt,gt),b(["YYYYY","YYYYYY"],H),b("YYYY",function(e,t){t[H]=e.length===2?n.parseTwoDigitYear(e):k(e)}),b("YY",function(e,t){t[H]=n.parseTwoDigitYear(e)}),b("Y",function(e,t){t[H]=parseInt(e,10)});function rt(e){return mt(e)?366:365}n.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var rr=He("FullYear",!0);function ei(){return mt(this.year())}function ti(e,t,s,r,i,l,h){var v;return e<100&&e>=0?(v=new Date(e+400,t,s,r,i,l,h),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,t,s,r,i,l,h),v}function nt(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function St(e,t,s){var r=7+t-s,i=(7+nt(e,0,r).getUTCDay()-t)%7;return-i+r-1}function nr(e,t,s,r,i){var l=(7+s-r)%7,h=St(e,r,i),v=1+7*(t-1)+l+h,T,O;return v<=0?(T=e-1,O=rt(T)+v):v>rt(e)?(T=e+1,O=v-rt(e)):(T=e,O=v),{year:T,dayOfYear:O}}function it(e,t,s){var r=St(e.year(),t,s),i=Math.floor((e.dayOfYear()-r-1)/7)+1,l,h;return i<1?(h=e.year()-1,l=i+fe(h,t,s)):i>fe(e.year(),t,s)?(l=i-fe(e.year(),t,s),h=e.year()+1):(h=e.year(),l=i),{week:l,year:h}}function fe(e,t,s){var r=St(e,t,s),i=St(e+1,t,s);return(rt(e)-r+i)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),U("week",5),U("isoWeek",5),g("w",E),g("ww",E,K),g("W",E),g("WW",E,K),st(["w","ww","W","WW"],function(e,t,s,r){t[r.substr(0,1)]=k(e)});function si(e){return it(e,this._week.dow,this._week.doy).week}var ri={dow:0,doy:6};function ni(){return this._week.dow}function ii(){return this._week.doy}function ai(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function oi(e){var t=it(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),g("d",E),g("e",E),g("E",E),g("dd",function(e,t){return t.weekdaysMinRegex(e)}),g("ddd",function(e,t){return t.weekdaysShortRegex(e)}),g("dddd",function(e,t){return t.weekdaysRegex(e)}),st(["dd","ddd","dddd"],function(e,t,s,r){var i=s._locale.weekdaysParse(e,r,s._strict);i!=null?t.d=i:y(s).invalidWeekday=e}),st(["d","e","E"],function(e,t,s,r){t[r]=k(e)});function li(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function di(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ds(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ir="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ui="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),hi=tt,fi=tt,mi=tt;function pi(e,t){var s=d(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?ds(s,this._week.dow):e?s[e.day()]:s}function gi(e){return e===!0?ds(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function yi(e){return e===!0?ds(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function wi(e,t,s){var r,i,l,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)l=S([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(l,"").toLocaleLowerCase();return s?t==="dddd"?(i=N.call(this._weekdaysParse,h),i!==-1?i:null):t==="ddd"?(i=N.call(this._shortWeekdaysParse,h),i!==-1?i:null):(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null):t==="dddd"?(i=N.call(this._weekdaysParse,h),i!==-1||(i=N.call(this._shortWeekdaysParse,h),i!==-1)?i:(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null)):t==="ddd"?(i=N.call(this._shortWeekdaysParse,h),i!==-1||(i=N.call(this._weekdaysParse,h),i!==-1)?i:(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null)):(i=N.call(this._minWeekdaysParse,h),i!==-1||(i=N.call(this._weekdaysParse,h),i!==-1)?i:(i=N.call(this._shortWeekdaysParse,h),i!==-1?i:null))}function _i(e,t,s){var r,i,l;if(this._weekdaysParseExact)return wi.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=S([2e3,1]).day(r),s&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(l.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(s&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(s&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!s&&this._weekdaysParse[r].test(e))return r}}function vi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=li(e,this.localeData()),this.add(e-t,"d")):t}function Fi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function xi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=di(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Si(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||cs.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=hi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ti(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||cs.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ci(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||cs.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cs(){function e(Q,we){return we.length-Q.length}var t=[],s=[],r=[],i=[],l,h,v,T,O;for(l=0;l<7;l++)h=S([2e3,1]).day(l),v=Z(this.weekdaysMin(h,"")),T=Z(this.weekdaysShort(h,"")),O=Z(this.weekdays(h,"")),t.push(v),s.push(T),r.push(O),i.push(v),i.push(T),i.push(O);t.sort(e),s.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function us(){return this.hours()%12||12}function ki(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,us),_("k",["kk",2],0,ki),_("hmm",0,0,function(){return""+us.apply(this)+le(this.minutes(),2)}),_("hmmss",0,0,function(){return""+us.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)});function ar(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ar("a",!0),ar("A",!1),$("hour","h"),U("hour",13);function or(e,t){return t._meridiemParse}g("a",or),g("A",or),g("H",E),g("h",E),g("k",E),g("HH",E,K),g("hh",E,K),g("kk",E,K),g("hmm",Zs),g("hmmss",qs),g("Hmm",Zs),g("Hmmss",qs),b(["H","HH"],R),b(["k","kk"],function(e,t,s){var r=k(e);t[R]=r===24?0:r}),b(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e}),b(["h","hh"],function(e,t,s){t[R]=k(e),y(s).bigHour=!0}),b("hmm",function(e,t,s){var r=e.length-2;t[R]=k(e.substr(0,r)),t[ne]=k(e.substr(r)),y(s).bigHour=!0}),b("hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[R]=k(e.substr(0,r)),t[ne]=k(e.substr(r,2)),t[he]=k(e.substr(i)),y(s).bigHour=!0}),b("Hmm",function(e,t,s){var r=e.length-2;t[R]=k(e.substr(0,r)),t[ne]=k(e.substr(r))}),b("Hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[R]=k(e.substr(0,r)),t[ne]=k(e.substr(r,2)),t[he]=k(e.substr(i))});function Di(e){return(e+"").toLowerCase().charAt(0)==="p"}var Mi=/[ap]\.?m?\.?/i,bi=He("Hours",!0);function Oi(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var lr={calendar:_n,longDateFormat:Sn,invalidDate:Cn,ordinal:Dn,dayOfMonthOrdinalParse:Mn,relativeTime:On,months:jn,monthsShort:Js,week:ri,weekdays:ci,weekdaysMin:ui,weekdaysShort:ir,meridiemParse:Mi},L={},at={},ot;function Ei(e,t){var s,r=Math.min(e.length,t.length);for(s=0;s<r;s+=1)if(e[s]!==t[s])return s;return r}function dr(e){return e&&e.toLowerCase().replace("_","-")}function Yi(e){for(var t=0,s,r,i,l;t<e.length;){for(l=dr(e[t]).split("-"),s=l.length,r=dr(e[t+1]),r=r?r.split("-"):null;s>0;){if(i=Tt(l.slice(0,s).join("-")),i)return i;if(r&&r.length>=s&&Ei(l,r)>=s-1)break;s--}t++}return ot}function Pi(e){return e.match("^[^/\\\\]*$")!=null}function Tt(e){var t=null,s;if(L[e]===void 0&&typeof qe<"u"&&qe&&qe.exports&&Pi(e))try{t=ot._abbr,s=require,s("./locale/"+e),Ce(t)}catch{L[e]=null}return L[e]}function Ce(e,t){var s;return e&&(m(t)?s=me(e):s=hs(e,t),s?ot=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function hs(e,t){if(t!==null){var s,r=lr;if(t.abbr=e,L[e]!=null)$e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=L[e]._config;else if(t.parentLocale!=null)if(L[t.parentLocale]!=null)r=L[t.parentLocale]._config;else if(s=Tt(t.parentLocale),s!=null)r=s._config;else return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;return L[e]=new ts(es(r,t)),at[e]&&at[e].forEach(function(i){hs(i.name,i.config)}),Ce(e),L[e]}else return delete L[e],null}function Ii(e,t){if(t!=null){var s,r,i=lr;L[e]!=null&&L[e].parentLocale!=null?L[e].set(es(L[e]._config,t)):(r=Tt(e),r!=null&&(i=r._config),t=es(i,t),r==null&&(t.abbr=e),s=new ts(t),s.parentLocale=L[e],L[e]=s),Ce(e)}else L[e]!=null&&(L[e].parentLocale!=null?(L[e]=L[e].parentLocale,e===Ce()&&Ce(e)):L[e]!=null&&delete L[e]);return L[e]}function me(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!d(e)){if(t=Tt(e),t)return t;e=[e]}return Yi(e)}function Li(){return ss(L)}function fs(e){var t,s=e._a;return s&&y(e).overflow===-2&&(t=s[ue]<0||s[ue]>11?ue:s[de]<1||s[de]>xt(s[H],s[ue])?de:s[R]<0||s[R]>24||s[R]===24&&(s[ne]!==0||s[he]!==0||s[Ye]!==0)?R:s[ne]<0||s[ne]>59?ne:s[he]<0||s[he]>59?he:s[Ye]<0||s[Ye]>999?Ye:-1,y(e)._overflowDayOfYear&&(t<H||t>de)&&(t=de),y(e)._overflowWeeks&&t===-1&&(t=Un),y(e)._overflowWeekday&&t===-1&&(t=Hn),y(e).overflow=t),e}var Ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/Z|[+-]\d\d(?::?\d\d)?/,Ct=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ms=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ai=/^\/?Date\((-?\d+)/i,$i=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ui={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cr(e){var t,s,r=e._i,i=Ni.exec(r)||Wi.exec(r),l,h,v,T,O=Ct.length,Q=ms.length;if(i){for(y(e).iso=!0,t=0,s=O;t<s;t++)if(Ct[t][1].exec(i[1])){h=Ct[t][0],l=Ct[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(i[3]){for(t=0,s=Q;t<s;t++)if(ms[t][1].exec(i[3])){v=(i[2]||" ")+ms[t][0];break}if(v==null){e._isValid=!1;return}}if(!l&&v!=null){e._isValid=!1;return}if(i[4])if(Ri.exec(i[4]))T="Z";else{e._isValid=!1;return}e._f=h+(v||"")+(T||""),gs(e)}else e._isValid=!1}function Hi(e,t,s,r,i,l){var h=[Vi(e),Js.indexOf(t),parseInt(s,10),parseInt(r,10),parseInt(i,10)];return l&&h.push(parseInt(l,10)),h}function Vi(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ji(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Qi(e,t,s){if(e){var r=ir.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return y(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function Gi(e,t,s){if(e)return Ui[e];if(t)return 0;var r=parseInt(s,10),i=r%100,l=(r-i)/100;return l*60+i}function ur(e){var t=$i.exec(ji(e._i)),s;if(t){if(s=Hi(t[4],t[3],t[2],t[5],t[6],t[7]),!Qi(t[1],s,e))return;e._a=s,e._tzm=Gi(t[8],t[9],t[10]),e._d=nt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Bi(e){var t=Ai.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(cr(e),e._isValid===!1)delete e._isValid;else return;if(ur(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=W("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function je(e,t,s){return e??t??s}function zi(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ps(e){var t,s,r=[],i,l,h;if(!e._d){for(i=zi(e),e._w&&e._a[de]==null&&e._a[ue]==null&&Ki(e),e._dayOfYear!=null&&(h=je(e._a[H],i[H]),(e._dayOfYear>rt(h)||e._dayOfYear===0)&&(y(e)._overflowDayOfYear=!0),s=nt(h,0,e._dayOfYear),e._a[ue]=s.getUTCMonth(),e._a[de]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[R]===24&&e._a[ne]===0&&e._a[he]===0&&e._a[Ye]===0&&(e._nextDay=!0,e._a[R]=0),e._d=(e._useUTC?nt:ti).apply(null,r),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[R]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==l&&(y(e).weekdayMismatch=!0)}}function Ki(e){var t,s,r,i,l,h,v,T,O;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(l=1,h=4,s=je(t.GG,e._a[H],it(Y(),1,4).year),r=je(t.W,1),i=je(t.E,1),(i<1||i>7)&&(T=!0)):(l=e._locale._week.dow,h=e._locale._week.doy,O=it(Y(),l,h),s=je(t.gg,e._a[H],O.year),r=je(t.w,O.week),t.d!=null?(i=t.d,(i<0||i>6)&&(T=!0)):t.e!=null?(i=t.e+l,(t.e<0||t.e>6)&&(T=!0)):i=l),r<1||r>fe(s,l,h)?y(e)._overflowWeeks=!0:T!=null?y(e)._overflowWeekday=!0:(v=nr(s,r,i,l,h),e._a[H]=v.year,e._dayOfYear=v.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function gs(e){if(e._f===n.ISO_8601){cr(e);return}if(e._f===n.RFC_2822){ur(e);return}e._a=[],y(e).empty=!0;var t=""+e._i,s,r,i,l,h,v=t.length,T=0,O,Q;for(i=Qs(e._f,e._locale).match(rs)||[],Q=i.length,s=0;s<Q;s++)l=i[s],r=(t.match(Rn(l,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&y(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),T+=r.length),Ue[l]?(r?y(e).empty=!1:y(e).unusedTokens.push(l),$n(l,r,e)):e._strict&&!r&&y(e).unusedTokens.push(l);y(e).charsLeftOver=v-T,t.length>0&&y(e).unusedInput.push(t),e._a[R]<=12&&y(e).bigHour===!0&&e._a[R]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[R]=Zi(e._locale,e._a[R],e._meridiem),O=y(e).era,O!==null&&(e._a[H]=e._locale.erasConvertYear(O,e._a[H])),ps(e),fs(e)}function Zi(e,t,s){var r;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(r=e.isPM(s),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function qi(e){var t,s,r,i,l,h,v=!1,T=e._f.length;if(T===0){y(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<T;i++)l=0,h=!1,t=oe({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],gs(t),z(t)&&(h=!0),l+=y(t).charsLeftOver,l+=y(t).unusedTokens.length*10,y(t).score=l,v?l<r&&(r=l,s=t):(r==null||l<r||h)&&(r=l,s=t,h&&(v=!0));C(e,s||t)}function Ji(e){if(!e._d){var t=is(e._i),s=t.day===void 0?t.date:t.day;e._a=x([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),ps(e)}}function Xi(e){var t=new te(fs(hr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function hr(e){var t=e._i,s=e._f;return e._locale=e._locale||me(e._l),t===null||s===void 0&&t===""?V({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),j(t)?new te(fs(t)):(F(t)?e._d=t:d(s)?qi(e):s?gs(e):ea(e),z(e)||(e._d=null),e))}function ea(e){var t=e._i;m(t)?e._d=new Date(n.now()):F(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Bi(e):d(t)?(e._a=x(t.slice(0),function(s){return parseInt(s,10)}),ps(e)):c(t)?Ji(e):w(t)?e._d=new Date(t):n.createFromInputFallback(e)}function fr(e,t,s,r,i){var l={};return(t===!0||t===!1)&&(r=t,t=void 0),(s===!0||s===!1)&&(r=s,s=void 0),(c(e)&&p(e)||d(e)&&e.length===0)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=s,l._i=e,l._f=t,l._strict=r,Xi(l)}function Y(e,t,s,r){return fr(e,t,s,r,!1)}var ta=W("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:V()}),sa=W("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:V()});function mr(e,t){var s,r;if(t.length===1&&d(t[0])&&(t=t[0]),!t.length)return Y();for(s=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](s))&&(s=t[r]);return s}function ra(){var e=[].slice.call(arguments,0);return mr("isBefore",e)}function na(){var e=[].slice.call(arguments,0);return mr("isAfter",e)}var ia=function(){return Date.now?Date.now():+new Date},lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function aa(e){var t,s=!1,r,i=lt.length;for(t in e)if(u(e,t)&&!(N.call(lt,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[lt[r]]){if(s)return!1;parseFloat(e[lt[r]])!==k(e[lt[r]])&&(s=!0)}return!0}function oa(){return this._isValid}function la(){return ie(NaN)}function kt(e){var t=is(e),s=t.year||0,r=t.quarter||0,i=t.month||0,l=t.week||t.isoWeek||0,h=t.day||0,v=t.hour||0,T=t.minute||0,O=t.second||0,Q=t.millisecond||0;this._isValid=aa(t),this._milliseconds=+Q+O*1e3+T*6e4+v*1e3*60*60,this._days=+h+l*7,this._months=+i+r*3+s*12,this._data={},this._locale=me(),this._bubble()}function Dt(e){return e instanceof kt}function ys(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function da(e,t,s){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),l=0,h;for(h=0;h<r;h++)(s&&e[h]!==t[h]||!s&&k(e[h])!==k(t[h]))&&l++;return l+i}function pr(e,t){_(e,0,0,function(){var s=this.utcOffset(),r="+";return s<0&&(s=-s,r="-"),r+le(~~(s/60),2)+t+le(~~s%60,2)})}pr("Z",":"),pr("ZZ",""),g("Z",vt),g("ZZ",vt),b(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=ws(vt,e)});var ca=/([\+\-]|\d\d)/gi;function ws(e,t){var s=(t||"").match(e),r,i,l;return s===null?null:(r=s[s.length-1]||[],i=(r+"").match(ca)||["-",0,0],l=+(i[1]*60)+k(i[2]),l===0?0:i[0]==="+"?l:-l)}function _s(e,t){var s,r;return t._isUTC?(s=t.clone(),r=(j(e)||F(e)?e.valueOf():Y(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+r),n.updateOffset(s,!1),s):Y(e).local()}function vs(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function ua(e,t,s){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ws(vt,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(i=vs(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?_r(this,ie(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:vs(this)}function ha(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function fa(e){return this.utcOffset(0,e)}function ma(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(vs(this),"m")),this}function pa(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ws(Nn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ga(e){return this.isValid()?(e=e?Y(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ya(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wa(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={},t;return oe(e,this),e=hr(e),e._a?(t=e._isUTC?S(e._a):Y(e._a),this._isDSTShifted=this.isValid()&&da(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _a(){return this.isValid()?!this._isUTC:!1}function va(){return this.isValid()?this._isUTC:!1}function gr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Fa=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xa=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ie(e,t){var s=e,r=null,i,l,h;return Dt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:w(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(r=Fa.exec(e))?(i=r[1]==="-"?-1:1,s={y:0,d:k(r[de])*i,h:k(r[R])*i,m:k(r[ne])*i,s:k(r[he])*i,ms:k(ys(r[Ye]*1e3))*i}):(r=xa.exec(e))?(i=r[1]==="-"?-1:1,s={y:Pe(r[2],i),M:Pe(r[3],i),w:Pe(r[4],i),d:Pe(r[5],i),h:Pe(r[6],i),m:Pe(r[7],i),s:Pe(r[8],i)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(h=Sa(Y(s.from),Y(s.to)),s={},s.ms=h.milliseconds,s.M=h.months),l=new kt(s),Dt(e)&&u(e,"_locale")&&(l._locale=e._locale),Dt(e)&&u(e,"_isValid")&&(l._isValid=e._isValid),l}ie.fn=kt.prototype,ie.invalid=la;function Pe(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function yr(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function Sa(e,t){var s;return e.isValid()&&t.isValid()?(t=_s(t,e),e.isBefore(t)?s=yr(e,t):(s=yr(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function wr(e,t){return function(s,r){var i,l;return r!==null&&!isNaN(+r)&&($e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=s,s=r,r=l),i=ie(s,r),_r(this,i,e),this}}function _r(e,t,s,r){var i=t._milliseconds,l=ys(t._days),h=ys(t._months);e.isValid()&&(r=r??!0,h&&er(e,pt(e,"Month")+h*s),l&&Bs(e,"Date",pt(e,"Date")+l*s),i&&e._d.setTime(e._d.valueOf()+i*s),r&&n.updateOffset(e,l||h))}var Ta=wr(1,"add"),Ca=wr(-1,"subtract");function vr(e){return typeof e=="string"||e instanceof String}function ka(e){return j(e)||F(e)||vr(e)||w(e)||Ma(e)||Da(e)||e===null||e===void 0}function Da(e){var t=c(e)&&!p(e),s=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,h=r.length;for(i=0;i<h;i+=1)l=r[i],s=s||u(e,l);return t&&s}function Ma(e){var t=d(e),s=!1;return t&&(s=e.filter(function(r){return!w(r)&&vr(e)}).length===0),t&&s}function ba(e){var t=c(e)&&!p(e),s=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<r.length;i+=1)l=r[i],s=s||u(e,l);return t&&s}function Oa(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Ea(e,t){arguments.length===1&&(arguments[0]?ka(arguments[0])?(e=arguments[0],t=void 0):ba(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||Y(),r=_s(s,this).startOf("day"),i=n.calendarFormat(this,r)||"sameElse",l=t&&(re(t[i])?t[i].call(this,s):t[i]);return this.format(l||this.localeData().calendar(i,this,Y(s)))}function Ya(){return new te(this)}function Pa(e,t){var s=j(e)?e:Y(e);return this.isValid()&&s.isValid()?(t=J(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ia(e,t){var s=j(e)?e:Y(e);return this.isValid()&&s.isValid()?(t=J(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function La(e,t,s,r){var i=j(e)?e:Y(e),l=j(t)?t:Y(t);return this.isValid()&&i.isValid()&&l.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,s):!this.isBefore(i,s))&&(r[1]===")"?this.isBefore(l,s):!this.isAfter(l,s))):!1}function Na(e,t){var s=j(e)?e:Y(e),r;return this.isValid()&&s.isValid()?(t=J(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(r=s.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Wa(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ra(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Aa(e,t,s){var r,i,l;if(!this.isValid())return NaN;if(r=_s(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=J(t),t){case"year":l=Mt(this,r)/12;break;case"month":l=Mt(this,r);break;case"quarter":l=Mt(this,r)/3;break;case"second":l=(this-r)/1e3;break;case"minute":l=(this-r)/6e4;break;case"hour":l=(this-r)/36e5;break;case"day":l=(this-r-i)/864e5;break;case"week":l=(this-r-i)/6048e5;break;default:l=this-r}return s?l:X(l)}function Mt(e,t){if(e.date()<t.date())return-Mt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(s,"months"),i,l;return t-r<0?(i=e.clone().add(s-1,"months"),l=(t-r)/(r-i)):(i=e.clone().add(s+1,"months"),l=(t-r)/(i-r)),-(s+l)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $a(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ua(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?ft(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):re(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ft(s,"Z")):ft(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ha(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,r,i,l;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=t+'[")]',this.format(s+r+i+l)}function Va(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=ft(this,e);return this.localeData().postformat(t)}function ja(e,t){return this.isValid()&&(j(e)&&e.isValid()||Y(e).isValid())?ie({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Qa(e){return this.from(Y(),e)}function Ga(e,t){return this.isValid()&&(j(e)&&e.isValid()||Y(e).isValid())?ie({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ba(e){return this.to(Y(),e)}function Fr(e){var t;return e===void 0?this._locale._abbr:(t=me(e),t!=null&&(this._locale=t),this)}var xr=W("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Sr(){return this._locale}var bt=1e3,Qe=60*bt,Ot=60*Qe,Tr=(365*400+97)*24*Ot;function Ge(e,t){return(e%t+t)%t}function Cr(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-Tr:new Date(e,t,s).valueOf()}function kr(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-Tr:Date.UTC(e,t,s)}function za(e){var t,s;if(e=J(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?kr:Cr,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ge(t+(this._isUTC?0:this.utcOffset()*Qe),Ot);break;case"minute":t=this._d.valueOf(),t-=Ge(t,Qe);break;case"second":t=this._d.valueOf(),t-=Ge(t,bt);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ka(e){var t,s;if(e=J(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?kr:Cr,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ot-Ge(t+(this._isUTC?0:this.utcOffset()*Qe),Ot)-1;break;case"minute":t=this._d.valueOf(),t+=Qe-Ge(t,Qe)-1;break;case"second":t=this._d.valueOf(),t+=bt-Ge(t,bt)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Za(){return this._d.valueOf()-(this._offset||0)*6e4}function qa(){return Math.floor(this.valueOf()/1e3)}function Ja(){return new Date(this.valueOf())}function Xa(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function eo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function to(){return this.isValid()?this.toISOString():null}function so(){return z(this)}function ro(){return C({},y(this))}function no(){return y(this).overflow}function io(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),g("N",Fs),g("NN",Fs),g("NNN",Fs),g("NNNN",yo),g("NNNNN",wo),b(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,r){var i=s._locale.erasParse(e,r,s._strict);i?y(s).era=i:y(s).invalidEra=e}),g("y",Ve),g("yy",Ve),g("yyy",Ve),g("yyyy",Ve),g("yo",_o),b(["y","yy","yyy","yyyy"],H),b(["yo"],function(e,t,s,r){var i;s._locale._eraYearOrdinalRegex&&(i=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[H]=s._locale.eraYearOrdinalParse(e,i):t[H]=parseInt(e,10)});function ao(e,t){var s,r,i,l=this._eras||me("en")._eras;for(s=0,r=l.length;s<r;++s){switch(typeof l[s].since){case"string":i=n(l[s].since).startOf("day"),l[s].since=i.valueOf();break}switch(typeof l[s].until){case"undefined":l[s].until=1/0;break;case"string":i=n(l[s].until).startOf("day").valueOf(),l[s].until=i.valueOf();break}}return l}function oo(e,t,s){var r,i,l=this.eras(),h,v,T;for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(h=l[r].name.toUpperCase(),v=l[r].abbr.toUpperCase(),T=l[r].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(v===e)return l[r];break;case"NNNN":if(h===e)return l[r];break;case"NNNNN":if(T===e)return l[r];break}else if([h,v,T].indexOf(e)>=0)return l[r]}function lo(e,t){var s=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*s}function co(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].name;return""}function uo(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].narrow;return""}function ho(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].abbr;return""}function fo(){var e,t,s,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(s=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-n(i[e].since).year())*s+i[e].offset;return this.year()}function mo(e){return u(this,"_erasNameRegex")||xs.call(this),e?this._erasNameRegex:this._erasRegex}function po(e){return u(this,"_erasAbbrRegex")||xs.call(this),e?this._erasAbbrRegex:this._erasRegex}function go(e){return u(this,"_erasNarrowRegex")||xs.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fs(e,t){return t.erasAbbrRegex(e)}function yo(e,t){return t.erasNameRegex(e)}function wo(e,t){return t.erasNarrowRegex(e)}function _o(e,t){return t._eraYearOrdinalRegex||Ve}function xs(){var e=[],t=[],s=[],r=[],i,l,h=this.eras();for(i=0,l=h.length;i<l;++i)t.push(Z(h[i].name)),e.push(Z(h[i].abbr)),s.push(Z(h[i].narrow)),r.push(Z(h[i].name)),r.push(Z(h[i].abbr)),r.push(Z(h[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Et(e,t){_(0,[e,e.length],0,t)}Et("gggg","weekYear"),Et("ggggg","weekYear"),Et("GGGG","isoWeekYear"),Et("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),g("G",_t),g("g",_t),g("GG",E,K),g("gg",E,K),g("GGGG",os,as),g("gggg",os,as),g("GGGGG",wt,gt),g("ggggg",wt,gt),st(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,r){t[r.substr(0,2)]=k(e)}),st(["gg","GG"],function(e,t,s,r){t[r]=n.parseTwoDigitYear(e)});function vo(e){return Dr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fo(e){return Dr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function xo(){return fe(this.year(),1,4)}function So(){return fe(this.isoWeekYear(),1,4)}function To(){var e=this.localeData()._week;return fe(this.year(),e.dow,e.doy)}function Co(){var e=this.localeData()._week;return fe(this.weekYear(),e.dow,e.doy)}function Dr(e,t,s,r,i){var l;return e==null?it(this,r,i).year:(l=fe(e,r,i),t>l&&(t=l),ko.call(this,e,t,s,r,i))}function ko(e,t,s,r,i){var l=nr(e,t,s,r,i),h=nt(l.year,0,l.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}_("Q",0,"Qo","quarter"),$("quarter","Q"),U("quarter",7),g("Q",zs),b("Q",function(e,t){t[ue]=(k(e)-1)*3});function Do(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),$("date","D"),U("date",9),g("D",E),g("DD",E,K),g("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),b(["D","DD"],de),b("Do",function(e,t){t[de]=k(e.match(E)[0])});var Mr=He("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),U("dayOfYear",4),g("DDD",yt),g("DDDD",Ks),b(["DDD","DDDD"],function(e,t,s){s._dayOfYear=k(e)});function Mo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),$("minute","m"),U("minute",14),g("m",E),g("mm",E,K),b(["m","mm"],ne);var bo=He("Minutes",!1);_("s",["ss",2],0,"second"),$("second","s"),U("second",15),g("s",E),g("ss",E,K),b(["s","ss"],he);var Oo=He("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("millisecond","ms"),U("millisecond",16),g("S",yt,zs),g("SS",yt,K),g("SSS",yt,Ks);var ke,br;for(ke="SSSS";ke.length<=9;ke+="S")g(ke,Ve);function Eo(e,t){t[Ye]=k(("0."+e)*1e3)}for(ke="S";ke.length<=9;ke+="S")b(ke,Eo);br=He("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Yo(){return this._isUTC?"UTC":""}function Po(){return this._isUTC?"Coordinated Universal Time":""}var f=te.prototype;f.add=Ta,f.calendar=Ea,f.clone=Ya,f.diff=Aa,f.endOf=Ka,f.format=Va,f.from=ja,f.fromNow=Qa,f.to=Ga,f.toNow=Ba,f.get=In,f.invalidAt=no,f.isAfter=Pa,f.isBefore=Ia,f.isBetween=La,f.isSame=Na,f.isSameOrAfter=Wa,f.isSameOrBefore=Ra,f.isValid=so,f.lang=xr,f.locale=Fr,f.localeData=Sr,f.max=sa,f.min=ta,f.parsingFlags=ro,f.set=Ln,f.startOf=za,f.subtract=Ca,f.toArray=Xa,f.toObject=eo,f.toDate=Ja,f.toISOString=Ua,f.inspect=Ha,typeof Symbol<"u"&&Symbol.for!=null&&(f[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),f.toJSON=to,f.toString=$a,f.unix=qa,f.valueOf=Za,f.creationData=io,f.eraName=co,f.eraNarrow=uo,f.eraAbbr=ho,f.eraYear=fo,f.year=rr,f.isLeapYear=ei,f.weekYear=vo,f.isoWeekYear=Fo,f.quarter=f.quarters=Do,f.month=tr,f.daysInMonth=qn,f.week=f.weeks=ai,f.isoWeek=f.isoWeeks=oi,f.weeksInYear=To,f.weeksInWeekYear=Co,f.isoWeeksInYear=xo,f.isoWeeksInISOWeekYear=So,f.date=Mr,f.day=f.days=vi,f.weekday=Fi,f.isoWeekday=xi,f.dayOfYear=Mo,f.hour=f.hours=bi,f.minute=f.minutes=bo,f.second=f.seconds=Oo,f.millisecond=f.milliseconds=br,f.utcOffset=ua,f.utc=fa,f.local=ma,f.parseZone=pa,f.hasAlignedHourOffset=ga,f.isDST=ya,f.isLocal=_a,f.isUtcOffset=va,f.isUtc=gr,f.isUTC=gr,f.zoneAbbr=Yo,f.zoneName=Po,f.dates=W("dates accessor is deprecated. Use date instead.",Mr),f.months=W("months accessor is deprecated. Use month instead",tr),f.years=W("years accessor is deprecated. Use year instead",rr),f.zone=W("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ha),f.isDSTShifted=W("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wa);function Io(e){return Y(e*1e3)}function Lo(){return Y.apply(null,arguments).parseZone()}function Or(e){return e}var M=ts.prototype;M.calendar=vn,M.longDateFormat=Tn,M.invalidDate=kn,M.ordinal=bn,M.preparse=Or,M.postformat=Or,M.relativeTime=En,M.pastFuture=Yn,M.set=wn,M.eras=ao,M.erasParse=oo,M.erasConvertYear=lo,M.erasAbbrRegex=po,M.erasNameRegex=mo,M.erasNarrowRegex=go,M.months=Bn,M.monthsShort=zn,M.monthsParse=Zn,M.monthsRegex=Xn,M.monthsShortRegex=Jn,M.week=si,M.firstDayOfYear=ii,M.firstDayOfWeek=ni,M.weekdays=pi,M.weekdaysMin=yi,M.weekdaysShort=gi,M.weekdaysParse=_i,M.weekdaysRegex=Si,M.weekdaysShortRegex=Ti,M.weekdaysMinRegex=Ci,M.isPM=Di,M.meridiem=Oi;function Yt(e,t,s,r){var i=me(),l=S().set(r,t);return i[s](l,e)}function Er(e,t,s){if(w(e)&&(t=e,e=void 0),e=e||"",t!=null)return Yt(e,t,s,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Yt(e,r,s,"month");return i}function Ss(e,t,s,r){typeof e=="boolean"?(w(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,w(t)&&(s=t,t=void 0),t=t||"");var i=me(),l=e?i._week.dow:0,h,v=[];if(s!=null)return Yt(t,(s+l)%7,r,"day");for(h=0;h<7;h++)v[h]=Yt(t,(h+l)%7,r,"day");return v}function No(e,t){return Er(e,t,"months")}function Wo(e,t){return Er(e,t,"monthsShort")}function Ro(e,t,s){return Ss(e,t,s,"weekdays")}function Ao(e,t,s){return Ss(e,t,s,"weekdaysShort")}function $o(e,t,s){return Ss(e,t,s,"weekdaysMin")}Ce("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=k(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}}),n.lang=W("moment.lang is deprecated. Use moment.locale instead.",Ce),n.langData=W("moment.langData is deprecated. Use moment.localeData instead.",me);var pe=Math.abs;function Uo(){var e=this._data;return this._milliseconds=pe(this._milliseconds),this._days=pe(this._days),this._months=pe(this._months),e.milliseconds=pe(e.milliseconds),e.seconds=pe(e.seconds),e.minutes=pe(e.minutes),e.hours=pe(e.hours),e.months=pe(e.months),e.years=pe(e.years),this}function Yr(e,t,s,r){var i=ie(t,s);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ho(e,t){return Yr(this,e,t,1)}function Vo(e,t){return Yr(this,e,t,-1)}function Pr(e){return e<0?Math.floor(e):Math.ceil(e)}function jo(){var e=this._milliseconds,t=this._days,s=this._months,r=this._data,i,l,h,v,T;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Pr(Ts(s)+t)*864e5,t=0,s=0),r.milliseconds=e%1e3,i=X(e/1e3),r.seconds=i%60,l=X(i/60),r.minutes=l%60,h=X(l/60),r.hours=h%24,t+=X(h/24),T=X(Ir(t)),s+=T,t-=Pr(Ts(T)),v=X(s/12),s%=12,r.days=t,r.months=s,r.years=v,this}function Ir(e){return e*4800/146097}function Ts(e){return e*146097/4800}function Qo(e){if(!this.isValid())return NaN;var t,s,r=this._milliseconds;if(e=J(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,s=this._months+Ir(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Ts(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Go(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+k(this._months/12)*31536e6:NaN}function ge(e){return function(){return this.as(e)}}var Bo=ge("ms"),zo=ge("s"),Ko=ge("m"),Zo=ge("h"),qo=ge("d"),Jo=ge("w"),Xo=ge("M"),el=ge("Q"),tl=ge("y");function sl(){return ie(this)}function rl(e){return e=J(e),this.isValid()?this[e+"s"]():NaN}function Ie(e){return function(){return this.isValid()?this._data[e]:NaN}}var nl=Ie("milliseconds"),il=Ie("seconds"),al=Ie("minutes"),ol=Ie("hours"),ll=Ie("days"),dl=Ie("months"),cl=Ie("years");function ul(){return X(this.days()/7)}var ye=Math.round,Be={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function hl(e,t,s,r,i){return i.relativeTime(t||1,!!s,e,r)}function fl(e,t,s,r){var i=ie(e).abs(),l=ye(i.as("s")),h=ye(i.as("m")),v=ye(i.as("h")),T=ye(i.as("d")),O=ye(i.as("M")),Q=ye(i.as("w")),we=ye(i.as("y")),De=l<=s.ss&&["s",l]||l<s.s&&["ss",l]||h<=1&&["m"]||h<s.m&&["mm",h]||v<=1&&["h"]||v<s.h&&["hh",v]||T<=1&&["d"]||T<s.d&&["dd",T];return s.w!=null&&(De=De||Q<=1&&["w"]||Q<s.w&&["ww",Q]),De=De||O<=1&&["M"]||O<s.M&&["MM",O]||we<=1&&["y"]||["yy",we],De[2]=t,De[3]=+e>0,De[4]=r,hl.apply(null,De)}function ml(e){return e===void 0?ye:typeof e=="function"?(ye=e,!0):!1}function pl(e,t){return Be[e]===void 0?!1:t===void 0?Be[e]:(Be[e]=t,e==="s"&&(Be.ss=t-1),!0)}function gl(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,r=Be,i,l;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(r=Object.assign({},Be,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),l=fl(this,!s,r,i),s&&(l=i.pastFuture(+this,l)),i.postformat(l)}var Cs=Math.abs;function ze(e){return(e>0)-(e<0)||+e}function Pt(){if(!this.isValid())return this.localeData().invalidDate();var e=Cs(this._milliseconds)/1e3,t=Cs(this._days),s=Cs(this._months),r,i,l,h,v=this.asSeconds(),T,O,Q,we;return v?(r=X(e/60),i=X(r/60),e%=60,r%=60,l=X(s/12),s%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",T=v<0?"-":"",O=ze(this._months)!==ze(v)?"-":"",Q=ze(this._days)!==ze(v)?"-":"",we=ze(this._milliseconds)!==ze(v)?"-":"",T+"P"+(l?O+l+"Y":"")+(s?O+s+"M":"")+(t?Q+t+"D":"")+(i||r||e?"T":"")+(i?we+i+"H":"")+(r?we+r+"M":"")+(e?we+h+"S":"")):"P0D"}var D=kt.prototype;D.isValid=oa,D.abs=Uo,D.add=Ho,D.subtract=Vo,D.as=Qo,D.asMilliseconds=Bo,D.asSeconds=zo,D.asMinutes=Ko,D.asHours=Zo,D.asDays=qo,D.asWeeks=Jo,D.asMonths=Xo,D.asQuarters=el,D.asYears=tl,D.valueOf=Go,D._bubble=jo,D.clone=sl,D.get=rl,D.milliseconds=nl,D.seconds=il,D.minutes=al,D.hours=ol,D.days=ll,D.weeks=ul,D.months=dl,D.years=cl,D.humanize=gl,D.toISOString=Pt,D.toString=Pt,D.toJSON=Pt,D.locale=Fr,D.localeData=Sr,D.toIsoString=W("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pt),D.lang=xr,_("X",0,0,"unix"),_("x",0,0,"valueOf"),g("x",_t),g("X",Wn),b("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)}),b("x",function(e,t,s){s._d=new Date(k(e))});return n.version="2.29.4",o(Y),n.fn=f,n.min=ra,n.max=na,n.now=ia,n.utc=S,n.unix=Io,n.months=No,n.isDate=F,n.locale=Ce,n.invalid=V,n.duration=ie,n.isMoment=j,n.weekdays=Ro,n.parseZone=Lo,n.localeData=me,n.isDuration=Dt,n.monthsShort=Wo,n.weekdaysMin=$o,n.defineLocale=hs,n.updateLocale=Ii,n.locales=Li,n.weekdaysShort=Ao,n.normalizeUnits=J,n.relativeTimeRounding=ml,n.relativeTimeThreshold=pl,n.calendarFormat=Oa,n.prototype=f,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Ol={};Sl(Ol,{default:()=>Xt});module.exports=Tl(Ol);var yn=require("obsidian");var _e=require("obsidian");var Me=require("obsidian"),Lt={state:{source:!1,mode:"source"}},be=/\[\[(.+?)([|#].*?)?\]\] ?/;async function ks(a,n){await a.workspace.getLeaf().openFile(n,Lt),a.commands.executeCommandById("file-explorer:reveal-active-file")}function P(a,n){let{app:o,settings:d}=a,c=n===void 0?o.workspace.getActiveFile():typeof n=="string"?o.vault.getFileByPath(n):n;return!c||!(c instanceof Me.TFile)||c.extension!=="md"?!1:c.name==="Template.md"?"Template":c.path.startsWith(d.coding.folder+"/")?"Code File":c.path.startsWith(d.extraction.folder+"/")?"Extraction File":"Data File"}async function Nt(a,n,o){let{app:d,settings:c}=a,u=["```"+n,"```",""];d.vault.getFolderByPath(c.analysis.folder)||d.vault.createFolder(c.analysis.folder);let m=(0,Me.normalizePath)(c.analysis.folder+`/${o}.md`),w=d.vault.getFileByPath(m)||await d.vault.create(m,u.join(`
`));await ks(d,w),ae(a.app)?.setCursor({line:u.length,ch:0})}function ae(a){let n=a.workspace.activeEditor?.editor;return n||new Me.Notice("No active editor."),n}function Oe(a){if(a.getLine(a.getCursor().line).trim()===""&&!a.somethingSelected())return new Me.Notice(`Current lint is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let o=a.getCursor("head").line!==a.getCursor("anchor").line,d=a.listSelections().length>1;return o||d?(new Me.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Wt(a){a.vault.setConfig("useMarkdownLinks",!1)}function Ke(a){a.metadataTypeManager.setType("extraction-date","datetime"),a.metadataTypeManager.setType("extraction-source","multitext"),a.metadataTypeManager.setType("code description","text")}var Rt={"last used first":(a,n)=>n.stat.mtime-a.stat.mtime,"oldest used first":(a,n)=>a.stat.mtime-n.stat.mtime,"frequently used first":(a,n)=>n.stat.size-a.stat.size,"rarely used first":(a,n)=>a.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(a,n)=>a.basename.localeCompare(n.basename)},Wr={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Rr={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},ce={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:","},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Ds(a,n){return n.path.slice(a.settings.coding.folder.length+1,-3)}function At(a,n){return n?n.path===a.settings.coding.folder+"/Template.md":!1}function dt(a,n){let o=a.app.metadataCache.resolvedLinks[n.path]||{},d=0;for(let[c,u]of Object.entries(o))P(a,c)==="Data File"&&(d+=u);return d}function $t(a,n,o){let d=a.app;return(o.match(new RegExp(be,"g"))||[]).reduce((p,m)=>{let[w,F]=m.match(be)||[];if(!F)return p;let x=d.metadataCache.getFirstLinkpathDest(F,n.path);return x&&P(a,x)==="Code File"&&p.push({tFile:x,wikilink:m}),p},[])}function Ut(a){let n=a.app.vault.getMarkdownFiles().filter(d=>P(a,d)==="Code File"),o=Rt[a.settings.coding.sortFunc];return n.sort(o),n}function Ze(a,n){let o=Ds(a,n);if(!a.settings.coding.displayCount)return o;let c=dt(a,n);return`${o} (${c}x)`}async function Ar(a){let n=a.codeblockLabels.codeOverview;await Nt(a,n,"Code Overview")}function $r(a,n){let{app:o,settings:d}=a,c=[...n.children];c.sort((p,m)=>p instanceof _e.TFolder&&m instanceof _e.TFile?-1:p instanceof _e.TFile&&m instanceof _e.TFolder?1:p.name.localeCompare(m.name));let u="";for(let p of c)if(p instanceof _e.TFolder){let m=p;if(!m.children.some(x=>x instanceof _e.TFile&&x.extension==="md"))continue;let F=$r(a,m);u+=`<li>\u{1F4C1} ${m.name} ${F}</li>`}else if(p instanceof _e.TFile){let m=p,w=m.path===d.coding.folder+"/Template.md",F=m.extension!=="md";if(w||F)continue;let x=o.metadataCache.getFileCache(m)?.frontmatter?.["code description"],C=x?": "+x:"",S=`<a href="${m.path}" class="internal-link">${m.basename}</a>`,I=dt(a,m);u+=`<li>\u{1F4C4} ${S} (${I}x)${C}</li>`}return`<ul>${u}</ul>`}function Ur(a){let{app:n,settings:o}=a,d=n.vault.getFolderByPath(o.coding.folder);return d?$r(a,d):`\u26A0\uFE0F Code folder "${o.coding.folder}" not found.`}var Ps=require("obsidian");var Hr=Nr(bs()),Os=/\^[\w-]+$/,Vr=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function Ht(a){let[n]=a.match(Os)||[];if(n){let d=a.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:d}}return{blockId:"^id-"+(0,Hr.default)().format("YYMMDD-HHmmss"),lineWithoutId:a.trim()}}var Vt=require("obsidian"),ee=class extends Vt.FuzzySuggestModal{instructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.instructions),this.scope.register([],"Tab",o=>{o.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",o=>{o.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Le=class extends Vt.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){let{contentEl:n}=this;n.empty()}};var G=require("obsidian");var Qt=require("obsidian"),Ne=class extends Qt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,o){super(n.app,o),this.textInputEl=o,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(d=>d instanceof Qt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(o=>o.path.includes(n))}renderSuggestion(n,o){o.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function jr(a,n){return n.path.slice(a.settings.coding.folder.length+1)+"/"}var jt=class extends Ne{getSuggestions(n){if(!n.includes("/"))return[];let o=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),p=c.path.startsWith(o.coding.folder+"/");return u&&p})}renderSuggestion(n,o){let d=jr(this.plugin,n);o.createEl("span",{text:d})}selectSuggestion(n){this.textInputEl.value=jr(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var Es=class extends Le{fullCode="";codeDesc="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let o=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),d=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new G.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new jt(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!o(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&d()})}),new G.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&d()})}),new G.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(d)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},Ys=class extends Le{input="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new G.Setting(n).addTextArea(o=>{o.onChange(d=>{this.input=d.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new G.Setting(n).addButton(o=>{this.confirmationButton=o.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(o=>o.setButtonText("Cancel").onClick(()=>this.close()))}};async function Qr(a,n,o){let{app:d,settings:c}=a;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,G.normalizePath)(`${c.coding.folder}/${n}.md`);if(d.vault.getFileByPath(u))return new G.Notice(`Code "${n}" already exists, Code File not created.`),!1;let m=n.split("/"),w=m.pop(),F=m.length?"/"+m.join("/"):"",x=c.coding.folder+F;d.vault.getFolderByPath(x)||await d.vault.createFolder(x);let S=`code description: "${o.replaceAll('"',"'")}"`,I=d.vault.getFileByPath(c.coding.folder+"/Template.md"),y=[];if(I){let V=await d.vault.read(I),{exists:Se,frontmatter:A}=(0,G.getFrontMatterInfo)(V);Se&&(A=A.match(/^code description:/m)?A.replace(/^code description:.*$/m,S):S+`
`+A,y.push(...A.trim().split(`
`)))}else y.push(S);let q=["---",...y,"---","",""],z=await d.vault.create(`${x}/${w}.md`,q.join(`
`));return z?(new G.Notice(`Created new code file: "${n}"`),z):(new G.Notice("Failed to create new code file."),!1)}function Gr(a,n){new Es(a,async(o,d)=>{let c=await Qr(a,o,d);c&&n(c)}).open()}function Br(a){new Ys(a,async n=>{let o=0,d=[];for(let u of n.split(`
`))await Qr(a,u,"")?o++:d.push(u);let c=`${o} file(s) created`;d.length>0&&(c+=`
Could not create: `+d.join(", ")),new G.Notice(c,(d.length+2)*1e3)}).open()}var Is=class extends ee{editor;codesInPara;dataFile;constructor(n,o,d,c){super(n),this.editor=o,this.codesInPara=d,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...Ut(this.plugin).filter(d=>!this.codesInPara.find(c=>c.path===d.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":Ze(this.plugin,n)}onChooseItem(n){n==="new-code-file"?Gr(this.plugin,o=>this.assignCode(this.app,o,this.dataFile)):this.assignCode(this.app,n,this.dataFile)}async assignCode(n,o,d){let c=this.editor.getCursor(),u=Ds(this.plugin,o),p=this.editor.getLine(c.line),m=this.editor.getSelection();if(m){let y=m.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");this.editor.replaceSelection(y),p=this.editor.getLine(c.line)}let{blockId:w,lineWithoutId:F}=Ht(p);Wt(n);let x=n.fileManager.generateMarkdownLink(o,d.path,"",u),C=`${F} ${x} ${w}`;this.editor.setLine(c.line,C),this.editor.setCursor(c);let I=`![[${d.path.slice(0,-3)}#${w}]]
`;await this.app.vault.append(o,I)}};function zr(a){let n=a.app,o=ae(n);if(!o||Oe(o))return;if(P(a)!=="Data File"){new Ps.Notice("You must be in a Data File to assign a code.",3e3);return}if(o.getSelection().includes("==")){new Ps.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`);return}let c=o.editorComponent.view.file,u=o.getLine(o.getCursor().line),p=$t(a,c,u).map(m=>m.tFile);new Is(a,o,p,c).open()}var Kr=require("obsidian");async function Zr(a){let n=a.app,o=ae(n);if(!o)return;if(P(a)!=="Code File"){new Kr.Notice("Must be in Code File to delete the code everywhere.");return}let d=o.editorComponent.view.file;await n.vault.trash(d,!0)}var Xe=require("obsidian");function qr(a,n){let o=Object.keys(n).map(d=>Cl(a,d,n[d]));return o.length===1?o[0]:function(){o.forEach(d=>d())}}function Cl(a,n,o){let d=a[n],c=a.hasOwnProperty(n),u=c?d:function(){return Object.getPrototypeOf(a)[n].apply(this,arguments)},p=o(u);return d&&Object.setPrototypeOf(p,d),Object.setPrototypeOf(m,p),a[n]=m,w;function m(...F){return p===u&&a[n]===m&&w(),p.apply(this,F)}function w(){a[n]===m&&(c?a[n]=u:delete a[n]),p!==u&&(p=u,Object.setPrototypeOf(m,d||Function))}}var Xr=require("obsidian");var Je=require("obsidian");async function Jr(a,n){let o=a.app,d=[],c=0,u=P(a,n),p=o.metadataCache.getFileCache(n)?.embeds||[];for(let w of p){let[F,x]=w.link.split("#");if(!F||!x)continue;let C=o.metadataCache.getFirstLinkpathDest(F,n.path);if(!C||P(a,C)!=="Data File")continue;let I=await Ls(o,n,C,x);I?d.push(I):c++}if(c===0&&d.length===0){let w=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new Je.Notice(w),console.warn(w);return}let m=`${u} "${n.name}" and ${c} references to it deleted.
`;if(d.length>0){let w=[m,`\u26A0\uFE0F ${d.length} references could not be deleted:`,"- "+d.join(`
- `)].join(`
`);console.warn(w),new Je.Notice(w,0)}else new Je.Notice(m)}async function Ls(a,n,o,d){let c=(await a.vault.read(o)).split(`
`),u=c.findIndex(F=>F.endsWith(d));if(u<0)return`Data File "${o.basename}", has no line with the ID "${d}".`;let p=c[u]||"",w=(p.match(new RegExp(be,"g"))||[]).find(F=>{F=F.trim().slice(2,-2);let x=a.metadataCache.getFirstLinkpathDest(F,o.path);return x instanceof Je.TFile&&x.path===n.path});return w?(c[u]=p.replace(w,""),await a.vault.modify(o,c.join(`
`)),""):`Data File "${o.basename}", line "${d}" has no valid link to the "${n.name}".`}function Gt(a){let n=a.app.vault;return qr(n,{trash:d=>async(c,u)=>{let p=P(a,c);if((p==="Code File"||p==="Extraction File")&&c instanceof Xr.TFile){let w=`Intercepted deletion of "${c.name}", deleting all references to the ${p} before proceeding with deletion.`;console.info(w),await Jr(a,c)}await d.apply(n,[c,u])}})}var Ns=class extends ee{toBeMergedFile;constructor(n,o){super(n),this.toBeMergedFile=o,this.setPlaceholder(`Select Code File to merge "${o.basename}" into`)}getItems(){return Ut(this.plugin).filter(o=>o.path!==this.toBeMergedFile.path)}getItemText(n){return Ze(this.plugin,n)}async onChooseItem(n){let o=this.plugin,d=await this.app.vault.cachedRead(this.toBeMergedFile),{contentStart:c}=(0,Xe.getFrontMatterInfo)(d),u=d.slice(c).trim(),p=[`## Codes from "${this.toBeMergedFile.basename}"`,u].join(`
`);o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await this.app.fileManager.mergeFile(n,this.toBeMergedFile,p,!1),o.trashWatcherUninstaller=Gt(o),new Xe.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function en(a){let n=a.app,o=ae(n);if(!o||Oe(o))return;if(P(a)!=="Code File"){new Xe.Notice("You must be in the Code File for this.",3e3);return}let d=o.editorComponent.view.file;if(At(a,d)){new Xe.Notice("You cannot merge the Template File.",3e3);return}new Ns(a,d).open()}var Ws=require("obsidian");function tn(a){P(a)!=="Code File"?new Ws.Notice("You must be in a code file."):At(a,a.app.workspace.getActiveFile())?new Ws.Notice("You must not rename the template file."):a.app.commands.executeCommandById("workspace:edit-file-title")}var ve=require("obsidian");var Rs=class extends ee{codesInParagraph;dataFile;editor;constructor(n,o,d,c){super(n),this.codesInParagraph=c,this.dataFile=d,this.editor=o,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return Ze(this.plugin,n.tFile)}onChooseItem(n){sn(this.editor,this.dataFile,n)}};async function sn(a,n,o){let d=a.editorComponent.app,c=a.getCursor().line,u=a.getLine(c),p=u.replace(o.wikilink,"");a.setLine(c,p);let[m]=u.match(Os)||[];if(!m){new ve.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`);return}let w=(await d.vault.read(o.tFile)).split(`
`),F=w.findIndex(x=>{if(!x.includes(m))return!1;let C=x.match(new RegExp(be,"g"))||[];for(let S of C){let[I,y]=S.match(be)||[];if(!y)continue;if(d.metadataCache.getFirstLinkpathDest(y,o.tFile.path)?.path===n.path)return!0}return!1});if(F<0){new ve.Notice(`"Code File "${o.tFile.basename}" contains not reference to Data File "${n.basename}" with the ID "${m}". Reference in Code File is thus not deleted.`,7e3);return}w.splice(F,1),await d.vault.modify(o.tFile,w.join(`
`)),new ve.Notice(`Assignment of code "${o.tFile.basename}" removed.`)}async function kl(a,n){let o=n.getLine(n.getCursor().line),[d,c,u]=o.match(Vr)||[],p=n.editorComponent.view.file,m=a.metadataCache.getFirstLinkpathDest(c||"",p.path);if(!u||!c||!m){new ve.Notice("Current line has no correct reference.");return}let w=await Ls(a,p,m,u);if(w){new ve.Notice(w+`

Aborting removal of Code.`,4e3);return}a.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new ve.Notice(`Assignment of code "${p.basename}" removed.`)}function rn(a){let n=a.app,o=ae(n);if(!(!o||Oe(o)))if(P(a)==="Code File")kl(n,o);else if(P(a)==="Data File"){let d=o.editorComponent.view.file,c=o.getLine(o.getCursor().line),u=$t(a,d,c);u.length===0?new ve.Notice("Line does not contain any codes to remove."):u.length===1?sn(o,d,u[0]):new Rs(a,o,d,u).open()}else new ve.Notice("You must be in a Data File or Code File to unassign a code.",3e3)}var nn=[{id:"assign-code",name:"Assign code to paragraph",func:zr,hotkeyLetter:"a",ribbonIcon:"plus-circle"},{id:"rename-code",name:"Rename code",func:tn,hotkeyLetter:"r",ribbonIcon:"circle-slash"},{id:"unassign-code",name:"Delete code from paragraph",func:rn,hotkeyLetter:"d",ribbonIcon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:Zr,ribbonIcon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:en,ribbonIcon:"radius"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:Br,ribbonIcon:"circle-dashed"},{id:"code-overview-codeblock",name:"Create/Goto Code Overview File",func:Ar,ribbonIcon:"circle-equal"}];var ut=require("obsidian");var As="yyyymmdd",Dl="8.15.12",an={pluginVersion:Dl,model:{columns:[{id:"UUID",width:"WIDTH",content:"Source",sortDir:"default",isVisible:!1,type:"source",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:As,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!1,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null},{id:"UUID",width:"WIDTH",content:"Extraction File",sortDir:"default",isVisible:!0,type:"source-file",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:As,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"count-all",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null}],rows:[],filters:[{id:"UUID",columnId:"UUID",operator:"or",isEnabled:!0,type:"source-file",condition:"is-not",text:"Template"}],sources:[{id:"UUID",type:"folder",path:"PATH",includeSubfolders:!1}],settings:{numFrozenColumns:1,showCalculationRow:!1},externalRowOrder:[]}},on={id:"UUID",type:"LOOM_TYPE",frontmatterKey:"DIMENSION",width:"WIDTH",sortDir:"default",isVisible:!0,numberPrefix:"",numberSuffix:"",numberSeparator:"",content:"",numberFormat:"number",currencyType:"USD",dateFormat:As,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset"};var Fe=require("obsidian");async function ct(a,n){let{app:o,settings:d}=a,c=d.extraction.openingMode,u=o.workspace.getLeaf();if(c==="tab"){let p=u.parent;await o.workspace.createLeafInParent(p,p.children.length).openFile(n,Lt)}else{let p=c==="right-split"?"right":"bottom",m=c==="right-split"?"vertical":"horizontal",w=o.workspace.getAdjacentLeafInDirection(u,p)||o.workspace.createLeafBySplit(u,m,!1);await w.openFile(n,Lt),w.parent.setDimension(2)}}function Bt(a,n){a.vault.setConfig("propertiesInDocument","visible");let o=`.workspace-leaf.mod-active .metadata-property:first-of-type .metadata-property-${n} :is([contenteditable='true'], input)`,d=activeDocument.querySelector(o);if(d instanceof HTMLElement)if(d instanceof HTMLInputElement)d.focus(),d.getAttribute("type")==="number"?(d.setAttribute("type","text"),d.select(),d.setAttribute("type","number")):d.select();else{let c=activeDocument.createRange(),u=window.getSelection();c.setStart(d,0),c.collapse(!0),u?.removeAllRanges(),u?.addRange(c)}}function zt(a,n){let o=a.vault.getFileByPath(`${n.path}/Template.md`);if(!o){new Fe.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,5e3);return}let d=a.metadataCache.getFileCache(o)?.frontmatter;if(!d){new Fe.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,5e3);return}return d}function Ee(a){let{app:n,settings:o}=a,d=n.vault.getFolderByPath(o.extraction.folder);if(!d){new Fe.Notice("ERROR: Could not find Extraction Folder.",4e3);return}let c=d.children.filter(u=>u instanceof Fe.TFolder&&u.children.find(p=>p.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new Fe.Notice(u,0);return}return c}function We(a){return a.children.filter(o=>o instanceof Fe.TFile&&o.extension==="md"&&o.name!=="Template.md").length}function Ml(a,n){let o={text:"text",number:"number",checkbox:"checkbox",date:"date",datetime:"date",aliases:"multi-tag",tags:"multi-tag",multitext:"multi-tag"},d=a.metadataTypeManager.getPropertyInfo(n.toLowerCase())?.type;return o[d]||"text"}var $s=class extends ee{extractionTypes;constructor(n,o){super(n),this.settings=n.settings,this.extractionTypes=o,this.setPlaceholder("Select extraction type to create aggregation for")}getItems(){return this.extractionTypes}getItemText(n){let o=n.children.length-1;return`${n.name} (${o})`}async onChooseItem(n){Ke(this.app);let o=this.settings,d=zt(this.app,n);if(!d)return;let c=[...Object.keys(d),"extraction-source","extraction-date"],u=structuredClone(an);if(!u.model?.filters[0]||!u.model?.sources[0]||!u.model?.columns[0]||!u.model?.columns[1]){new ut.Notice("ERROR: Loom Template invalid.",4e3);return}u.model.sources[0].path=n.path,u.model.sources[0].id=crypto.randomUUID(),u.model.filters[0].id=crypto.randomUUID(),u.model.columns[0].id=crypto.randomUUID();let p=crypto.randomUUID();u.model.filters[0].columnId=p,u.model.columns[1].id=p,u.model.columns[1].width="150px";for(let C of c){let S=structuredClone(on);S.id=crypto.randomUUID(),S.frontmatterKey=C,S.content=C,S.type=Ml(this.app,C),S.width=C==="extraction-date"?"150px":"200px",u.model.columns.push(S)}let m=this.app.vault.getFolderByPath(o.analysis.folder);if(m||(m=await this.app.vault.createFolder(o.analysis.folder)),!m){new ut.Notice("ERROR: Could not create Analysis Folder.",4e3);return}let w=n.name,F;for(;F=`${o.analysis.folder}/${w} (Aggregation).loom`,!!this.app.vault.getFileByPath(F);)w+="_1";let x=await this.app.vault.create(F,JSON.stringify(u));await ks(this.app,x)}};async function ln(a){let n=a.app;if(![...n.plugins.enabledPlugins].includes("notion-like-tables")){if(!Object.keys(n.plugins.plugins).includes("notion-like-tables")){new ut.Notice(`Plugin "DataLoom" not installed.

Please install it from the Obsidian Community Store.`,7e3);return}if(!await n.plugins.enablePluginAndSave("dataview")){new ut.Notice("ERROR: DataLoom plugin could not be enabled.",4e3);return}}let d=Ee(a);d&&new $s(a,d).open()}var Re=require("obsidian");var Us=class extends Le{onSubmit;nameOfNewType="";constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let o=d=>d!=="";new Re.Setting(n).setName("Name of the new type").addText(d=>{d.onChange(c=>{this.nameOfNewType=c.trim(),this.confirmationButton?.setDisabled(!o(c))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),d.inputEl.addEventListener("keydown",c=>{c.key==="Enter"&&o(this.nameOfNewType)&&(this.close(),this.onSubmit(this.nameOfNewType))})}),new Re.Setting(n).addButton(d=>{this.confirmationButton=d.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.nameOfNewType)})}).addButton(d=>d.setButtonText("Cancel").onClick(()=>this.close()))}};function dn(a){let{app:n,settings:o}=a;new Us(a,async d=>{d=d.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Re.normalizePath)(o.extraction.folder+"/"+d);await n.vault.createFolder(c),new Re.Notice(`Creating New Template for Extraction Type "${d}"`,6e3);let u=`---
dimension: 
---

`,p=["> [!NOTE] ",'> Due to a bug in DataLoom, properties of the type "List" must not have a space in them. You can work around that issue by using underscores or hyphens instead of a space.',"> ","> See <https://github.com/trey-wallis/obsidian-dataloom/issues/932>"].join(`
`),m=await n.vault.create(c+"/Template.md",u+p);await ct(a,m),n.commands.executeCommandById("file-explorer:reveal-active-file"),Bt(n,"key")}).open()}var un=Nr(bs()),xe=require("obsidian");var bl="-";function cn(a,n){return a.map(d=>`"${d.replaceAll('"','""')}"`).join(n)}async function hn(a){let{app:n,settings:o}=a,d=o.extraction.csvSeparator,c=Ee(a);if(!c)return;let u;for(let p of c){let m=[],w=zt(n,p);if(!w){new xe.Notice(`Export of Extraction Type "${p.name}" is skipped.`,5e3);continue}let F=["File",...Object.keys(w),"extraction-date","extraction-source"],x=cn(F,d);m.push(x);let C=p.children.filter(A=>A instanceof xe.TFile&&A.name!=="Template.md");for(let A of C){let oe=n.metadataCache.getFileCache(A)?.frontmatter;if(!oe)continue;let te=[];for(let se of F){if(se==="File"){te.push(A.basename);continue}let W=oe[se]??bl,Te=typeof W!="object"?W.toString():Array.isArray(W)?W.join("; "):JSON.stringify(W);se==="extraction-source"&&(Te=Te.replace(/\[\[|\]\]/g,"")),te.push(Te)}let j=cn(te,d);m.push(j)}let S=(0,xe.normalizePath)(o.analysis.folder+"/CSV Export");n.vault.getFolderByPath(S)||await n.vault.createFolder(S);let y=m.join(`
`),q=(0,un.default)().format("YYYY-MM-DD_HH-mm-ss"),z=(0,xe.normalizePath)(`${S}/${p.name}_${q}.csv`),V=await n.vault.create(z,y),Se=V?`Successfully exported "${p.name}".`:`ERROR: Export for "${p.name}" failed.`;new xe.Notice(Se,5e3),!u&&V&&(u=V)}new xe.Notice("All CSV exports finished.",5e3),u&&n.showInFolder(u.path)}var Ae=require("obsidian");var Hs=class extends ee{extractionTypes;editor;dataFile;constructor(n,o,d,c){super(n),this.extractionTypes=d,this.editor=o,this.dataFile=c,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return Vs.name;let d=We(n);return`${n.name} (${d}x)`}onChooseItem(n){Vs(this.plugin,this.editor,this.dataFile,n)}};async function Vs(a,n,o,d){let c=a.app;Ke(c);let u=d.name,p=d.path,m=c.vault.getFileByPath(`${p}/Template.md`);if(!m){new Ae.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${u}".`);return}let w=await c.vault.cachedRead(m),{exists:F,frontmatter:x}=(0,Ae.getFrontMatterInfo)(w);if(!F){new Ae.Notice(`The file "Template.md" in the folder "${p}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,6e3),ct(a,m);return}let C,S=We(d);for(;;){S++;let $e=S.toString().padStart(3,"0");if(C=`${p}/${u} ${$e}.md`,!c.vault.getFileByPath(C))break}let I=n.getCursor(),y=n.getLine(I.line),q=n.getSelection();if(q){let $e=q.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");n.replaceSelection($e),y=n.getLine(I.line)}let{blockId:z,lineWithoutId:V}=Ht(y),A=`extraction-date: ${new Date().toISOString().slice(0,-5)}`,oe=`${o.path.slice(0,-3)}#${z}`,te=`extraction-source: "[[${oe}]]"`,j=["---",...x.split(`
`),A,te,"---","",`**Paragraph extracted from:** ![[${oe}]]`].join(`
`),se=await c.vault.create(C,j);Wt(c);let W=c.fileManager.generateMarkdownLink(se,se.path,"",se.basename),Te=`${V} ${W} ${z}`;n.setLine(I.line,Te),n.setCursor(I),await ct(a,se),Bt(c,"value")}function fn(a){let n=ae(a.app);if(!n||Oe(n))return;if(P(a)!=="Data File"){new Ae.Notice("You must be in a Data File to make an extraction.",3e3);return}if(n.getSelection().includes("==")){new Ae.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`);return}let d=Ee(a);if(!d)return;let c=n.editorComponent.view.file;d.length===1?Vs(a,n,c,d[0]):new Hs(a,n,d,c).open()}async function mn(a){let n=a.codeblockLabels.extractionOverview;await Nt(a,n,"Extraction Type Overview")}function pn(a){let n=a.app,o=[];n.internalPlugins.plugins["global-search"].enable();let d=Ee(a);if(!d)return"\u26A0\uFE0F No valid extraction templates found.";for(let c of d){let u=n.vault.getFileByPath(c.path+"/Template.md");if(!u)continue;let p=n.metadataCache.getFileCache(u)?.frontmatter;if(!p){o.push(`\u26A0\uFE0F Invalid properties in template file for "${c.name}".`);continue}let m=`<a href="${u.path}" class="internal-link">${c.name}</a>`,w=Object.keys(p).map(x=>{let C=n.metadataTypeManager.getPropertyInfo(x)?.type||"",S=n.metadataCache.getFrontmatterPropertyValuesForKey(x),I=7,y="";S.length>0&&!C.startsWith("date")&&(y=S.slice(0,I).map(V=>`<li><a href='${`obsidian://search?query=path:"${c.path}" ["${x}":"${V}"]`}'>${V}</a></li>`).join(""),S.length>I&&(y+=`<li><i>${S.length-I} more\u2026</i></li>`),y="<ul>"+y+"</ul>");let z=y||(C?": "+C:"");return`<li><b>${x}</b>${z}</li>`}),F=We(c);o.push(`<b>${m}</b> (${F}x)<ul>`+w.join("")+"</ul>")}return o.join("<br>")}var gn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:fn,hotkeyLetter:"e",ribbonIcon:"plus-square"},{id:"create-new-extraction-type",name:"Create new extraction type",func:dn,ribbonIcon:"box-select"},{id:"aggregate-extractions",name:"Aggregate extractions",func:ln,ribbonIcon:"sigma-square"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:hn,ribbonIcon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Create/Goto Extraction Type Overview File",func:mn,ribbonIcon:"square-equal"}];function Kt(a){let n=a.settings.suppressSuggestionInFields.map(d=>`[data-property-key="${d}"]`).join(", "),o=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!a.styleElSuppressSuggestionsInFields){let d=activeDocument.createElement("style");d.addClass(a.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),a.register(()=>d?.detach()),a.styleElSuppressSuggestionsInFields=d}a.styleElSuppressSuggestionsInFields.textContent=o,a.app.workspace.trigger("css-change")}function Zt(a){let o=`body .metadata-property-key { min-width: ${a.settings.propertiesKeysWidthPercent}% }`;if(!a.styleElPropertyKeyWidth){let d=activeDocument.createElement("style");d.addClass(a.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),a.register(()=>d?.detach()),a.styleElPropertyKeyWidth=d}a.styleElPropertyKeyWidth.textContent=o,a.app.workspace.trigger("css-change")}var B=require("obsidian");function js(a){return(0,B.normalizePath)(a).replace(/:/g,"-")}var qt=class extends B.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,o=this.plugin.settings,d={"min-width":"15rem"};n.empty(),n.addClass(this.plugin.cssclass),new B.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(c=>c.setPlaceholder("One property per line").setValue(o.suppressSuggestionInFields.join(`
`)).onChange(async u=>{let p=u.split(`
`).map(m=>m.trim()).filter(m=>m!=="");o.suppressSuggestionInFields=p,await this.plugin.saveSettings(),Kt(this.plugin)}).inputEl.setCssProps({"min-height":"5rem","min-width":"15rem"})),new B.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(c=>c.setLimits(20,60,5).setDynamicTooltip().setValue(o.propertiesKeysWidthPercent).onChange(async u=>{o.propertiesKeysWidthPercent=u,await this.plugin.saveSettings(),Zt(this.plugin)})),n.createEl("h3",{text:"Coding"}),new B.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(c=>{new Ne(this.plugin,c.inputEl),c.setPlaceholder(ce.coding.folder).setValue(o.coding.folder).onChange(async u=>{o.coding.folder=js(u)||ce.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(d)}),new B.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(o.coding.displayCount).onChange(async u=>{o.coding.displayCount=u,await this.plugin.saveSettings()})),new B.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(c=>{for(let u in Rt)c.addOption(u,u);c.setValue(o.coding.sortFunc).onChange(async u=>{o.coding.sortFunc=u,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new B.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(c=>{new Ne(this.plugin,c.inputEl),c.setPlaceholder(ce.extraction.folder).setValue(o.extraction.folder).onChange(async u=>{o.extraction.folder=js(u)||ce.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(d)}),new B.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(o.extraction.displayCount).onChange(async u=>{o.extraction.displayCount=u,await this.plugin.saveSettings()})),new B.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(c=>{c.addOptions(Rr).setValue(o.extraction.openingMode).onChange(async u=>{o.extraction.openingMode=u,await this.plugin.saveSettings()})}),new B.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(c=>{c.addOptions(Wr).setValue(o.extraction.csvSeparator).onChange(async u=>{o.extraction.csvSeparator=u,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new B.Setting(n).setName("Analysis folder").setDesc("Location where aggregations, overviews, and exports are stored.").addSearch(c=>{new Ne(this.plugin,c.inputEl),c.setPlaceholder(ce.analysis.folder).setValue(o.analysis.folder).onChange(async u=>{o.analysis.folder=js(u)||ce.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(d)})}};function Jt(a){let{app:n,statusbar:o,settings:d}=a,c=n.workspace.getActiveFile();if(!c){o.setText("");return}let u=[];if(P(a)==="Code File"){let x=dt(a,c);u.push(`Code ${x}x assigned`)}else if(P(a)==="Extraction File"){let F=c.parent;if(F){let x=We(F);u.push(`${x}x extracted`)}}else{let F=n.metadataCache.resolvedLinks[c.path]||{},x=0,C=0;for(let[S,I]of Object.entries(F))S.startsWith(d.coding.folder+"/")&&(x+=I),S.startsWith(d.extraction.folder+"/")&&C++;x>0&&u.push(`${x} Codes`),C>0&&u.push(`${C} Extractions`)}let p=n.metadataCache.unresolvedLinks[c.path]||{},m=0;for(let[F,x]of Object.entries(p))m+=x;m>0&&u.push(`${m} invalid links`);let w=u.map(F=>F.replace(/^(1 .*)s$/,"$1")).join(", ");o.setText(w)}var Xt=class extends yn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontypes-overview",codeOverview:"quadro-code-overview"};statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=ce;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...nn,...gn]){let o=this.addRibbonIcon(n.ribbonIcon,`Quadro: ${n.name}`,()=>n.func(this));o.addClass(this.cssclass),o.setCssProps({border:"1px solid var(--text-faint)"});let d={id:n.id,name:n.name,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(d.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(d)}this.statusbar.addClass(this.cssclass),Jt(this),this.registerEvent(this.app.workspace.on("file-open",()=>Jt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>Jt(this))),this.trashWatcherUninstaller=Gt(this),await this.loadSettings(),this.addSettingTab(new qt(this)),Kt(this),Zt(this),Ke(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,o)=>{o.innerHTML=Ur(this),o.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,o)=>{o.innerHTML=pn(this),o.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},ce,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
