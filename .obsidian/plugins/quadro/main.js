/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var bl=Object.create;var At=Object.defineProperty;var Ol=Object.getOwnPropertyDescriptor;var El=Object.getOwnPropertyNames;var Pl=Object.getPrototypeOf,Yl=Object.prototype.hasOwnProperty;var Il=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),Nl=(o,n)=>{for(var a in n)At(o,a,{get:n[a],enumerable:!0})},Gs=(o,n,a,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of El(n))!Yl.call(o,c)&&c!==a&&At(o,c,{get:()=>n[c],enumerable:!(l=Ol(n,c))||l.enumerable});return o};var Yr=(o,n,a)=>(a=o!=null?bl(Pl(o)):{},Gs(n||!o||!o.__esModule?At(a,"default",{value:o,enumerable:!0}):a,o)),Wl=o=>Gs(At({},"__esModule",{value:!0}),o);var $t=Il((Ir,Ke)=>{(function(o,n){typeof Ir=="object"&&typeof Ke<"u"?Ke.exports=n():typeof define=="function"&&define.amd?define(n):o.moment=n()})(Ir,function(){"use strict";var o;function n(){return o.apply(null,arguments)}function a(e){o=e}function l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function p(e){return e===void 0}function g(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function v(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function k(e,t){var r=[],s,i=e.length;for(s=0;s<i;++s)r.push(t(e[s],s));return r}function C(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _(e,t,r,s){return Ts(e,t,r,s,!0).utc()}function M(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=M()),e._pf}var $;Array.prototype.some?$=Array.prototype.some:$=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function V(e){if(e._isValid==null){var t=w(e),r=$.call(t.parsedDateParts,function(i){return i!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function W(e){var t=_(NaN);return e!=null?C(w(t),e):w(t).userInvalidated=!0,t}var q=n.momentProperties=[],U=!1;function G(e,t){var r,s,i,d=q.length;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=w(t)),p(t._locale)||(e._locale=t._locale),d>0)for(r=0;r<d;r++)s=q[r],i=t[s],p(i)||(e[s]=i);return e}function X(e){G(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U===!1&&(U=!0,n.updateOffset(this),U=!1)}function ee(e){return e instanceof X||e!=null&&e._isAMomentObject!=null}function Ae(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var r=!0;return C(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),r){var s=[],i,d,h,x=arguments.length;for(d=0;d<x;d++){if(i="",typeof arguments[d]=="object"){i+=`
[`+d+"] ";for(h in arguments[0])u(arguments[0],h)&&(i+=h+": "+arguments[0][h]+", ");i=i.slice(0,-2)}else i=arguments[d];s.push(i)}Ae(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var $e={};function rs(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),$e[e]||(Ae(t),$e[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function ue(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function On(e){var t,r;for(r in e)u(e,r)&&(t=e[r],ue(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function or(e,t){var r=C({},e),s;for(s in t)u(t,s)&&(c(e[s])&&c(t[s])?(r[s]={},C(r[s],e[s]),C(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)u(e,s)&&!u(t,s)&&c(e[s])&&(r[s]=C({},r[s]));return r}function lr(e){e!=null&&this.set(e)}var dr;Object.keys?dr=Object.keys:dr=function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var En={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Pn(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return ue(s)?s.call(t,r):s}function he(e,t,r){var s=""+Math.abs(e),i=t-s.length,d=e>=0;return(d?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var cr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ur={},Ue={};function F(e,t,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&(Ue[e]=i),t&&(Ue[t[0]]=function(){return he(i.apply(this,arguments),t[1],t[2])}),r&&(Ue[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Yn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function In(e){var t=e.match(cr),r,s;for(r=0,s=t.length;r<s;r++)Ue[t[r]]?t[r]=Ue[t[r]]:t[r]=Yn(t[r]);return function(i){var d="",h;for(h=0;h<s;h++)d+=ue(t[h])?t[h].call(i,e):t[h];return d}}function wt(e,t){return e.isValid()?(t=ss(t,e.localeData()),ur[t]=ur[t]||In(t),ur[t](e)):e.localeData().invalidDate()}function ss(e,t){var r=5;function s(i){return t.longDateFormat(i)||i}for(yt.lastIndex=0;r>=0&&yt.test(e);)e=e.replace(yt,s),yt.lastIndex=0,r-=1;return e}var Nn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Wn(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(cr).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var Ln="Invalid date";function Rn(){return this._invalidDate}var An="%d",$n=/\d{1,2}/;function Un(e){return this._ordinal.replace("%d",e)}var Hn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Vn(e,t,r,s){var i=this._relativeTime[r];return ue(i)?i(e,t,r,s):i.replace(/%d/i,e)}function Bn(e,t){var r=this._relativeTime[e>0?"future":"past"];return ue(r)?r(t):r.replace(/%s/i,t)}var nt={};function B(e,t){var r=e.toLowerCase();nt[r]=nt[r+"s"]=nt[t]=e}function ne(e){return typeof e=="string"?nt[e]||nt[e.toLowerCase()]:void 0}function hr(e){var t={},r,s;for(s in e)u(e,s)&&(r=ne(s),r&&(t[r]=e[s]));return t}var ns={};function j(e,t){ns[e]=t}function jn(e){var t=[],r;for(r in e)u(e,r)&&t.push({unit:r,priority:ns[r]});return t.sort(function(s,i){return s.priority-i.priority}),t}function vt(e){return e%4===0&&e%100!==0||e%400===0}function ie(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=ie(t)),r}function He(e,t){return function(r){return r!=null?(is(this,e,r),n.updateOffset(this,t),this):_t(this,e)}}function _t(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function is(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&vt(e.year())&&e.month()===1&&e.date()===29?(r=S(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Dt(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Qn(e){return e=ne(e),ue(this[e])?this[e]():this}function Gn(e,t){if(typeof e=="object"){e=hr(e);var r=jn(e),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](e[r[s].unit])}else if(e=ne(e),ue(this[e]))return this[e](t);return this}var as=/\d/,te=/\d\d/,os=/\d{3}/,fr=/\d{4}/,Ft=/[+-]?\d{6}/,Y=/\d\d?/,ls=/\d\d\d\d?/,ds=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,mr=/\d{1,4}/,kt=/[+-]?\d{1,6}/,Ve=/\d+/,Ct=/[+-]?\d+/,zn=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,Kn=/[+-]?\d+(\.\d{1,3})?/,it=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,St;St={};function y(e,t,r){St[e]=ue(t)?t:function(s,i){return s&&r?r:t}}function Zn(e,t){return u(St,e)?St[e](t._strict,t._locale):new RegExp(qn(e))}function qn(e){return re(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,i,d){return r||s||i||d}))}function re(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pr={};function E(e,t){var r,s=t,i;for(typeof e=="string"&&(e=[e]),g(t)&&(s=function(d,h){h[t]=S(d)}),i=e.length,r=0;r<i;r++)pr[e[r]]=s}function at(e,t){E(e,function(r,s,i,d){i._w=i._w||{},t(r,i._w,i,d)})}function Jn(e,t,r){t!=null&&u(pr,e)&&pr[e](t,r._a,r,e)}var Q=0,pe=1,fe=2,R=3,ae=4,ge=5,Pe=6,Xn=7,ei=8;function ti(e,t){return(e%t+t)%t}var L;Array.prototype.indexOf?L=Array.prototype.indexOf:L=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Dt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=ti(t,12);return e+=(t-r)/12,r===1?vt(e)?29:28:31-r%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),F("MMMM",0,0,function(e){return this.localeData().months(this,e)}),B("month","M"),j("month",8),y("M",Y),y("MM",Y,te),y("MMM",function(e,t){return t.monthsShortRegex(e)}),y("MMMM",function(e,t){return t.monthsRegex(e)}),E(["M","MM"],function(e,t){t[pe]=S(e)-1}),E(["MMM","MMMM"],function(e,t,r,s){var i=r._locale.monthsParse(e,s,r._strict);i!=null?t[pe]=i:w(r).invalidMonth=e});var ri="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),us=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,si=it,ni=it;function ii(e,t){return e?l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||us).test(t)?"format":"standalone"][e.month()]:l(this._months)?this._months:this._months.standalone}function ai(e,t){return e?l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[us.test(t)?"format":"standalone"][e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oi(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)d=_([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(d,"").toLocaleLowerCase();return r?t==="MMM"?(i=L.call(this._shortMonthsParse,h),i!==-1?i:null):(i=L.call(this._longMonthsParse,h),i!==-1?i:null):t==="MMM"?(i=L.call(this._shortMonthsParse,h),i!==-1?i:(i=L.call(this._longMonthsParse,h),i!==-1?i:null)):(i=L.call(this._longMonthsParse,h),i!==-1?i:(i=L.call(this._shortMonthsParse,h),i!==-1?i:null))}function li(e,t,r){var s,i,d;if(this._monthsParseExact)return oi.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=_([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(d="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function hs(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),!g(t))return e}return r=Math.min(e.date(),Dt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function fs(e){return e!=null?(hs(this,e),n.updateOffset(this,!0),this):_t(this,"Month")}function di(){return Dt(this.year(),this.month())}function ci(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ms.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=si),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ui(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ms.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=ni),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ms(){function e(h,x){return x.length-h.length}var t=[],r=[],s=[],i,d;for(i=0;i<12;i++)d=_([2e3,i]),t.push(this.monthsShort(d,"")),r.push(this.months(d,"")),s.push(this.months(d,"")),s.push(this.monthsShort(d,""));for(t.sort(e),r.sort(e),s.sort(e),i=0;i<12;i++)t[i]=re(t[i]),r[i]=re(r[i]);for(i=0;i<24;i++)s[i]=re(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}F("Y",0,0,function(){var e=this.year();return e<=9999?he(e,4):"+"+e}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),B("year","y"),j("year",1),y("Y",Ct),y("YY",Y,te),y("YYYY",mr,fr),y("YYYYY",kt,Ft),y("YYYYYY",kt,Ft),E(["YYYYY","YYYYYY"],Q),E("YYYY",function(e,t){t[Q]=e.length===2?n.parseTwoDigitYear(e):S(e)}),E("YY",function(e,t){t[Q]=n.parseTwoDigitYear(e)}),E("Y",function(e,t){t[Q]=parseInt(e,10)});function ot(e){return vt(e)?366:365}n.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var ps=He("FullYear",!0);function hi(){return vt(this.year())}function fi(e,t,r,s,i,d,h){var x;return e<100&&e>=0?(x=new Date(e+400,t,r,s,i,d,h),isFinite(x.getFullYear())&&x.setFullYear(e)):x=new Date(e,t,r,s,i,d,h),x}function lt(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mt(e,t,r){var s=7+t-r,i=(7+lt(e,0,s).getUTCDay()-t)%7;return-i+s-1}function gs(e,t,r,s,i){var d=(7+r-s)%7,h=Mt(e,s,i),x=1+7*(t-1)+d+h,T,P;return x<=0?(T=e-1,P=ot(T)+x):x>ot(e)?(T=e+1,P=x-ot(e)):(T=e,P=x),{year:T,dayOfYear:P}}function dt(e,t,r){var s=Mt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1,d,h;return i<1?(h=e.year()-1,d=i+ye(h,t,r)):i>ye(e.year(),t,r)?(d=i-ye(e.year(),t,r),h=e.year()+1):(h=e.year(),d=i),{week:d,year:h}}function ye(e,t,r){var s=Mt(e,t,r),i=Mt(e+1,t,r);return(ot(e)-s+i)/7}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),j("week",5),j("isoWeek",5),y("w",Y),y("ww",Y,te),y("W",Y),y("WW",Y,te),at(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=S(e)});function mi(e){return dt(e,this._week.dow,this._week.doy).week}var pi={dow:0,doy:6};function gi(){return this._week.dow}function yi(){return this._week.doy}function wi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function vi(e){var t=dt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}F("d",0,"do","day"),F("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),F("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),F("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),y("d",Y),y("e",Y),y("E",Y),y("dd",function(e,t){return t.weekdaysMinRegex(e)}),y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),y("dddd",function(e,t){return t.weekdaysRegex(e)}),at(["dd","ddd","dddd"],function(e,t,r,s){var i=r._locale.weekdaysParse(e,s,r._strict);i!=null?t.d=i:w(r).invalidWeekday=e}),at(["d","e","E"],function(e,t,r,s){t[s]=S(e)});function _i(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Fi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function gr(e,t){return e.slice(t,7).concat(e.slice(0,t))}var xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ys="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ki="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ci=it,Ti=it,Si=it;function Di(e,t){var r=l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?gr(r,this._week.dow):e?r[e.day()]:r}function Mi(e){return e===!0?gr(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function bi(e){return e===!0?gr(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Oi(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)d=_([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(d,"").toLocaleLowerCase();return r?t==="dddd"?(i=L.call(this._weekdaysParse,h),i!==-1?i:null):t==="ddd"?(i=L.call(this._shortWeekdaysParse,h),i!==-1?i:null):(i=L.call(this._minWeekdaysParse,h),i!==-1?i:null):t==="dddd"?(i=L.call(this._weekdaysParse,h),i!==-1||(i=L.call(this._shortWeekdaysParse,h),i!==-1)?i:(i=L.call(this._minWeekdaysParse,h),i!==-1?i:null)):t==="ddd"?(i=L.call(this._shortWeekdaysParse,h),i!==-1||(i=L.call(this._weekdaysParse,h),i!==-1)?i:(i=L.call(this._minWeekdaysParse,h),i!==-1?i:null)):(i=L.call(this._minWeekdaysParse,h),i!==-1||(i=L.call(this._weekdaysParse,h),i!==-1)?i:(i=L.call(this._shortWeekdaysParse,h),i!==-1?i:null))}function Ei(e,t,r){var s,i,d;if(this._weekdaysParseExact)return Oi.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=_([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(d="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function Pi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=_i(e,this.localeData()),this.add(e-t,"d")):t}function Yi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ii(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Fi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ni(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||yr.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ci),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||yr.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ti),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Li(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||yr.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Si),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function yr(){function e(z,xe){return xe.length-z.length}var t=[],r=[],s=[],i=[],d,h,x,T,P;for(d=0;d<7;d++)h=_([2e3,1]).day(d),x=re(this.weekdaysMin(h,"")),T=re(this.weekdaysShort(h,"")),P=re(this.weekdays(h,"")),t.push(x),r.push(T),s.push(P),i.push(x),i.push(T),i.push(P);t.sort(e),r.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function wr(){return this.hours()%12||12}function Ri(){return this.hours()||24}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,wr),F("k",["kk",2],0,Ri),F("hmm",0,0,function(){return""+wr.apply(this)+he(this.minutes(),2)}),F("hmmss",0,0,function(){return""+wr.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function ws(e,t){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ws("a",!0),ws("A",!1),B("hour","h"),j("hour",13);function vs(e,t){return t._meridiemParse}y("a",vs),y("A",vs),y("H",Y),y("h",Y),y("k",Y),y("HH",Y,te),y("hh",Y,te),y("kk",Y,te),y("hmm",ls),y("hmmss",ds),y("Hmm",ls),y("Hmmss",ds),E(["H","HH"],R),E(["k","kk"],function(e,t,r){var s=S(e);t[R]=s===24?0:s}),E(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),E(["h","hh"],function(e,t,r){t[R]=S(e),w(r).bigHour=!0}),E("hmm",function(e,t,r){var s=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s)),w(r).bigHour=!0}),E("hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s,2)),t[ge]=S(e.substr(i)),w(r).bigHour=!0}),E("Hmm",function(e,t,r){var s=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s))}),E("Hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s,2)),t[ge]=S(e.substr(i))});function Ai(e){return(e+"").toLowerCase().charAt(0)==="p"}var $i=/[ap]\.?m?\.?/i,Ui=He("Hours",!0);function Hi(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var _s={calendar:En,longDateFormat:Nn,invalidDate:Ln,ordinal:An,dayOfMonthOrdinalParse:$n,relativeTime:Hn,months:ri,monthsShort:cs,week:pi,weekdays:xi,weekdaysMin:ki,weekdaysShort:ys,meridiemParse:$i},N={},ct={},ut;function Vi(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function Fs(e){return e&&e.toLowerCase().replace("_","-")}function Bi(e){for(var t=0,r,s,i,d;t<e.length;){for(d=Fs(e[t]).split("-"),r=d.length,s=Fs(e[t+1]),s=s?s.split("-"):null;r>0;){if(i=bt(d.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&Vi(d,s)>=r-1)break;r--}t++}return ut}function ji(e){return e.match("^[^/\\\\]*$")!=null}function bt(e){var t=null,r;if(N[e]===void 0&&typeof Ke<"u"&&Ke&&Ke.exports&&ji(e))try{t=ut._abbr,r=require,r("./locale/"+e),Se(t)}catch{N[e]=null}return N[e]}function Se(e,t){var r;return e&&(p(t)?r=we(e):r=vr(e,t),r?ut=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ut._abbr}function vr(e,t){if(t!==null){var r,s=_s;if(t.abbr=e,N[e]!=null)rs("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=N[e]._config;else if(t.parentLocale!=null)if(N[t.parentLocale]!=null)s=N[t.parentLocale]._config;else if(r=bt(t.parentLocale),r!=null)s=r._config;else return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;return N[e]=new lr(or(s,t)),ct[e]&&ct[e].forEach(function(i){vr(i.name,i.config)}),Se(e),N[e]}else return delete N[e],null}function Qi(e,t){if(t!=null){var r,s,i=_s;N[e]!=null&&N[e].parentLocale!=null?N[e].set(or(N[e]._config,t)):(s=bt(e),s!=null&&(i=s._config),t=or(i,t),s==null&&(t.abbr=e),r=new lr(t),r.parentLocale=N[e],N[e]=r),Se(e)}else N[e]!=null&&(N[e].parentLocale!=null?(N[e]=N[e].parentLocale,e===Se()&&Se(e)):N[e]!=null&&delete N[e]);return N[e]}function we(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ut;if(!l(e)){if(t=bt(e),t)return t;e=[e]}return Bi(e)}function Gi(){return dr(N)}function _r(e){var t,r=e._a;return r&&w(e).overflow===-2&&(t=r[pe]<0||r[pe]>11?pe:r[fe]<1||r[fe]>Dt(r[Q],r[pe])?fe:r[R]<0||r[R]>24||r[R]===24&&(r[ae]!==0||r[ge]!==0||r[Pe]!==0)?R:r[ae]<0||r[ae]>59?ae:r[ge]<0||r[ge]>59?ge:r[Pe]<0||r[Pe]>999?Pe:-1,w(e)._overflowDayOfYear&&(t<Q||t>fe)&&(t=fe),w(e)._overflowWeeks&&t===-1&&(t=Xn),w(e)._overflowWeekday&&t===-1&&(t=ei),w(e).overflow=t),e}var zi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ki=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zi=/Z|[+-]\d\d(?::?\d\d)?/,Ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Fr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qi=/^\/?Date\((-?\d+)/i,Ji=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xs(e){var t,r,s=e._i,i=zi.exec(s)||Ki.exec(s),d,h,x,T,P=Ot.length,z=Fr.length;if(i){for(w(e).iso=!0,t=0,r=P;t<r;t++)if(Ot[t][1].exec(i[1])){h=Ot[t][0],d=Ot[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(i[3]){for(t=0,r=z;t<r;t++)if(Fr[t][1].exec(i[3])){x=(i[2]||" ")+Fr[t][0];break}if(x==null){e._isValid=!1;return}}if(!d&&x!=null){e._isValid=!1;return}if(i[4])if(Zi.exec(i[4]))T="Z";else{e._isValid=!1;return}e._f=h+(x||"")+(T||""),kr(e)}else e._isValid=!1}function ea(e,t,r,s,i,d){var h=[ta(e),cs.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return d&&h.push(parseInt(d,10)),h}function ta(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ra(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sa(e,t,r){if(e){var s=ys.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return w(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function na(e,t,r){if(e)return Xi[e];if(t)return 0;var s=parseInt(r,10),i=s%100,d=(s-i)/100;return d*60+i}function ks(e){var t=Ji.exec(ra(e._i)),r;if(t){if(r=ea(t[4],t[3],t[2],t[5],t[6],t[7]),!sa(t[1],r,e))return;e._a=r,e._tzm=na(t[8],t[9],t[10]),e._d=lt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function ia(e){var t=qi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(xs(e),e._isValid===!1)delete e._isValid;else return;if(ks(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Be(e,t,r){return e??t??r}function aa(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xr(e){var t,r,s=[],i,d,h;if(!e._d){for(i=aa(e),e._w&&e._a[fe]==null&&e._a[pe]==null&&oa(e),e._dayOfYear!=null&&(h=Be(e._a[Q],i[Q]),(e._dayOfYear>ot(h)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),r=lt(h,0,e._dayOfYear),e._a[pe]=r.getUTCMonth(),e._a[fe]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[R]===24&&e._a[ae]===0&&e._a[ge]===0&&e._a[Pe]===0&&(e._nextDay=!0,e._a[R]=0),e._d=(e._useUTC?lt:fi).apply(null,s),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[R]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(w(e).weekdayMismatch=!0)}}function oa(e){var t,r,s,i,d,h,x,T,P;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,r=Be(t.GG,e._a[Q],dt(I(),1,4).year),s=Be(t.W,1),i=Be(t.E,1),(i<1||i>7)&&(T=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,P=dt(I(),d,h),r=Be(t.gg,e._a[Q],P.year),s=Be(t.w,P.week),t.d!=null?(i=t.d,(i<0||i>6)&&(T=!0)):t.e!=null?(i=t.e+d,(t.e<0||t.e>6)&&(T=!0)):i=d),s<1||s>ye(r,d,h)?w(e)._overflowWeeks=!0:T!=null?w(e)._overflowWeekday=!0:(x=gs(r,s,i,d,h),e._a[Q]=x.year,e._dayOfYear=x.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function kr(e){if(e._f===n.ISO_8601){xs(e);return}if(e._f===n.RFC_2822){ks(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,r,s,i,d,h,x=t.length,T=0,P,z;for(i=ss(e._f,e._locale).match(cr)||[],z=i.length,r=0;r<z;r++)d=i[r],s=(t.match(Zn(d,e))||[])[0],s&&(h=t.substr(0,t.indexOf(s)),h.length>0&&w(e).unusedInput.push(h),t=t.slice(t.indexOf(s)+s.length),T+=s.length),Ue[d]?(s?w(e).empty=!1:w(e).unusedTokens.push(d),Jn(d,s,e)):e._strict&&!s&&w(e).unusedTokens.push(d);w(e).charsLeftOver=x-T,t.length>0&&w(e).unusedInput.push(t),e._a[R]<=12&&w(e).bigHour===!0&&e._a[R]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[R]=la(e._locale,e._a[R],e._meridiem),P=w(e).era,P!==null&&(e._a[Q]=e._locale.erasConvertYear(P,e._a[Q])),xr(e),_r(e)}function la(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function da(e){var t,r,s,i,d,h,x=!1,T=e._f.length;if(T===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<T;i++)d=0,h=!1,t=G({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],kr(t),V(t)&&(h=!0),d+=w(t).charsLeftOver,d+=w(t).unusedTokens.length*10,w(t).score=d,x?d<s&&(s=d,r=t):(s==null||d<s||h)&&(s=d,r=t,h&&(x=!0));C(e,r||t)}function ca(e){if(!e._d){var t=hr(e._i),r=t.day===void 0?t.date:t.day;e._a=k([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),xr(e)}}function ua(e){var t=new X(_r(Cs(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Cs(e){var t=e._i,r=e._f;return e._locale=e._locale||we(e._l),t===null||r===void 0&&t===""?W({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ee(t)?new X(_r(t)):(v(t)?e._d=t:l(r)?da(e):r?kr(e):ha(e),V(e)||(e._d=null),e))}function ha(e){var t=e._i;p(t)?e._d=new Date(n.now()):v(t)?e._d=new Date(t.valueOf()):typeof t=="string"?ia(e):l(t)?(e._a=k(t.slice(0),function(r){return parseInt(r,10)}),xr(e)):c(t)?ca(e):g(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Ts(e,t,r,s,i){var d={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(c(e)&&m(e)||l(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=i,d._l=r,d._i=e,d._f=t,d._strict=s,ua(d)}function I(e,t,r,s){return Ts(e,t,r,s,!1)}var fa=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:W()}),ma=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:W()});function Ss(e,t){var r,s;if(t.length===1&&l(t[0])&&(t=t[0]),!t.length)return I();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function pa(){var e=[].slice.call(arguments,0);return Ss("isBefore",e)}function ga(){var e=[].slice.call(arguments,0);return Ss("isAfter",e)}var ya=function(){return Date.now?Date.now():+new Date},ht=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wa(e){var t,r=!1,s,i=ht.length;for(t in e)if(u(e,t)&&!(L.call(ht,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[ht[s]]){if(r)return!1;parseFloat(e[ht[s]])!==S(e[ht[s]])&&(r=!0)}return!0}function va(){return this._isValid}function _a(){return oe(NaN)}function Et(e){var t=hr(e),r=t.year||0,s=t.quarter||0,i=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,x=t.hour||0,T=t.minute||0,P=t.second||0,z=t.millisecond||0;this._isValid=wa(t),this._milliseconds=+z+P*1e3+T*6e4+x*1e3*60*60,this._days=+h+d*7,this._months=+i+s*3+r*12,this._data={},this._locale=we(),this._bubble()}function Pt(e){return e instanceof Et}function Cr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Fa(e,t,r){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),d=0,h;for(h=0;h<s;h++)(r&&e[h]!==t[h]||!r&&S(e[h])!==S(t[h]))&&d++;return d+i}function Ds(e,t){F(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+he(~~(r/60),2)+t+he(~~r%60,2)})}Ds("Z",":"),Ds("ZZ",""),y("Z",Tt),y("ZZ",Tt),E(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Tr(Tt,e)});var xa=/([\+\-]|\d\d)/gi;function Tr(e,t){var r=(t||"").match(e),s,i,d;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(xa)||["-",0,0],d=+(i[1]*60)+S(i[2]),d===0?0:i[0]==="+"?d:-d)}function Sr(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(ee(e)||v(e)?e.valueOf():I(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),n.updateOffset(r,!1),r):I(e).local()}function Dr(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function ka(e,t,r){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Tr(Tt,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=Dr(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Es(this,oe(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Dr(this)}function Ca(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ta(e){return this.utcOffset(0,e)}function Sa(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dr(this),"m")),this}function Da(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Tr(zn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ma(e){return this.isValid()?(e=e?I(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ba(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oa(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={},t;return G(e,this),e=Cs(e),e._a?(t=e._isUTC?_(e._a):I(e._a),this._isDSTShifted=this.isValid()&&Fa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ea(){return this.isValid()?!this._isUTC:!1}function Pa(){return this.isValid()?this._isUTC:!1}function Ms(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ya=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ia=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oe(e,t){var r=e,s=null,i,d,h;return Pt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:g(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=Ya.exec(e))?(i=s[1]==="-"?-1:1,r={y:0,d:S(s[fe])*i,h:S(s[R])*i,m:S(s[ae])*i,s:S(s[ge])*i,ms:S(Cr(s[Pe]*1e3))*i}):(s=Ia.exec(e))?(i=s[1]==="-"?-1:1,r={y:Ye(s[2],i),M:Ye(s[3],i),w:Ye(s[4],i),d:Ye(s[5],i),h:Ye(s[6],i),m:Ye(s[7],i),s:Ye(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(h=Na(I(r.from),I(r.to)),r={},r.ms=h.milliseconds,r.M=h.months),d=new Et(r),Pt(e)&&u(e,"_locale")&&(d._locale=e._locale),Pt(e)&&u(e,"_isValid")&&(d._isValid=e._isValid),d}oe.fn=Et.prototype,oe.invalid=_a;function Ye(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function bs(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Na(e,t){var r;return e.isValid()&&t.isValid()?(t=Sr(t,e),e.isBefore(t)?r=bs(e,t):(r=bs(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Os(e,t){return function(r,s){var i,d;return s!==null&&!isNaN(+s)&&(rs(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=r,r=s,s=d),i=oe(r,s),Es(this,i,e),this}}function Es(e,t,r,s){var i=t._milliseconds,d=Cr(t._days),h=Cr(t._months);e.isValid()&&(s=s??!0,h&&hs(e,_t(e,"Month")+h*r),d&&is(e,"Date",_t(e,"Date")+d*r),i&&e._d.setTime(e._d.valueOf()+i*r),s&&n.updateOffset(e,d||h))}var Wa=Os(1,"add"),La=Os(-1,"subtract");function Ps(e){return typeof e=="string"||e instanceof String}function Ra(e){return ee(e)||v(e)||Ps(e)||g(e)||$a(e)||Aa(e)||e===null||e===void 0}function Aa(e){var t=c(e)&&!m(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,d,h=s.length;for(i=0;i<h;i+=1)d=s[i],r=r||u(e,d);return t&&r}function $a(e){var t=l(e),r=!1;return t&&(r=e.filter(function(s){return!g(s)&&Ps(e)}).length===0),t&&r}function Ua(e){var t=c(e)&&!m(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,d;for(i=0;i<s.length;i+=1)d=s[i],r=r||u(e,d);return t&&r}function Ha(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Va(e,t){arguments.length===1&&(arguments[0]?Ra(arguments[0])?(e=arguments[0],t=void 0):Ua(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||I(),s=Sr(r,this).startOf("day"),i=n.calendarFormat(this,s)||"sameElse",d=t&&(ue(t[i])?t[i].call(this,r):t[i]);return this.format(d||this.localeData().calendar(i,this,I(r)))}function Ba(){return new X(this)}function ja(e,t){var r=ee(e)?e:I(e);return this.isValid()&&r.isValid()?(t=ne(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Qa(e,t){var r=ee(e)?e:I(e);return this.isValid()&&r.isValid()?(t=ne(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Ga(e,t,r,s){var i=ee(e)?e:I(e),d=ee(t)?t:I(t);return this.isValid()&&i.isValid()&&d.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(d,r):!this.isAfter(d,r))):!1}function za(e,t){var r=ee(e)?e:I(e),s;return this.isValid()&&r.isValid()?(t=ne(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function Ka(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Za(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function qa(e,t,r){var s,i,d;if(!this.isValid())return NaN;if(s=Sr(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=ne(t),t){case"year":d=Yt(this,s)/12;break;case"month":d=Yt(this,s);break;case"quarter":d=Yt(this,s)/3;break;case"second":d=(this-s)/1e3;break;case"minute":d=(this-s)/6e4;break;case"hour":d=(this-s)/36e5;break;case"day":d=(this-s-i)/864e5;break;case"week":d=(this-s-i)/6048e5;break;default:d=this-s}return r?d:ie(d)}function Yt(e,t){if(e.date()<t.date())return-Yt(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),i,d;return t-s<0?(i=e.clone().add(r-1,"months"),d=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),d=(t-s)/(i-s)),-(r+d)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ja(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xa(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?wt(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ue(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wt(r,"Z")):wt(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,i,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(r+s+i+d)}function to(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=wt(this,e);return this.localeData().postformat(t)}function ro(e,t){return this.isValid()&&(ee(e)&&e.isValid()||I(e).isValid())?oe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function so(e){return this.from(I(),e)}function no(e,t){return this.isValid()&&(ee(e)&&e.isValid()||I(e).isValid())?oe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function io(e){return this.to(I(),e)}function Ys(e){var t;return e===void 0?this._locale._abbr:(t=we(e),t!=null&&(this._locale=t),this)}var Is=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ns(){return this._locale}var It=1e3,je=60*It,Nt=60*je,Ws=(365*400+97)*24*Nt;function Qe(e,t){return(e%t+t)%t}function Ls(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Ws:new Date(e,t,r).valueOf()}function Rs(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Ws:Date.UTC(e,t,r)}function ao(e){var t,r;if(e=ne(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Rs:Ls,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qe(t+(this._isUTC?0:this.utcOffset()*je),Nt);break;case"minute":t=this._d.valueOf(),t-=Qe(t,je);break;case"second":t=this._d.valueOf(),t-=Qe(t,It);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function oo(e){var t,r;if(e=ne(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Rs:Ls,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Nt-Qe(t+(this._isUTC?0:this.utcOffset()*je),Nt)-1;break;case"minute":t=this._d.valueOf(),t+=je-Qe(t,je)-1;break;case"second":t=this._d.valueOf(),t+=It-Qe(t,It)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function lo(){return this._d.valueOf()-(this._offset||0)*6e4}function co(){return Math.floor(this.valueOf()/1e3)}function uo(){return new Date(this.valueOf())}function ho(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function fo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function mo(){return this.isValid()?this.toISOString():null}function po(){return V(this)}function go(){return C({},w(this))}function yo(){return w(this).overflow}function wo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),y("N",Mr),y("NN",Mr),y("NNN",Mr),y("NNNN",bo),y("NNNNN",Oo),E(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var i=r._locale.erasParse(e,s,r._strict);i?w(r).era=i:w(r).invalidEra=e}),y("y",Ve),y("yy",Ve),y("yyy",Ve),y("yyyy",Ve),y("yo",Eo),E(["y","yy","yyy","yyyy"],Q),E(["yo"],function(e,t,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Q]=r._locale.eraYearOrdinalParse(e,i):t[Q]=parseInt(e,10)});function vo(e,t){var r,s,i,d=this._eras||we("en")._eras;for(r=0,s=d.length;r<s;++r){switch(typeof d[r].since){case"string":i=n(d[r].since).startOf("day"),d[r].since=i.valueOf();break}switch(typeof d[r].until){case"undefined":d[r].until=1/0;break;case"string":i=n(d[r].until).startOf("day").valueOf(),d[r].until=i.valueOf();break}}return d}function _o(e,t,r){var s,i,d=this.eras(),h,x,T;for(e=e.toUpperCase(),s=0,i=d.length;s<i;++s)if(h=d[s].name.toUpperCase(),x=d[s].abbr.toUpperCase(),T=d[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(x===e)return d[s];break;case"NNNN":if(h===e)return d[s];break;case"NNNNN":if(T===e)return d[s];break}else if([h,x,T].indexOf(e)>=0)return d[s]}function Fo(e,t){var r=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function xo(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function ko(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function Co(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function To(){var e,t,r,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()}function So(e){return u(this,"_erasNameRegex")||br.call(this),e?this._erasNameRegex:this._erasRegex}function Do(e){return u(this,"_erasAbbrRegex")||br.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mo(e){return u(this,"_erasNarrowRegex")||br.call(this),e?this._erasNarrowRegex:this._erasRegex}function Mr(e,t){return t.erasAbbrRegex(e)}function bo(e,t){return t.erasNameRegex(e)}function Oo(e,t){return t.erasNarrowRegex(e)}function Eo(e,t){return t._eraYearOrdinalRegex||Ve}function br(){var e=[],t=[],r=[],s=[],i,d,h=this.eras();for(i=0,d=h.length;i<d;++i)t.push(re(h[i].name)),e.push(re(h[i].abbr)),r.push(re(h[i].narrow)),s.push(re(h[i].name)),s.push(re(h[i].abbr)),s.push(re(h[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wt(e,t){F(0,[e,e.length],0,t)}Wt("gggg","weekYear"),Wt("ggggg","weekYear"),Wt("GGGG","isoWeekYear"),Wt("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),y("G",Ct),y("g",Ct),y("GG",Y,te),y("gg",Y,te),y("GGGG",mr,fr),y("gggg",mr,fr),y("GGGGG",kt,Ft),y("ggggg",kt,Ft),at(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=S(e)}),at(["gg","GG"],function(e,t,r,s){t[s]=n.parseTwoDigitYear(e)});function Po(e){return As.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Yo(e){return As.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Io(){return ye(this.year(),1,4)}function No(){return ye(this.isoWeekYear(),1,4)}function Wo(){var e=this.localeData()._week;return ye(this.year(),e.dow,e.doy)}function Lo(){var e=this.localeData()._week;return ye(this.weekYear(),e.dow,e.doy)}function As(e,t,r,s,i){var d;return e==null?dt(this,s,i).year:(d=ye(e,s,i),t>d&&(t=d),Ro.call(this,e,t,r,s,i))}function Ro(e,t,r,s,i){var d=gs(e,t,r,s,i),h=lt(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}F("Q",0,"Qo","quarter"),B("quarter","Q"),j("quarter",7),y("Q",as),E("Q",function(e,t){t[pe]=(S(e)-1)*3});function Ao(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}F("D",["DD",2],"Do","date"),B("date","D"),j("date",9),y("D",Y),y("DD",Y,te),y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),E(["D","DD"],fe),E("Do",function(e,t){t[fe]=S(e.match(Y)[0])});var $s=He("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),j("dayOfYear",4),y("DDD",xt),y("DDDD",os),E(["DDD","DDDD"],function(e,t,r){r._dayOfYear=S(e)});function $o(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}F("m",["mm",2],0,"minute"),B("minute","m"),j("minute",14),y("m",Y),y("mm",Y,te),E(["m","mm"],ae);var Uo=He("Minutes",!1);F("s",["ss",2],0,"second"),B("second","s"),j("second",15),y("s",Y),y("ss",Y,te),E(["s","ss"],ge);var Ho=He("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return this.millisecond()*10}),F(0,["SSSSS",5],0,function(){return this.millisecond()*100}),F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("millisecond","ms"),j("millisecond",16),y("S",xt,as),y("SS",xt,te),y("SSS",xt,os);var De,Us;for(De="SSSS";De.length<=9;De+="S")y(De,Ve);function Vo(e,t){t[Pe]=S(("0."+e)*1e3)}for(De="S";De.length<=9;De+="S")E(De,Vo);Us=He("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");function Bo(){return this._isUTC?"UTC":""}function jo(){return this._isUTC?"Coordinated Universal Time":""}var f=X.prototype;f.add=Wa,f.calendar=Va,f.clone=Ba,f.diff=qa,f.endOf=oo,f.format=to,f.from=ro,f.fromNow=so,f.to=no,f.toNow=io,f.get=Qn,f.invalidAt=yo,f.isAfter=ja,f.isBefore=Qa,f.isBetween=Ga,f.isSame=za,f.isSameOrAfter=Ka,f.isSameOrBefore=Za,f.isValid=po,f.lang=Is,f.locale=Ys,f.localeData=Ns,f.max=ma,f.min=fa,f.parsingFlags=go,f.set=Gn,f.startOf=ao,f.subtract=La,f.toArray=ho,f.toObject=fo,f.toDate=uo,f.toISOString=Xa,f.inspect=eo,typeof Symbol<"u"&&Symbol.for!=null&&(f[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),f.toJSON=mo,f.toString=Ja,f.unix=co,f.valueOf=lo,f.creationData=wo,f.eraName=xo,f.eraNarrow=ko,f.eraAbbr=Co,f.eraYear=To,f.year=ps,f.isLeapYear=hi,f.weekYear=Po,f.isoWeekYear=Yo,f.quarter=f.quarters=Ao,f.month=fs,f.daysInMonth=di,f.week=f.weeks=wi,f.isoWeek=f.isoWeeks=vi,f.weeksInYear=Wo,f.weeksInWeekYear=Lo,f.isoWeeksInYear=Io,f.isoWeeksInISOWeekYear=No,f.date=$s,f.day=f.days=Pi,f.weekday=Yi,f.isoWeekday=Ii,f.dayOfYear=$o,f.hour=f.hours=Ui,f.minute=f.minutes=Uo,f.second=f.seconds=Ho,f.millisecond=f.milliseconds=Us,f.utcOffset=ka,f.utc=Ta,f.local=Sa,f.parseZone=Da,f.hasAlignedHourOffset=Ma,f.isDST=ba,f.isLocal=Ea,f.isUtcOffset=Pa,f.isUtc=Ms,f.isUTC=Ms,f.zoneAbbr=Bo,f.zoneName=jo,f.dates=A("dates accessor is deprecated. Use date instead.",$s),f.months=A("months accessor is deprecated. Use month instead",fs),f.years=A("years accessor is deprecated. Use year instead",ps),f.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ca),f.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oa);function Qo(e){return I(e*1e3)}function Go(){return I.apply(null,arguments).parseZone()}function Hs(e){return e}var b=lr.prototype;b.calendar=Pn,b.longDateFormat=Wn,b.invalidDate=Rn,b.ordinal=Un,b.preparse=Hs,b.postformat=Hs,b.relativeTime=Vn,b.pastFuture=Bn,b.set=On,b.eras=vo,b.erasParse=_o,b.erasConvertYear=Fo,b.erasAbbrRegex=Do,b.erasNameRegex=So,b.erasNarrowRegex=Mo,b.months=ii,b.monthsShort=ai,b.monthsParse=li,b.monthsRegex=ui,b.monthsShortRegex=ci,b.week=mi,b.firstDayOfYear=yi,b.firstDayOfWeek=gi,b.weekdays=Di,b.weekdaysMin=bi,b.weekdaysShort=Mi,b.weekdaysParse=Ei,b.weekdaysRegex=Ni,b.weekdaysShortRegex=Wi,b.weekdaysMinRegex=Li,b.isPM=Ai,b.meridiem=Hi;function Lt(e,t,r,s){var i=we(),d=_().set(s,t);return i[r](d,e)}function Vs(e,t,r){if(g(e)&&(t=e,e=void 0),e=e||"",t!=null)return Lt(e,t,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Lt(e,s,r,"month");return i}function Or(e,t,r,s){typeof e=="boolean"?(g(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,g(t)&&(r=t,t=void 0),t=t||"");var i=we(),d=e?i._week.dow:0,h,x=[];if(r!=null)return Lt(t,(r+d)%7,s,"day");for(h=0;h<7;h++)x[h]=Lt(t,(h+d)%7,s,"day");return x}function zo(e,t){return Vs(e,t,"months")}function Ko(e,t){return Vs(e,t,"monthsShort")}function Zo(e,t,r){return Or(e,t,r,"weekdays")}function qo(e,t,r){return Or(e,t,r,"weekdaysShort")}function Jo(e,t,r){return Or(e,t,r,"weekdaysMin")}Se("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=S(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}}),n.lang=A("moment.lang is deprecated. Use moment.locale instead.",Se),n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",we);var ve=Math.abs;function Xo(){var e=this._data;return this._milliseconds=ve(this._milliseconds),this._days=ve(this._days),this._months=ve(this._months),e.milliseconds=ve(e.milliseconds),e.seconds=ve(e.seconds),e.minutes=ve(e.minutes),e.hours=ve(e.hours),e.months=ve(e.months),e.years=ve(e.years),this}function Bs(e,t,r,s){var i=oe(t,r);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function el(e,t){return Bs(this,e,t,1)}function tl(e,t){return Bs(this,e,t,-1)}function js(e){return e<0?Math.floor(e):Math.ceil(e)}function rl(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,i,d,h,x,T;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=js(Er(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,i=ie(e/1e3),s.seconds=i%60,d=ie(i/60),s.minutes=d%60,h=ie(d/60),s.hours=h%24,t+=ie(h/24),T=ie(Qs(t)),r+=T,t-=js(Er(T)),x=ie(r/12),r%=12,s.days=t,s.months=r,s.years=x,this}function Qs(e){return e*4800/146097}function Er(e){return e*146097/4800}function sl(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=ne(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+Qs(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Er(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function nl(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+S(this._months/12)*31536e6:NaN}function _e(e){return function(){return this.as(e)}}var il=_e("ms"),al=_e("s"),ol=_e("m"),ll=_e("h"),dl=_e("d"),cl=_e("w"),ul=_e("M"),hl=_e("Q"),fl=_e("y");function ml(){return oe(this)}function pl(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Ie(e){return function(){return this.isValid()?this._data[e]:NaN}}var gl=Ie("milliseconds"),yl=Ie("seconds"),wl=Ie("minutes"),vl=Ie("hours"),_l=Ie("days"),Fl=Ie("months"),xl=Ie("years");function kl(){return ie(this.days()/7)}var Fe=Math.round,Ge={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Cl(e,t,r,s,i){return i.relativeTime(t||1,!!r,e,s)}function Tl(e,t,r,s){var i=oe(e).abs(),d=Fe(i.as("s")),h=Fe(i.as("m")),x=Fe(i.as("h")),T=Fe(i.as("d")),P=Fe(i.as("M")),z=Fe(i.as("w")),xe=Fe(i.as("y")),Me=d<=r.ss&&["s",d]||d<r.s&&["ss",d]||h<=1&&["m"]||h<r.m&&["mm",h]||x<=1&&["h"]||x<r.h&&["hh",x]||T<=1&&["d"]||T<r.d&&["dd",T];return r.w!=null&&(Me=Me||z<=1&&["w"]||z<r.w&&["ww",z]),Me=Me||P<=1&&["M"]||P<r.M&&["MM",P]||xe<=1&&["y"]||["yy",xe],Me[2]=t,Me[3]=+e>0,Me[4]=s,Cl.apply(null,Me)}function Sl(e){return e===void 0?Fe:typeof e=="function"?(Fe=e,!0):!1}function Dl(e,t){return Ge[e]===void 0?!1:t===void 0?Ge[e]:(Ge[e]=t,e==="s"&&(Ge.ss=t-1),!0)}function Ml(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=Ge,i,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},Ge,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),d=Tl(this,!r,s,i),r&&(d=i.pastFuture(+this,d)),i.postformat(d)}var Pr=Math.abs;function ze(e){return(e>0)-(e<0)||+e}function Rt(){if(!this.isValid())return this.localeData().invalidDate();var e=Pr(this._milliseconds)/1e3,t=Pr(this._days),r=Pr(this._months),s,i,d,h,x=this.asSeconds(),T,P,z,xe;return x?(s=ie(e/60),i=ie(s/60),e%=60,s%=60,d=ie(r/12),r%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",T=x<0?"-":"",P=ze(this._months)!==ze(x)?"-":"",z=ze(this._days)!==ze(x)?"-":"",xe=ze(this._milliseconds)!==ze(x)?"-":"",T+"P"+(d?P+d+"Y":"")+(r?P+r+"M":"")+(t?z+t+"D":"")+(i||s||e?"T":"")+(i?xe+i+"H":"")+(s?xe+s+"M":"")+(e?xe+h+"S":"")):"P0D"}var D=Et.prototype;D.isValid=va,D.abs=Xo,D.add=el,D.subtract=tl,D.as=sl,D.asMilliseconds=il,D.asSeconds=al,D.asMinutes=ol,D.asHours=ll,D.asDays=dl,D.asWeeks=cl,D.asMonths=ul,D.asQuarters=hl,D.asYears=fl,D.valueOf=nl,D._bubble=rl,D.clone=ml,D.get=pl,D.milliseconds=gl,D.seconds=yl,D.minutes=wl,D.hours=vl,D.days=_l,D.weeks=kl,D.months=Fl,D.years=xl,D.humanize=Ml,D.toISOString=Rt,D.toString=Rt,D.toJSON=Rt,D.locale=Ys,D.localeData=Ns,D.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rt),D.lang=Is,F("X",0,0,"unix"),F("x",0,0,"valueOf"),y("x",Ct),y("X",Kn),E("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}),E("x",function(e,t,r){r._d=new Date(S(e))});return n.version="2.29.4",a(I),n.fn=f,n.min=pa,n.max=ga,n.now=ya,n.utc=_,n.unix=Qo,n.months=zo,n.isDate=v,n.locale=Se,n.invalid=W,n.duration=oe,n.isMoment=ee,n.weekdays=Zo,n.parseZone=Go,n.localeData=we,n.isDuration=Pt,n.monthsShort=Ko,n.weekdaysMin=Jo,n.defineLocale=vr,n.updateLocale=Qi,n.locales=Gi,n.weekdaysShort=qo,n.normalizeUnits=ne,n.relativeTimeRounding=Sl,n.relativeTimeThreshold=Dl,n.calendarFormat=Ha,n.prototype=f,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Vl={};Nl(Vl,{default:()=>ar});module.exports=Wl(Vl);var bn=require("obsidian");var ke=require("obsidian");var Nr=Yr($t()),se=require("obsidian"),Ut={state:{source:!1,mode:"source"}},be=/\[\[(.+?)([|#].*?)?\]\] ?/;async function Ll(o,n){await o.workspace.getLeaf().openFile(n,Ut),o.commands.executeCommandById("file-explorer:reveal-active-file")}function O(o,n){let{app:a,settings:l}=o,c=n===void 0?a.workspace.getActiveFile():typeof n=="string"?a.vault.getFileByPath(n):n;return!c||!(c instanceof se.TFile)||c.extension!=="md"?"Not Markdown":c.name==="Template.md"?"Template":c.path.includes(o.backupDirName)?"Backup":c.path.startsWith(l.coding.folder+"/")?"Code File":c.path.startsWith(l.extraction.folder+"/")?"Extraction File":"Data File"}async function Ht(o,n,a,l){let{app:c,settings:u}=o;l=l||[];let m=["","```"+n,...l,"```",""];c.vault.getFolderByPath(u.analysis.folder)||c.vault.createFolder(u.analysis.folder);let g=(0,se.normalizePath)(u.analysis.folder+`/${a}.md`),v=c.vault.getFileByPath(g)||await c.vault.create(g,m.join(`
`));await Ll(c,v),K(c)?.setCursor({line:0,ch:0})}function K(o){let n=o.workspace.activeEditor?.editor;return n||new se.Notice("No active editor."),n}function Oe(o){if(o.getLine(o.getCursor().line).trim()===""&&!o.somethingSelected())return new se.Notice(`Current line is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let a=o.getCursor("head").line!==o.getCursor("anchor").line,l=o.listSelections().length>1;return a||l?(new se.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Ze(o){let n=o.getSelection().includes("==");return n&&new se.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`,4e3),n}var Rl=/[|^#]/;function Vt(o){let n=o.workspace.getActiveFile();if(!n)return!1;let a=n.basename.match(Rl)?.[0];if(!a)return!1;let l=`The current file contains an invalid character: ${a}

Rename the file and try again.`;return new se.Notice(l,0),!0}function Wr(){return(0,Nr.default)().format().slice(0,-5)}async function Bt(o,n,a,l){let c=o.app;l=(0,se.normalizePath)((l||n.parent?.path||"")+"/"+o.backupDirName),c.vault.getFolderByPath(l)||await c.vault.createFolder(l);let u=(0,Nr.default)().format("YY-MM-DD_HH-mm-ss");await c.vault.copy(n,`${l}/${n.basename} ${u}.md`),await c.vault.copy(a,`${l}/${a.basename} ${u}.md`)}function jt(o){let n=(0,se.getFrontMatterInfo)(o),a="merge-date: "+Wr(),l=o.slice(0,n.to);return l.includes(`
merge-date`)?l=l.replace(/^merge-date:.*$/m,a):l+=`
`+a,l+`
---

`+o.slice(n.contentStart)}function Qt(o){o.metadataTypeManager.setType("extraction-date","datetime"),o.metadataTypeManager.setType("merge-date","datetime"),o.metadataTypeManager.setType("extraction-source","multitext"),o.metadataTypeManager.setType("code description","text")}var Gt={"last used first":(o,n)=>n.stat.mtime-o.stat.mtime,"oldest used first":(o,n)=>o.stat.mtime-n.stat.mtime,"frequently used first":(o,n)=>n.stat.size-o.stat.size,"rarely used first":(o,n)=>o.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(o,n)=>o.basename.localeCompare(n.basename)},zs={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Ks={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},me={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:",",ignorePropertyOnMerge:[],displayProperty:[]},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Lr(o,n){return n.path.slice(o.settings.coding.folder.length+1,-3)}function Zs(o,n){return n?n.path===o.settings.coding.folder+"/Template.md":!1}function ft(o,n){let a=o.app.metadataCache.resolvedLinks[n.path]||{},l=0;for(let[c,u]of Object.entries(a))O(o,c)==="Data File"&&(l+=u);return l}function zt(o,n,a){let l=o.app;return(a.match(new RegExp(be,"g"))||[]).reduce((m,p)=>{let[g,v]=p.match(be)||[];if(!v)return m;let k=l.metadataCache.getFirstLinkpathDest(v,n.path);return k&&O(o,k)==="Code File"&&m.push({tFile:k,wikilink:p}),m},[])}function Kt(o){let n=o.app.vault.getMarkdownFiles().filter(l=>O(o,l)==="Code File"),a=Gt[o.settings.coding.sortFunc];return n.sort(a),n}function qe(o,n){let a=Lr(o,n);if(!o.settings.coding.displayCount)return a;let c=ft(o,n);return`${a} (${c}x)`}async function qs(o){let n=o.codeblockLabels.codeOverview;await Ht(o,n,"Code Overview")}function Js(o,n){let{app:a,settings:l}=o,c=[...n.children];c.sort((m,p)=>m instanceof ke.TFolder&&p instanceof ke.TFile?-1:m instanceof ke.TFile&&p instanceof ke.TFolder?1:m.name.localeCompare(p.name));let u="";for(let m of c)if(m instanceof ke.TFolder){let p=m;if(!p.children.some(k=>k instanceof ke.TFile&&k.extension==="md"))continue;let v=Js(o,p);u+=`<li>\u{1F4C1} ${p.name} ${v}</li>`}else if(m instanceof ke.TFile){let p=m,g=p.path===l.coding.folder+"/Template.md",v=p.extension!=="md";if(g||v)continue;let k=a.metadataCache.getFileCache(p)?.frontmatter?.["code description"],C=k?": "+k:"",_=`<a href="${p.path}" class="internal-link">${p.basename}</a>`,M=ft(o,p);u+=`<li>\u{1F4C4} ${_} (${M}x)${C}</li>`}return`<ul>${u}</ul>`}function Xs(o){let{app:n,settings:a}=o,l=n.vault.getFolderByPath(a.coding.folder);return l?Js(o,l):`\u26A0\uFE0F Code folder "${a.coding.folder}" not found.`}var Ur=require("obsidian");var en=Yr($t()),Rr=/\^[\w-]+$/,tn=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function Al(o){let[n]=o.match(Rr)||[];if(n){let l=o.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:l}}return{blockId:"^id-"+(0,en.default)().format("YYMMDD-HHmmss"),lineWithoutId:o.trim()}}function Je(o){let n=o.getCursor(),a=o.getLine(n.line),l=o.getSelection();if(l){let m=l.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");o.replaceSelection(m),a=o.getLine(n.line)}let{blockId:c,lineWithoutId:u}=Al(a);return{blockId:c,lineWithoutId:u}}function Xe(o,n,a,l,c){let u=o.editorComponent.view.file;if(!u)return;let m=o.editorComponent.app;m.vault.setConfig("useMarkdownLinks",!1);let p=m.fileManager.generateMarkdownLink(n,u.path,"",a),g=`${l} ${p} ${c}`,v=o.getCursor();o.setLine(v.line,g),o.setCursor(v)}var Zt=require("obsidian"),J=class extends Zt.FuzzySuggestModal{hotkeyInstructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.hotkeyInstructions),this.scope.register([],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Ne=class extends Zt.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){this.contentEl.empty()}};var Z=require("obsidian");var Jt=require("obsidian"),We=class extends Jt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,a){super(n.app,a),this.textInputEl=a,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(l=>l instanceof Jt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(a=>a.path.includes(n))}renderSuggestion(n,a){a.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function rn(o,n){return n.path.slice(o.settings.coding.folder.length+1)+"/"}var qt=class extends We{getSuggestions(n){if(!n.includes("/"))return[];let a=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),m=c.path.startsWith(a.coding.folder+"/"),p=!c.path.includes(this.plugin.backupDirName);return u&&m&&p})}renderSuggestion(n,a){let l=rn(this.plugin,n);a.createEl("span",{text:l})}selectSuggestion(n){this.textInputEl.value=rn(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var Ar=class extends Ne{fullCode="";codeDesc="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let a=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),l=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new Z.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new qt(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!a(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&a(this.fullCode)&&(u.preventDefault(),l())})}),new Z.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&a(this.fullCode)&&(u.preventDefault(),l())})}),new Z.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},$r=class extends Ne{input="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new Z.Setting(n).addTextArea(a=>{a.onChange(l=>{this.input=l.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new Z.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};async function sn(o,n,a){let{app:l,settings:c}=o;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,Z.normalizePath)(`${c.coding.folder}/${n}.md`);if(l.vault.getFileByPath(u))return new Z.Notice(`Code "${n}" already exists, Code File not created.`,0),!1;let p=n.split("/"),g=p.pop(),v=p.length>0?"/"+p.join("/"):"",k=c.coding.folder+v;l.vault.getFolderByPath(k)||await l.vault.createFolder(k);let _=`code description: "${a.replaceAll('"',"'")}"`,M=l.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(M){let W=/^code description: (.*)$/m,q=await l.vault.read(M),{exists:U,frontmatter:G}=(0,Z.getFrontMatterInfo)(q);U&&(G=G.match(W)?G.replace(W,_):_+`
`+G,w.push(...G.trim().split(`
`)))}else w.push(_);let $=["---",...w,"---","",""],V=await l.vault.create(`${k}/${g}.md`,$.join(`
`));return V?(new Z.Notice(`Created new code file: "${n}"`,3500),V):(new Z.Notice("Failed to create new code file.",0),!1)}function nn(o,n){new Ar(o,async(a,l)=>{let c=await sn(o,a,l);c&&n(c)}).open()}function an(o){new $r(o,async n=>{let a=0,l=[];for(let u of n.split(`
`))await sn(o,u,"")?a++:l.push(u);let c=`${a} file(s) created`;l.length>0&&(c+=`
Could not create: `+l.join(", ")),new Z.Notice(c,l.length>0?0:3e3)}).open()}var Hr=class extends J{editor;codesInPara;dataFile;constructor(n,a,l,c){super(n),this.editor=a,this.codesInPara=l,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([...this.hotkeyInstructions,{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(u.preventDefault(),this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...Kt(this.plugin).filter(l=>!this.codesInPara.find(c=>c.path===l.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":qe(this.plugin,n)}onChooseItem(n){n==="new-code-file"?nn(this.plugin,a=>this.assignCode(a,this.dataFile)):this.assignCode(n,this.dataFile)}async assignCode(n,a){let l=this.editor,c=Lr(this.plugin,n),{blockId:u,lineWithoutId:m}=Je(l);Xe(l,n,c,m,u);let p=`![[${a.path.slice(0,-3)}#${u}]]
`;await this.app.vault.append(n,p)}};function on(o){let{app:n}=o,a=K(n);if(!a||Oe(a))return;if(O(o)!=="Data File"){new Ur.Notice("You must be in a Data File to assign a code.",4e3);return}if(Ze(a)||Vt(n))return;let l=a.editorComponent.view.file;if(!l){new Ur.Notice("No file open.",4e3);return}let c=a.getLine(a.getCursor().line),u=zt(o,l,c).map(m=>m.tFile);new Hr(o,a,u,l).open()}var Vr=require("obsidian");async function ln(o){let n=o.app,a=K(n);if(!a)return;if(O(o)!=="Code File"){new Vr.Notice("Must be in a Code File to delete the code everywhere.",4e3);return}let l=a.editorComponent.view.file;if(!l){new Vr.Notice("No file open.",4e3);return}await n.vault.trash(l,!0)}var Ee=require("obsidian");function dn(o,n){let a=Object.keys(n).map(l=>$l(o,l,n[l]));return a.length===1?a[0]:function(){a.forEach(l=>l())}}function $l(o,n,a){let l=o[n],c=o.hasOwnProperty(n),u=c?l:function(){return Object.getPrototypeOf(o)[n].apply(this,arguments)},m=a(u);return l&&Object.setPrototypeOf(m,l),Object.setPrototypeOf(p,m),o[n]=p,g;function p(...v){return m===u&&o[n]===p&&g(),m.apply(this,v)}function g(){o[n]===p&&(c?o[n]=u:delete o[n]),m!==u&&(m=u,Object.setPrototypeOf(p,l||Function))}}var un=require("obsidian");var et=require("obsidian");async function cn(o,n){let a=o.app,l=[],c=0,u=O(o,n),m=a.metadataCache.getFileCache(n)?.embeds||[];for(let g of m){let[v,k]=g.link.split("#");if(!v||!k)continue;let C=a.metadataCache.getFirstLinkpathDest(v,n.path);if(!C||O(o,C)!=="Data File")continue;let M=await Br(a,n,C,k);M?l.push(M):c++}if(c===0&&l.length===0){let g=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new et.Notice(g,0);return}let p=`${u} "${n.name}" and ${c} references to it deleted.
`;if(l.length>0){let g=[p,`\u26A0\uFE0F ${l.length} references could not be deleted:`,"- "+l.join(`
- `)].join(`
`);new et.Notice(g,0)}else new et.Notice(p)}async function Br(o,n,a,l){let c=(await o.vault.read(a)).split(`
`),u=c.findIndex(v=>v.endsWith(l));if(u<0)return`Data File "${a.basename}", has no line with the ID "${l}".`;let m=c[u]||"",g=(m.match(new RegExp(be,"g"))||[]).find(v=>{v=v.trim().slice(2,-2);let k=o.metadataCache.getFirstLinkpathDest(v,a.path);return k instanceof et.TFile&&k.path===n.path});return g?(c[u]=m.replace(g,""),await o.vault.modify(a,c.join(`
`)),""):`Data File "${a.basename}", line "${l}" has no valid link to the "${n.name}".`}function tt(o){let n=o.app.vault;return dn(n,{trash:l=>async(c,u)=>{let m=O(o,c);if((m==="Code File"||m==="Extraction File")&&c instanceof un.TFile){let g=`Intercepted deletion of "${c.name}", deleting all references to the ${m} before proceeding with deletion.`;console.info(g),await cn(o,c)}await l.apply(n,[c,u])}})}var jr=class extends J{toBeMergedFile;permaNotice;constructor(n,a){super(n),this.setPlaceholder(`Select Code File to merge "${a.basename}" into`),this.toBeMergedFile=a;let l=["MERGING INFO","- Lists properties are fully merged.",`- For conflicting, non-list properties, the values from "${a.basename}" are take priority.`,`- A backup of the original files will be saved in the subfolder "${n.backupDirName}"`].join(`
`);this.permaNotice=new Ee.Notice(l,0)}onClose(){this.permaNotice.hide()}getItems(){let n=Kt(this.plugin).filter(a=>a.path!==this.toBeMergedFile.path);return n.length===0&&(new Ee.Notice("No other codes have been created yet.",4e3),this.close()),n}getItemText(n){return qe(this.plugin,n)}async onChooseItem(n){let{plugin:a,app:l,settings:c}=this,u=`## Codes from "${this.toBeMergedFile.basename}"`,m=await l.vault.cachedRead(this.toBeMergedFile),{contentStart:p}=(0,Ee.getFrontMatterInfo)(m),g=m.slice(p).trim(),v=[u,g].join(`
`);Bt(a,this.toBeMergedFile,n,c.coding.folder),a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,v,!1),a.trashWatcherUninstaller=tt(a);let k=n,C=jt(await l.vault.read(k));await l.vault.modify(k,C),new Ee.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3),l.workspace.activeEditor?.editor?.editorComponent?.view?.currentMode?.cleanupLivePreview()}};function hn(o){let n=K(o.app);if(!n)return;if(O(o)!=="Code File"){new Ee.Notice("You must be in a Code File for this.",3500);return}let a=n.editorComponent.view.file;if(!a){new Ee.Notice("No file open.",4e3);return}new jr(o,a).open()}var Qr=require("obsidian");function fn(o){O(o)!=="Code File"?new Qr.Notice("You must be in a Code File.",4e3):Zs(o,o.app.workspace.getActiveFile())?new Qr.Notice("You cannot rename the template file.",5e3):o.app.commands.executeCommandById("workspace:edit-file-title")}var le=require("obsidian");var Gr=class extends J{codesInParagraph;dataFile;editor;constructor(n,a,l,c){super(n),this.codesInParagraph=c,this.dataFile=l,this.editor=a,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return qe(this.plugin,n.tFile)}onChooseItem(n){mn(this.editor,this.dataFile,n)}};async function mn(o,n,a){let l=o.editorComponent.app,c=o.getCursor().line,u=o.getLine(c),m=u.replace(a.wikilink,"");o.setLine(c,m);let[p]=u.match(Rr)||[];if(!p){new le.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`,0);return}let g=(await l.vault.read(a.tFile)).split(`
`),v=g.findIndex(k=>{if(!k.includes(p))return!1;let C=k.match(new RegExp(be,"g"))||[];for(let _ of C){let[M,w]=_.match(be)||[];if(!w)continue;if(l.metadataCache.getFirstLinkpathDest(w,a.tFile.path)?.path===n.path)return!0}return!1});if(v<0){new le.Notice(`"Code File "${a.tFile.basename}" contains no reference to Data File "${n.basename}" with the ID "${p}". Reference in Code File is thus not deleted.`,0);return}g.splice(v,1),await l.vault.modify(a.tFile,g.join(`
`)),new le.Notice(`Assignment of code "${a.tFile.basename}" removed.`,3500)}async function Ul(o,n){let a=n.getLine(n.getCursor().line),[l,c,u]=a.match(tn)||[],m=n.editorComponent.view.file;if(!m){new le.Notice("No file open.",4e3);return}let p=o.metadataCache.getFirstLinkpathDest(c||"",m.path);if(!u||!c||!p){new le.Notice("Current line has no correct reference.",0);return}let g=await Br(o,m,p,u);if(g){new le.Notice(g+`

Aborting removal of Code.`,0);return}o.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new le.Notice(`Assignment of code "${m.basename}" removed.`,3500)}function pn(o){let n=o.app,a=K(n);if(!a||Oe(a))return;if(O(o)==="Code File"&&Ul(n,a),O(o)!=="Data File"){new le.Notice("You must be in a Data File or Code File to unassign a code.",4e3);return}let l=a.editorComponent.view.file;if(!l){new le.Notice("No file open.",4e3);return}let c=a.getLine(a.getCursor().line),u=zt(o,l,c);u.length===0?new le.Notice("Line does not contain any codes to remove.",3500):u.length===1?mn(a,l,u[0]):new Gr(o,a,l,u).open()}var gn=[{id:"assign-code",name:"Assign code to paragraph",func:on,hotkeyLetter:"a",icon:"plus-circle"},{id:"rename-code",name:"Rename code",func:fn,hotkeyLetter:"r",icon:"circle-slash"},{id:"unassign-code",name:"Remove code from paragraph",func:pn,hotkeyLetter:"d",icon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:ln,icon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:hn,icon:"circle-dot"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:an,icon:"circle-dashed"},{id:"code-overview-codeblock",name:"Show code overview",func:qs,icon:"circle-equal"}];var st=require("obsidian");var Ce=require("obsidian");async function mt(o,n){let{app:a,settings:l}=o,c=l.extraction.openingMode,u=a.workspace.getLeaf();if(c==="tab"){let m=u.parent;await a.workspace.createLeafInParent(m,m.children.length).openFile(n,Ut)}else{let m=c==="right-split"?"right":"bottom",p=c==="right-split"?"vertical":"horizontal",g=a.workspace.getAdjacentLeafInDirection(u,m)||a.workspace.createLeafBySplit(u,p,!1);await g.openFile(n,Ut),g.parent.setDimension(2)}}function Xt(o,n){o.vault.setConfig("propertiesInDocument","visible"),setTimeout(()=>{let a=o.workspace.getActiveViewOfType(Ce.MarkdownView)?.metadataEditor.rendered[0];if(!a)return;a[n==="key"?"focusKey":"focusValue"]()},350)}var rt=class extends J{extractionTypes;callback;constructor(n,a){super(n),this.extractionTypes=pt(n),this.callback=a,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes.sort((n,a)=>{let l=de(this.plugin,n).length;return de(this.plugin,a).length-l})}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return n.name;let l=de(this.plugin,n).length;return`${n.name} (${l}x)`}onChooseItem(n){this.callback(n)}};function er(o,n){let{app:a,settings:l}=o,c=a.metadataCache.getFileCache(n)?.frontmatter,u=l.extraction.displayProperty;if(!c||u.length===0)return n.basename;let m=c?.["extraction-source"]?.length||0,p=m>1?`${m}x`:"",g=u.find(_=>{let M=c[_];return Array.isArray(M)?M.length>0:M||M===0});if(!g)return n.basename;let v=c[g];Array.isArray(v)&&(v=v.join(", "));let k=v?`${g}: ${v}`:"";return[n.basename,p,k].filter(Boolean).join("  \u2B29  ")}function tr(o,n){let a=o.vault.getFileByPath(`${n.path}/Template.md`);if(!a){new Ce.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,0);return}let l=o.metadataCache.getFileCache(a)?.frontmatter;if(!l){new Ce.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,0);return}return l}function pt(o){let{app:n,settings:a}=o,l=n.vault.getFolderByPath(a.extraction.folder);if(!l){new Ce.Notice("ERROR: Could not find Extraction Folder.",0);return}let c=l.children.filter(u=>u instanceof Ce.TFolder&&u.children.find(m=>m.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new Ce.Notice(u,0);return}return c}function de(o,n){return n.children.filter(l=>O(o,l)==="Extraction File")}var zr=class extends J{editor;constructor(n,a){super(n),this.setPlaceholder("Add paragraph to following Extraction File:"),this.editor=a}getItems(){let n=this.settings.extraction.folder,a=this.app.vault.getMarkdownFiles().filter(l=>l.name!=="Template.md"&&l.path.startsWith(n+"/")).sort((l,c)=>c.stat.mtime-l.stat.mtime);return a.length===0&&(new st.Notice("No extractions have been created yet.",3e3),this.close()),a}getItemText(n){return er(this.plugin,n)}async onChooseItem(n){let{app:a,editor:l}=this,c=l.editorComponent.view.file;if(!c){new st.Notice("No file open.",4e3);return}let{blockId:u,lineWithoutId:m}=Je(l);if(l.getLine(l.getCursor().line).includes(`[[${n.basename}]]`)){new st.Notice(`The paragraph already references "${n.basename}". Aborting.`,0);return}let g=(await a.vault.read(n)).trim().split(`
`),v=`${c.path.slice(0,-3)}#${u}`,k=1+g.findIndex(_=>_.startsWith("extraction-source:"));if(k===0){let _=`Could not find "extraction-source:" property in the "${n.basename}". Aborting.`;new st.Notice(_,0);return}let C=k+g.slice(k).findIndex(_=>!_.startsWith("  - "));g.splice(C,0,`  - "[[${v}]]"`),g.push(`![[${v}]]`),g.push(""),await a.vault.modify(n,g.join(`
`)),Xe(l,n,n.basename,m,u)}};function yn(o){let n=K(o.app);if(!(!n||Oe(n)||Ze(n))){if(O(o)!=="Data File"){new st.Notice("You must be in a Data File to make an extraction.",4e3);return}new zr(o,n).open()}}var Le=require("obsidian");var Kr=class extends Ne{onSubmit;nameOfNewType="";constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let a=c=>c!=="",l=()=>{this.close(),this.onSubmit(this.nameOfNewType)};new Le.Setting(n).setName("Name of the new type").addText(c=>{c.onChange(u=>{this.nameOfNewType=u.trim(),this.confirmationButton?.setDisabled(!a(u))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&a(this.nameOfNewType)&&(u.preventDefault(),l())})}),new Le.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}};function wn(o){let{app:n,settings:a}=o;new Kr(o,async l=>{l=l.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Le.normalizePath)(a.extraction.folder+"/"+l);await n.vault.createFolder(c),new Le.Notice(`Creating New Template for Extraction Type "${l}"`,6e3);let m=await n.vault.create(c+"/Template.md",`---
dimension: 
---

`);await mt(o,m),n.commands.executeCommandById("file-explorer:reveal-active-file"),Xt(n,"key")}).open()}var _n=Yr($t()),Te=require("obsidian");var Hl="-";function vn(o,n){return o.map(l=>`"${l.replaceAll('"','""')}"`).join(n)}async function Fn(o){let{app:n,settings:a}=o,l=a.extraction.csvSeparator,c=pt(o);if(!c)return;let u;for(let m of c){let p=[],g=tr(n,m);if(!g){let U=`Export of Extraction Type "${m.name}" is skipped, as the Templade.md has no valid properties.`;new Te.Notice(U,0);continue}let v=["File",...Object.keys(g),"extraction-date","extraction-source"],k=vn(v,l);p.push(k);let C=m.children.filter(U=>U instanceof Te.TFile&&U.name!=="Template.md");for(let U of C){let G=n.metadataCache.getFileCache(U)?.frontmatter;if(!G)continue;let X=[];for(let Ae of v){if(Ae==="File"){X.push(U.basename);continue}let A=G[Ae]??Hl,$e=typeof A!="object"?A.toString():Array.isArray(A)?A.join("; "):JSON.stringify(A);Ae==="extraction-source"&&($e=$e.replace(/\[\[|\]\]/g,"")),X.push($e)}let ee=vn(X,l);p.push(ee)}let _=(0,Te.normalizePath)(a.analysis.folder+"/CSV Export");n.vault.getFolderByPath(_)||await n.vault.createFolder(_);let w=p.join(`
`),$=(0,_n.default)().format("YYYY-MM-DD_HH-mm-ss"),V=(0,Te.normalizePath)(`${_}/${m.name}_${$}.csv`),W=await n.vault.create(V,w),q=W?`Successfully exported "${m.name}".`:`ERROR: Export for "${m.name}" failed.`;new Te.Notice(q,W?5e3:0),!u&&W&&(u=W)}new Te.Notice("All CSV exports finished.",3500),u&&n.showInFolder(u.path)}var Re=require("obsidian");async function xn(o,n,a){let l=o.app;Qt(l);let c=a.name,u=a.path,m=n.editorComponent.view.file;if(!m){new Re.Notice("No file open.",4e3);return}let p=l.vault.getFileByPath(`${u}/Template.md`);if(!p){new Re.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${c}".`,0);return}let g=await l.vault.cachedRead(p),{exists:v,frontmatter:k}=(0,Re.getFrontMatterInfo)(g);if(!v){new Re.Notice(`The file "Template.md" in the folder "${u}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,0),mt(o,p);return}let C,_=de(o,a).length;for(;;){_++;let U=_.toString().padStart(3,"0");if(C=`${u}/${c} ${U}.md`,!l.vault.getFileByPath(C))break}let{blockId:M,lineWithoutId:w}=Je(n),$=`${m.path.slice(0,-3)}#${M}`,V=["---",...k.split(`
`),"extraction-date: "+Wr(),"extraction-source:",`  - "[[${$}]]"`,"---","","**Paragraph extracted from:**",`![[${$}]]`].join(`
`),W=await l.vault.create(C,V),q=W.basename;Xe(n,W,q,w,M),await mt(o,W),Xt(l,"value")}function kn(o){let{app:n}=o,a=K(n);if(!a||Oe(a))return;if(O(o)!=="Data File"){new Re.Notice("You must be in a Data File to make an extraction.",4e3);return}if(Ze(a)||Vt(n))return;let l=pt(o);l&&(l.length===1?xn(o,a,l[0]):new rt(o,c=>{xn(o,a,c)}).open())}var Cn=require("obsidian");function Tn(o){let n=o.codeblockLabels.extractionOverview;new rt(o,async a=>{let l="Extraction Overview \u2013 "+a.name,c=[`extraction-type: "${a.name}"`];await Ht(o,n,l,c)}).open()}function Sn(o,n){let a=o.app;a.internalPlugins.plugins["global-search"].enable();let l=(0,Cn.parseYaml)(n),c=l["extraction-type"],u=o.settings.extraction.folder+"/"+c,m=l.ignore||[],p=a.vault.getFolderByPath(u);if(!p)return`\u26A0\uFE0F Extraction Type "${c}" invalid.`;let g=tr(a,p);if(!g)return`\u26A0\uFE0F Invalid template or frontmatter for "${c}".`;let v=Object.keys(g),k=de(o,p);return v.map(_=>{let M=a.metadataTypeManager.getPropertyInfo(_)?.type||"",w=a.metadataCache.getFrontmatterPropertyValuesForKey(_);if(w.length===0)return`<b>${_}</b> <small>not used yet</small><br>`;if(M.startsWith("date")||m.includes(_))return`<b>${_}</b> <small>(type "${M}")</small><br>`;let $=w.reduce((V,W)=>{let q=0;for(let G of k){let X=a.metadataCache.getFileCache(G)?.frontmatter?.[_];(X===W||X?.includes(W))&&q++}if(q===0)return V;let U=`obsidian://search?query=["${_}":"${W}"] path:"${p.path}"`;return V.push(`<li><a href='${U}'>${W}</a> (${q}x)</li>`),V},[]);return`<b>${_}</b> <small><ul>${$.join("")}</ul></small>`}).join("")}var ce=require("obsidian");var Zr=class extends J{toBeMergedFile;toBeMergedFrontmatter;permaNotice;constructor(n,a){super(n),this.setPlaceholder(`Select Extraction File to merge "${a.basename}" into.`),this.toBeMergedFile=a,this.toBeMergedFrontmatter=this.app.metadataCache.getFileCache(a)?.frontmatter||{};let l=["MERGING INFO",`A backup of the original files will be saved in the subfolder "${n.backupDirName}"`].join(`
`);this.permaNotice=new ce.Notice(l,0)}onClose(){this.permaNotice.hide()}getItems(){let n=this.toBeMergedFile.parent,a=de(this.plugin,n).filter(l=>l.path!==this.toBeMergedFile.path).sort((l,c)=>c.stat.mtime-l.stat.mtime);return a.length===0&&(new ce.Notice("No other extractions have been created yet.",4e3),this.close()),a}getItemText(n){return er(this.plugin,n)}async onChooseItem(n){let{plugin:a,app:l,settings:c}=this,u={},m=l.metadataCache.getFileCache(n)?.frontmatter||{},p=[...c.extraction.ignorePropertyOnMerge,"extraction-date","merge-date"];for(let _ in this.toBeMergedFrontmatter){let M=m[_],w=this.toBeMergedFrontmatter[_],$=Array.isArray(M)&&Array.isArray(w),V=!M&&M!==0||!w&&w!==0,W=M===w,q=p.includes(_);$||V||W||q||(u[_]=M)}Bt(a,this.toBeMergedFile,n),a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,"",!1),a.trashWatcherUninstaller=tt(a);let g=n,v=(await l.vault.read(g)).replaceAll(`**Paragraph extracted from:**
`,"").replace(/\n{2,}/g,`
`);if(v=jt(v),Object.keys(u).length>0){let M=["","#### Properties that could be not be automatically merged",...(0,ce.stringifyYaml)(u).trim().split(`
`).map($=>"- "+$),"","---",""].join(`
`),w=(0,ce.getFrontMatterInfo)(v).contentStart;v=v.slice(0,w)+M+v.slice(w)}await l.vault.modify(g,v),new ce.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,5e3);let C=l.metadataCache.getFileCache(g)?.frontmatter?.["extraction-source"];if(C.length<2||!Array.isArray(C)){let _=`Extraction sources have not been been merged correctly.
Please check original files.`;new ce.Notice(_,0)}l.workspace.activeEditor?.editor?.editorComponent?.view?.currentMode?.cleanupLivePreview()}};function Dn(o){let n=K(o.app);if(!n)return;if(O(o)!=="Extraction File"){new ce.Notice("You must be in an Extraction File for this.",4e3);return}let a=n.editorComponent.view.file;if(!a){new ce.Notice("No file open.",4e3);return}new Zr(o,a).open()}var Mn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:kn,hotkeyLetter:"e",icon:"plus-square"},{id:"extract-existing-extraction-file",name:"Add paragraph as source to existing Extraction File",func:yn,hotkeyLetter:"l",icon:"square-asterisk"},{id:"merge-extractions",name:"Merge current Extraction File into another Extraction File",func:Dn,icon:"square-dot"},{id:"create-new-extraction-type",name:"Create new Extraction Type",func:wn,icon:"box-select"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:Fn,icon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Show extraction type overview",func:Tn,icon:"square-equal"}];function gt(o){let n=o.settings.suppressSuggestionInFields.map(l=>`[data-property-key="${l}"]`).join(", "),a=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!o.styleElSuppressSuggestionsInFields){let l=activeDocument.createElement("style");l.addClass(o.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),o.register(()=>l?.detach()),o.styleElSuppressSuggestionsInFields=l}o.styleElSuppressSuggestionsInFields.textContent=a,o.app.workspace.trigger("css-change")}function rr(o){let a=`body .metadata-property-key { min-width: ${o.settings.propertiesKeysWidthPercent}% }`;if(!o.styleElPropertyKeyWidth){let l=activeDocument.createElement("style");l.addClass(o.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),o.register(()=>l?.detach()),o.styleElPropertyKeyWidth=l}o.styleElPropertyKeyWidth.textContent=a,o.app.workspace.trigger("css-change")}function qr(o){return!!(o&&typeof o=="object"&&!Array.isArray(o))}function sr(o,...n){if(n.length===0)return o;let a=n.shift();if(qr(o)&&qr(a))for(let l in a)qr(a[l])?(o[l]||Object.assign(o,{[l]:{}}),sr(o[l],a[l])):Object.assign(o,{[l]:a[l]});return sr(o,...n)}var H=require("obsidian");function Jr(o){return(0,H.normalizePath)(o).replace(/:/g,"-")}var Xr={"min-height":"5rem","min-width":"15rem"};function es(o){return o.split(`
`).map(n=>n.trim()).filter(n=>n!=="")}var ts={"min-width":"15rem"},nr=class extends H.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,a=this.plugin.settings;n.empty(),n.addClass(this.plugin.cssclass),new H.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(l=>l.setPlaceholder("One property per line").setValue(a.suppressSuggestionInFields.join(`
`)).onChange(async c=>{a.suppressSuggestionInFields=es(c),await this.plugin.saveSettings(),gt(this.plugin)}).inputEl.setCssProps(Xr)),new H.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(l=>l.setLimits(20,60,5).setDynamicTooltip().setValue(a.propertiesKeysWidthPercent).onChange(async c=>{a.propertiesKeysWidthPercent=c,await this.plugin.saveSettings(),rr(this.plugin)})),n.createEl("h3",{text:"Coding"}),new H.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(l=>{new We(this.plugin,l.inputEl),l.setPlaceholder(me.coding.folder).setValue(a.coding.folder).onChange(async c=>{a.coding.folder=Jr(c)||me.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(ts)}),new H.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(l=>l.setValue(a.coding.displayCount).onChange(async c=>{a.coding.displayCount=c,await this.plugin.saveSettings()})),new H.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(l=>{for(let c in Gt)l.addOption(c,c);l.setValue(a.coding.sortFunc).onChange(async c=>{a.coding.sortFunc=c,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new H.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(l=>{new We(this.plugin,l.inputEl),l.setPlaceholder(me.extraction.folder).setValue(a.extraction.folder).onChange(async c=>{a.extraction.folder=Jr(c)||me.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(ts)}),new H.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(l=>l.setValue(a.extraction.displayCount).onChange(async c=>{a.extraction.displayCount=c,await this.plugin.saveSettings()})),new H.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(l=>{l.addOptions(Ks).setValue(a.extraction.openingMode).onChange(async c=>{a.extraction.openingMode=c,await this.plugin.saveSettings()})}),new H.Setting(n).setName("Ignore properties on merging").setDesc("List of properties, one per line, which should not trigger manual incongruence resolvement when merging Extraction Files. The properties are still added to the frontmatter, there merging just happens automatically without considering potential conflicts. This is intended for properties where it does not matter which value is chosen, such as IDs. ").addTextArea(l=>l.setPlaceholder("One property per line").setValue(a.extraction.ignorePropertyOnMerge.join(`
`)).onChange(async c=>{a.extraction.ignorePropertyOnMerge=es(c),await this.plugin.saveSettings(),gt(this.plugin)}).inputEl.setCssProps(Xr)),new H.Setting(n).setName("Display property when merging").setDesc("Property which should be displayed when selecting an Extraction File, for instance when merging Extraction Files. If a list of properties is specified, the first one that exists in the Extraction File is used. ").addTextArea(l=>l.setPlaceholder("One property per line, the first existing property is used.").setValue(a.extraction.displayProperty.join(`
`)).onChange(async c=>{a.extraction.displayProperty=es(c),await this.plugin.saveSettings()}).inputEl.setCssProps(Xr)),new H.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as .csv files.").addDropdown(l=>{l.addOptions(zs).setValue(a.extraction.csvSeparator).onChange(async c=>{a.extraction.csvSeparator=c,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new H.Setting(n).setName("Analysis folder").setDesc("Location where overviews and exports are placed.").addSearch(l=>{new We(this.plugin,l.inputEl),l.setPlaceholder(me.analysis.folder).setValue(a.analysis.folder).onChange(async c=>{a.analysis.folder=Jr(c)||me.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(ts)})}};function ir(o){let{app:n,statusbar:a,settings:l}=o,c=[],u=O(o),m=n.workspace.getActiveFile();if(!m||!["Data File","Code File","Extraction File"].includes(u)){a.setText("");return}if(u==="Code File"){let C=ft(o,m);c.push(`Code ${C}x assigned`)}else if(u==="Extraction File"){let k=m.parent;if(k){let C=de(o,k).length;c.push(`${C}x extracted`)}}else if(u==="Data File"){let k=n.metadataCache.resolvedLinks[m.path]||{},C=0,_=0;for(let[M,w]of Object.entries(k))M.startsWith(l.coding.folder+"/")&&(C+=w),M.startsWith(l.extraction.folder+"/")&&_++;C>0&&c.push(`${C} Codes`),_>0&&c.push(`${_} Extractions`)}let p=n.metadataCache.unresolvedLinks[m.path]||{},g=0;for(let[k,C]of Object.entries(p))g+=C;g>0&&c.push(`${g} invalid links`);let v=c.map(k=>k.startsWith("1")?k.slice(0,-1):k).join(", ");a.setText(v)}var ar=class extends bn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontype-overview",codeOverview:"quadro-code-overview"};backupDirName="pre-merge-backups";statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=me;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...gn,...Mn]){let a=this.addRibbonIcon(n.icon,`Quadro: ${n.name}`,()=>n.func(this));a.addClass(this.cssclass),a.setCssProps({border:"1px solid var(--text-faint)"});let l={id:n.id,name:n.name,icon:n.icon,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(l.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(l)}this.statusbar.addClass(this.cssclass),ir(this),this.registerEvent(this.app.workspace.on("file-open",()=>ir(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>ir(this))),this.trashWatcherUninstaller=tt(this),await this.loadSettings(),this.addSettingTab(new nr(this)),gt(this),rr(this),Qt(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,a)=>{a.innerHTML=Xs(this),a.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,a)=>{a.innerHTML=Sn(this,n),a.addClass(this.cssclass)}),window.CodeMirror.defineMode(this.codeblockLabels.extractionOverview,n=>window.CodeMirror.getMode(n,"yaml")),this.registerMarkdownCodeBlockProcessor("quadro-extractiontypes-overview",(n,a)=>{a.innerHTML='INFO: This overview is outdated. Please delete this file and re-run "Show extraction type overview".'})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),window.CodeMirror.defineMode(this.codeblockLabels.extractionOverview,n=>window.CodeMirror.getMode(n,"")),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=sr({},me,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
