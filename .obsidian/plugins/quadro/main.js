/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var pl=Object.create;var It=Object.defineProperty;var gl=Object.getOwnPropertyDescriptor;var yl=Object.getOwnPropertyNames;var wl=Object.getPrototypeOf,_l=Object.prototype.hasOwnProperty;var vl=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),xl=(o,n)=>{for(var a in n)It(o,a,{get:n[a],enumerable:!0})},Ns=(o,n,a,d)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of yl(n))!_l.call(o,c)&&c!==a&&It(o,c,{get:()=>n[c],enumerable:!(d=gl(n,c))||d.enumerable});return o};var Ws=(o,n,a)=>(a=o!=null?pl(wl(o)):{},Ns(n||!o||!o.__esModule?It(a,"default",{value:o,enumerable:!0}):a,o)),Fl=o=>Ns(It({},"__esModule",{value:!0}),o);var Mr=vl((Dr,Ke)=>{(function(o,n){typeof Dr=="object"&&typeof Ke<"u"?Ke.exports=n():typeof define=="function"&&define.amd?define(n):o.moment=n()})(Dr,function(){"use strict";var o;function n(){return o.apply(null,arguments)}function a(e){o=e}function d(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function h(e){return e===void 0}function x(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function y(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function F(e,t){var r=[],s,i=e.length;for(s=0;s<i;++s)r.push(t(e[s],s));return r}function T(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function S(e,t,r,s){return ms(e,t,r,s,!0).utc()}function P(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=P()),e._pf}var X;Array.prototype.some?X=Array.prototype.some:X=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function ie(e){if(e._isValid==null){var t=w(e),r=X.call(t.parsedDateParts,function(i){return i!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function ee(e){var t=S(NaN);return e!=null?T(w(t),e):w(t).userInvalidated=!0,t}var Se=n.momentProperties=[],R=!1;function fe(e,t){var r,s,i,l=Se.length;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=w(t)),h(t._locale)||(e._locale=t._locale),l>0)for(r=0;r<l;r++)s=Se[r],i=t[s],h(i)||(e[s]=i);return e}function te(e){fe(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R===!1&&(R=!0,n.updateOffset(this),R=!1)}function A(e){return e instanceof te||e!=null&&e._isAMomentObject!=null}function ke(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function N(e,t){var r=!0;return T(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),r){var s=[],i,l,f,v=arguments.length;for(l=0;l<v;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(f in arguments[0])u(arguments[0],f)&&(i+=f+": "+arguments[0][f]+", ");i=i.slice(0,-2)}else i=arguments[l];s.push(i)}ke(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Oe={};function Qr(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),Oe[e]||(ke(t),Oe[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function ae(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function gn(e){var t,r;for(r in e)u(e,r)&&(t=e[r],ae(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Xt(e,t){var r=T({},e),s;for(s in t)u(t,s)&&(c(e[s])&&c(t[s])?(r[s]={},T(r[s],e[s]),T(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)u(e,s)&&!u(t,s)&&c(e[s])&&(r[s]=T({},r[s]));return r}function er(e){e!=null&&this.set(e)}var tr;Object.keys?tr=Object.keys:tr=function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var yn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wn(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return ae(s)?s.call(t,r):s}function oe(e,t,r){var s=""+Math.abs(e),i=t-s.length,l=e>=0;return(l?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var rr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ct=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sr={},We={};function _(e,t,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&(We[e]=i),t&&(We[t[0]]=function(){return oe(i.apply(this,arguments),t[1],t[2])}),r&&(We[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function _n(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function vn(e){var t=e.match(rr),r,s;for(r=0,s=t.length;r<s;r++)We[t[r]]?t[r]=We[t[r]]:t[r]=_n(t[r]);return function(i){var l="",f;for(f=0;f<s;f++)l+=ae(t[f])?t[f].call(i,e):t[f];return l}}function ut(e,t){return e.isValid()?(t=Gr(t,e.localeData()),sr[t]=sr[t]||vn(t),sr[t](e)):e.localeData().invalidDate()}function Gr(e,t){var r=5;function s(i){return t.longDateFormat(i)||i}for(ct.lastIndex=0;r>=0&&ct.test(e);)e=e.replace(ct,s),ct.lastIndex=0,r-=1;return e}var xn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Fn(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(rr).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var Tn="Invalid date";function Sn(){return this._invalidDate}var kn="%d",Cn=/\d{1,2}/;function Dn(e){return this._ordinal.replace("%d",e)}var Mn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function bn(e,t,r,s){var i=this._relativeTime[r];return ae(i)?i(e,t,r,s):i.replace(/%d/i,e)}function On(e,t){var r=this._relativeTime[e>0?"future":"past"];return ae(r)?r(t):r.replace(/%s/i,t)}var Je={};function $(e,t){var r=e.toLowerCase();Je[r]=Je[r+"s"]=Je[t]=e}function Z(e){return typeof e=="string"?Je[e]||Je[e.toLowerCase()]:void 0}function nr(e){var t={},r,s;for(s in e)u(e,s)&&(r=Z(s),r&&(t[r]=e[s]));return t}var Br={};function H(e,t){Br[e]=t}function En(e){var t=[],r;for(r in e)u(e,r)&&t.push({unit:r,priority:Br[r]});return t.sort(function(s,i){return s.priority-i.priority}),t}function ft(e){return e%4===0&&e%100!==0||e%400===0}function q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=q(t)),r}function Re(e,t){return function(r){return r!=null?(zr(this,e,r),n.updateOffset(this,t),this):ht(this,e)}}function ht(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function zr(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&ft(e.year())&&e.month()===1&&e.date()===29?(r=C(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),vt(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function In(e){return e=Z(e),ae(this[e])?this[e]():this}function Yn(e,t){if(typeof e=="object"){e=nr(e);var r=En(e),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](e[r[s].unit])}else if(e=Z(e),ae(this[e]))return this[e](t);return this}var Kr=/\d/,z=/\d\d/,Zr=/\d{3}/,ir=/\d{4}/,mt=/[+-]?\d{6}/,E=/\d\d?/,qr=/\d\d\d\d?/,Jr=/\d\d\d\d\d\d?/,pt=/\d{1,3}/,ar=/\d{1,4}/,gt=/[+-]?\d{1,6}/,Ae=/\d+/,yt=/[+-]?\d+/,Pn=/Z|[+-]\d\d:?\d\d/gi,wt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ln=/[+-]?\d+(\.\d{1,3})?/,Xe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_t;_t={};function g(e,t,r){_t[e]=ae(t)?t:function(s,i){return s&&r?r:t}}function Nn(e,t){return u(_t,e)?_t[e](t._strict,t._locale):new RegExp(Wn(e))}function Wn(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,i,l){return r||s||i||l}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var or={};function b(e,t){var r,s=t,i;for(typeof e=="string"&&(e=[e]),x(t)&&(s=function(l,f){f[t]=C(l)}),i=e.length,r=0;r<i;r++)or[e[r]]=s}function et(e,t){b(e,function(r,s,i,l){i._w=i._w||{},t(r,i._w,i,l)})}function Rn(e,t,r){t!=null&&u(or,e)&&or[e](t,r._a,r,e)}var V=0,he=1,le=2,W=3,re=4,me=5,Ee=6,An=7,Un=8;function $n(e,t){return(e%t+t)%t}var L;Array.prototype.indexOf?L=Array.prototype.indexOf:L=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function vt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=$n(t,12);return e+=(t-r)/12,r===1?ft(e)?29:28:31-r%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),H("month",8),g("M",E),g("MM",E,z),g("MMM",function(e,t){return t.monthsShortRegex(e)}),g("MMMM",function(e,t){return t.monthsRegex(e)}),b(["M","MM"],function(e,t){t[he]=C(e)-1}),b(["MMM","MMMM"],function(e,t,r,s){var i=r._locale.monthsParse(e,s,r._strict);i!=null?t[he]=i:w(r).invalidMonth=e});var Hn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),es=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vn=Xe,jn=Xe;function Qn(e,t){return e?d(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||es).test(t)?"format":"standalone"][e.month()]:d(this._months)?this._months:this._months.standalone}function Gn(e,t){return e?d(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[es.test(t)?"format":"standalone"][e.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Bn(e,t,r){var s,i,l,f=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)l=S([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(l,"").toLocaleLowerCase();return r?t==="MMM"?(i=L.call(this._shortMonthsParse,f),i!==-1?i:null):(i=L.call(this._longMonthsParse,f),i!==-1?i:null):t==="MMM"?(i=L.call(this._shortMonthsParse,f),i!==-1?i:(i=L.call(this._longMonthsParse,f),i!==-1?i:null)):(i=L.call(this._longMonthsParse,f),i!==-1?i:(i=L.call(this._shortMonthsParse,f),i!==-1?i:null))}function zn(e,t,r){var s,i,l;if(this._monthsParseExact)return Bn.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=S([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(l.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function ts(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=C(t);else if(t=e.localeData().monthsParse(t),!x(t))return e}return r=Math.min(e.date(),vt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function rs(e){return e!=null?(ts(this,e),n.updateOffset(this,!0),this):ht(this,"Month")}function Kn(){return vt(this.year(),this.month())}function Zn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ss.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Vn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function qn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ss.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=jn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ss(){function e(f,v){return v.length-f.length}var t=[],r=[],s=[],i,l;for(i=0;i<12;i++)l=S([2e3,i]),t.push(this.monthsShort(l,"")),r.push(this.months(l,"")),s.push(this.months(l,"")),s.push(this.monthsShort(l,""));for(t.sort(e),r.sort(e),s.sort(e),i=0;i<12;i++)t[i]=K(t[i]),r[i]=K(r[i]);for(i=0;i<24;i++)s[i]=K(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?oe(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),$("year","y"),H("year",1),g("Y",yt),g("YY",E,z),g("YYYY",ar,ir),g("YYYYY",gt,mt),g("YYYYYY",gt,mt),b(["YYYYY","YYYYYY"],V),b("YYYY",function(e,t){t[V]=e.length===2?n.parseTwoDigitYear(e):C(e)}),b("YY",function(e,t){t[V]=n.parseTwoDigitYear(e)}),b("Y",function(e,t){t[V]=parseInt(e,10)});function tt(e){return ft(e)?366:365}n.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var ns=Re("FullYear",!0);function Jn(){return ft(this.year())}function Xn(e,t,r,s,i,l,f){var v;return e<100&&e>=0?(v=new Date(e+400,t,r,s,i,l,f),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,t,r,s,i,l,f),v}function rt(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,r){var s=7+t-r,i=(7+rt(e,0,s).getUTCDay()-t)%7;return-i+s-1}function is(e,t,r,s,i){var l=(7+r-s)%7,f=xt(e,s,i),v=1+7*(t-1)+l+f,k,O;return v<=0?(k=e-1,O=tt(k)+v):v>tt(e)?(k=e+1,O=v-tt(e)):(k=e,O=v),{year:k,dayOfYear:O}}function st(e,t,r){var s=xt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1,l,f;return i<1?(f=e.year()-1,l=i+pe(f,t,r)):i>pe(e.year(),t,r)?(l=i-pe(e.year(),t,r),f=e.year()+1):(f=e.year(),l=i),{week:l,year:f}}function pe(e,t,r){var s=xt(e,t,r),i=xt(e+1,t,r);return(tt(e)-s+i)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),H("week",5),H("isoWeek",5),g("w",E),g("ww",E,z),g("W",E),g("WW",E,z),et(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=C(e)});function ei(e){return st(e,this._week.dow,this._week.doy).week}var ti={dow:0,doy:6};function ri(){return this._week.dow}function si(){return this._week.doy}function ni(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ii(e){var t=st(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),g("d",E),g("e",E),g("E",E),g("dd",function(e,t){return t.weekdaysMinRegex(e)}),g("ddd",function(e,t){return t.weekdaysShortRegex(e)}),g("dddd",function(e,t){return t.weekdaysRegex(e)}),et(["dd","ddd","dddd"],function(e,t,r,s){var i=r._locale.weekdaysParse(e,s,r._strict);i!=null?t.d=i:w(r).invalidWeekday=e}),et(["d","e","E"],function(e,t,r,s){t[s]=C(e)});function ai(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function oi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function lr(e,t){return e.slice(t,7).concat(e.slice(0,t))}var li="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),as="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),di="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ci=Xe,ui=Xe,fi=Xe;function hi(e,t){var r=d(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?lr(r,this._week.dow):e?r[e.day()]:r}function mi(e){return e===!0?lr(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function pi(e){return e===!0?lr(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function gi(e,t,r){var s,i,l,f=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)l=S([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(l,"").toLocaleLowerCase();return r?t==="dddd"?(i=L.call(this._weekdaysParse,f),i!==-1?i:null):t==="ddd"?(i=L.call(this._shortWeekdaysParse,f),i!==-1?i:null):(i=L.call(this._minWeekdaysParse,f),i!==-1?i:null):t==="dddd"?(i=L.call(this._weekdaysParse,f),i!==-1||(i=L.call(this._shortWeekdaysParse,f),i!==-1)?i:(i=L.call(this._minWeekdaysParse,f),i!==-1?i:null)):t==="ddd"?(i=L.call(this._shortWeekdaysParse,f),i!==-1||(i=L.call(this._weekdaysParse,f),i!==-1)?i:(i=L.call(this._minWeekdaysParse,f),i!==-1?i:null)):(i=L.call(this._minWeekdaysParse,f),i!==-1||(i=L.call(this._weekdaysParse,f),i!==-1)?i:(i=L.call(this._shortWeekdaysParse,f),i!==-1?i:null))}function yi(e,t,r){var s,i,l;if(this._weekdaysParseExact)return gi.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=S([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(l.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function wi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ai(e,this.localeData()),this.add(e-t,"d")):t}function _i(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function vi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=oi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function xi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||dr.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=ci),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||dr.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ui),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ti(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||dr.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dr(){function e(j,ve){return ve.length-j.length}var t=[],r=[],s=[],i=[],l,f,v,k,O;for(l=0;l<7;l++)f=S([2e3,1]).day(l),v=K(this.weekdaysMin(f,"")),k=K(this.weekdaysShort(f,"")),O=K(this.weekdays(f,"")),t.push(v),r.push(k),s.push(O),i.push(v),i.push(k),i.push(O);t.sort(e),r.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function cr(){return this.hours()%12||12}function Si(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,cr),_("k",["kk",2],0,Si),_("hmm",0,0,function(){return""+cr.apply(this)+oe(this.minutes(),2)}),_("hmmss",0,0,function(){return""+cr.apply(this)+oe(this.minutes(),2)+oe(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+oe(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+oe(this.minutes(),2)+oe(this.seconds(),2)});function os(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}os("a",!0),os("A",!1),$("hour","h"),H("hour",13);function ls(e,t){return t._meridiemParse}g("a",ls),g("A",ls),g("H",E),g("h",E),g("k",E),g("HH",E,z),g("hh",E,z),g("kk",E,z),g("hmm",qr),g("hmmss",Jr),g("Hmm",qr),g("Hmmss",Jr),b(["H","HH"],W),b(["k","kk"],function(e,t,r){var s=C(e);t[W]=s===24?0:s}),b(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),b(["h","hh"],function(e,t,r){t[W]=C(e),w(r).bigHour=!0}),b("hmm",function(e,t,r){var s=e.length-2;t[W]=C(e.substr(0,s)),t[re]=C(e.substr(s)),w(r).bigHour=!0}),b("hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[W]=C(e.substr(0,s)),t[re]=C(e.substr(s,2)),t[me]=C(e.substr(i)),w(r).bigHour=!0}),b("Hmm",function(e,t,r){var s=e.length-2;t[W]=C(e.substr(0,s)),t[re]=C(e.substr(s))}),b("Hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[W]=C(e.substr(0,s)),t[re]=C(e.substr(s,2)),t[me]=C(e.substr(i))});function ki(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ci=/[ap]\.?m?\.?/i,Di=Re("Hours",!0);function Mi(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var ds={calendar:yn,longDateFormat:xn,invalidDate:Tn,ordinal:kn,dayOfMonthOrdinalParse:Cn,relativeTime:Mn,months:Hn,monthsShort:Xr,week:ti,weekdays:li,weekdaysMin:di,weekdaysShort:as,meridiemParse:Ci},Y={},nt={},it;function bi(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function cs(e){return e&&e.toLowerCase().replace("_","-")}function Oi(e){for(var t=0,r,s,i,l;t<e.length;){for(l=cs(e[t]).split("-"),r=l.length,s=cs(e[t+1]),s=s?s.split("-"):null;r>0;){if(i=Ft(l.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&bi(l,s)>=r-1)break;r--}t++}return it}function Ei(e){return e.match("^[^/\\\\]*$")!=null}function Ft(e){var t=null,r;if(Y[e]===void 0&&typeof Ke<"u"&&Ke&&Ke.exports&&Ei(e))try{t=it._abbr,r=require,r("./locale/"+e),Ce(t)}catch{Y[e]=null}return Y[e]}function Ce(e,t){var r;return e&&(h(t)?r=ge(e):r=ur(e,t),r?it=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),it._abbr}function ur(e,t){if(t!==null){var r,s=ds;if(t.abbr=e,Y[e]!=null)Qr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Y[e]._config;else if(t.parentLocale!=null)if(Y[t.parentLocale]!=null)s=Y[t.parentLocale]._config;else if(r=Ft(t.parentLocale),r!=null)s=r._config;else return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;return Y[e]=new er(Xt(s,t)),nt[e]&&nt[e].forEach(function(i){ur(i.name,i.config)}),Ce(e),Y[e]}else return delete Y[e],null}function Ii(e,t){if(t!=null){var r,s,i=ds;Y[e]!=null&&Y[e].parentLocale!=null?Y[e].set(Xt(Y[e]._config,t)):(s=Ft(e),s!=null&&(i=s._config),t=Xt(i,t),s==null&&(t.abbr=e),r=new er(t),r.parentLocale=Y[e],Y[e]=r),Ce(e)}else Y[e]!=null&&(Y[e].parentLocale!=null?(Y[e]=Y[e].parentLocale,e===Ce()&&Ce(e)):Y[e]!=null&&delete Y[e]);return Y[e]}function ge(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return it;if(!d(e)){if(t=Ft(e),t)return t;e=[e]}return Oi(e)}function Yi(){return tr(Y)}function fr(e){var t,r=e._a;return r&&w(e).overflow===-2&&(t=r[he]<0||r[he]>11?he:r[le]<1||r[le]>vt(r[V],r[he])?le:r[W]<0||r[W]>24||r[W]===24&&(r[re]!==0||r[me]!==0||r[Ee]!==0)?W:r[re]<0||r[re]>59?re:r[me]<0||r[me]>59?me:r[Ee]<0||r[Ee]>999?Ee:-1,w(e)._overflowDayOfYear&&(t<V||t>le)&&(t=le),w(e)._overflowWeeks&&t===-1&&(t=An),w(e)._overflowWeekday&&t===-1&&(t=Un),w(e).overflow=t),e}var Pi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ni=/Z|[+-]\d\d(?::?\d\d)?/,Tt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wi=/^\/?Date\((-?\d+)/i,Ri=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ai={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function us(e){var t,r,s=e._i,i=Pi.exec(s)||Li.exec(s),l,f,v,k,O=Tt.length,j=hr.length;if(i){for(w(e).iso=!0,t=0,r=O;t<r;t++)if(Tt[t][1].exec(i[1])){f=Tt[t][0],l=Tt[t][2]!==!1;break}if(f==null){e._isValid=!1;return}if(i[3]){for(t=0,r=j;t<r;t++)if(hr[t][1].exec(i[3])){v=(i[2]||" ")+hr[t][0];break}if(v==null){e._isValid=!1;return}}if(!l&&v!=null){e._isValid=!1;return}if(i[4])if(Ni.exec(i[4]))k="Z";else{e._isValid=!1;return}e._f=f+(v||"")+(k||""),pr(e)}else e._isValid=!1}function Ui(e,t,r,s,i,l){var f=[$i(e),Xr.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return l&&f.push(parseInt(l,10)),f}function $i(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Hi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vi(e,t,r){if(e){var s=as.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return w(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function ji(e,t,r){if(e)return Ai[e];if(t)return 0;var s=parseInt(r,10),i=s%100,l=(s-i)/100;return l*60+i}function fs(e){var t=Ri.exec(Hi(e._i)),r;if(t){if(r=Ui(t[4],t[3],t[2],t[5],t[6],t[7]),!Vi(t[1],r,e))return;e._a=r,e._tzm=ji(t[8],t[9],t[10]),e._d=rt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function Qi(e){var t=Wi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(us(e),e._isValid===!1)delete e._isValid;else return;if(fs(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=N("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ue(e,t,r){return e??t??r}function Gi(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function mr(e){var t,r,s=[],i,l,f;if(!e._d){for(i=Gi(e),e._w&&e._a[le]==null&&e._a[he]==null&&Bi(e),e._dayOfYear!=null&&(f=Ue(e._a[V],i[V]),(e._dayOfYear>tt(f)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),r=rt(f,0,e._dayOfYear),e._a[he]=r.getUTCMonth(),e._a[le]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[W]===24&&e._a[re]===0&&e._a[me]===0&&e._a[Ee]===0&&(e._nextDay=!0,e._a[W]=0),e._d=(e._useUTC?rt:Xn).apply(null,s),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[W]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==l&&(w(e).weekdayMismatch=!0)}}function Bi(e){var t,r,s,i,l,f,v,k,O;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(l=1,f=4,r=Ue(t.GG,e._a[V],st(I(),1,4).year),s=Ue(t.W,1),i=Ue(t.E,1),(i<1||i>7)&&(k=!0)):(l=e._locale._week.dow,f=e._locale._week.doy,O=st(I(),l,f),r=Ue(t.gg,e._a[V],O.year),s=Ue(t.w,O.week),t.d!=null?(i=t.d,(i<0||i>6)&&(k=!0)):t.e!=null?(i=t.e+l,(t.e<0||t.e>6)&&(k=!0)):i=l),s<1||s>pe(r,l,f)?w(e)._overflowWeeks=!0:k!=null?w(e)._overflowWeekday=!0:(v=is(r,s,i,l,f),e._a[V]=v.year,e._dayOfYear=v.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function pr(e){if(e._f===n.ISO_8601){us(e);return}if(e._f===n.RFC_2822){fs(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,r,s,i,l,f,v=t.length,k=0,O,j;for(i=Gr(e._f,e._locale).match(rr)||[],j=i.length,r=0;r<j;r++)l=i[r],s=(t.match(Nn(l,e))||[])[0],s&&(f=t.substr(0,t.indexOf(s)),f.length>0&&w(e).unusedInput.push(f),t=t.slice(t.indexOf(s)+s.length),k+=s.length),We[l]?(s?w(e).empty=!1:w(e).unusedTokens.push(l),Rn(l,s,e)):e._strict&&!s&&w(e).unusedTokens.push(l);w(e).charsLeftOver=v-k,t.length>0&&w(e).unusedInput.push(t),e._a[W]<=12&&w(e).bigHour===!0&&e._a[W]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[W]=zi(e._locale,e._a[W],e._meridiem),O=w(e).era,O!==null&&(e._a[V]=e._locale.erasConvertYear(O,e._a[V])),mr(e),fr(e)}function zi(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function Ki(e){var t,r,s,i,l,f,v=!1,k=e._f.length;if(k===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<k;i++)l=0,f=!1,t=fe({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],pr(t),ie(t)&&(f=!0),l+=w(t).charsLeftOver,l+=w(t).unusedTokens.length*10,w(t).score=l,v?l<s&&(s=l,r=t):(s==null||l<s||f)&&(s=l,r=t,f&&(v=!0));T(e,r||t)}function Zi(e){if(!e._d){var t=nr(e._i),r=t.day===void 0?t.date:t.day;e._a=F([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),mr(e)}}function qi(e){var t=new te(fr(hs(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function hs(e){var t=e._i,r=e._f;return e._locale=e._locale||ge(e._l),t===null||r===void 0&&t===""?ee({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),A(t)?new te(fr(t)):(y(t)?e._d=t:d(r)?Ki(e):r?pr(e):Ji(e),ie(e)||(e._d=null),e))}function Ji(e){var t=e._i;h(t)?e._d=new Date(n.now()):y(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Qi(e):d(t)?(e._a=F(t.slice(0),function(r){return parseInt(r,10)}),mr(e)):c(t)?Zi(e):x(t)?e._d=new Date(t):n.createFromInputFallback(e)}function ms(e,t,r,s,i){var l={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(c(e)&&m(e)||d(e)&&e.length===0)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=r,l._i=e,l._f=t,l._strict=s,qi(l)}function I(e,t,r,s){return ms(e,t,r,s,!1)}var Xi=N("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ee()}),ea=N("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ee()});function ps(e,t){var r,s;if(t.length===1&&d(t[0])&&(t=t[0]),!t.length)return I();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function ta(){var e=[].slice.call(arguments,0);return ps("isBefore",e)}function ra(){var e=[].slice.call(arguments,0);return ps("isAfter",e)}var sa=function(){return Date.now?Date.now():+new Date},at=["year","quarter","month","week","day","hour","minute","second","millisecond"];function na(e){var t,r=!1,s,i=at.length;for(t in e)if(u(e,t)&&!(L.call(at,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[at[s]]){if(r)return!1;parseFloat(e[at[s]])!==C(e[at[s]])&&(r=!0)}return!0}function ia(){return this._isValid}function aa(){return se(NaN)}function St(e){var t=nr(e),r=t.year||0,s=t.quarter||0,i=t.month||0,l=t.week||t.isoWeek||0,f=t.day||0,v=t.hour||0,k=t.minute||0,O=t.second||0,j=t.millisecond||0;this._isValid=na(t),this._milliseconds=+j+O*1e3+k*6e4+v*1e3*60*60,this._days=+f+l*7,this._months=+i+s*3+r*12,this._data={},this._locale=ge(),this._bubble()}function kt(e){return e instanceof St}function gr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function oa(e,t,r){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),l=0,f;for(f=0;f<s;f++)(r&&e[f]!==t[f]||!r&&C(e[f])!==C(t[f]))&&l++;return l+i}function gs(e,t){_(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+oe(~~(r/60),2)+t+oe(~~r%60,2)})}gs("Z",":"),gs("ZZ",""),g("Z",wt),g("ZZ",wt),b(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=yr(wt,e)});var la=/([\+\-]|\d\d)/gi;function yr(e,t){var r=(t||"").match(e),s,i,l;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(la)||["-",0,0],l=+(i[1]*60)+C(i[2]),l===0?0:i[0]==="+"?l:-l)}function wr(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(A(e)||y(e)?e.valueOf():I(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),n.updateOffset(r,!1),r):I(e).local()}function _r(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function da(e,t,r){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=yr(wt,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=_r(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?vs(this,se(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:_r(this)}function ca(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ua(e){return this.utcOffset(0,e)}function fa(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(_r(this),"m")),this}function ha(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=yr(Pn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ma(e){return this.isValid()?(e=e?I(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function pa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ga(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={},t;return fe(e,this),e=hs(e),e._a?(t=e._isUTC?S(e._a):I(e._a),this._isDSTShifted=this.isValid()&&oa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ya(){return this.isValid()?!this._isUTC:!1}function wa(){return this.isValid()?this._isUTC:!1}function ys(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _a=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,va=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function se(e,t){var r=e,s=null,i,l,f;return kt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:x(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=_a.exec(e))?(i=s[1]==="-"?-1:1,r={y:0,d:C(s[le])*i,h:C(s[W])*i,m:C(s[re])*i,s:C(s[me])*i,ms:C(gr(s[Ee]*1e3))*i}):(s=va.exec(e))?(i=s[1]==="-"?-1:1,r={y:Ie(s[2],i),M:Ie(s[3],i),w:Ie(s[4],i),d:Ie(s[5],i),h:Ie(s[6],i),m:Ie(s[7],i),s:Ie(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(f=xa(I(r.from),I(r.to)),r={},r.ms=f.milliseconds,r.M=f.months),l=new St(r),kt(e)&&u(e,"_locale")&&(l._locale=e._locale),kt(e)&&u(e,"_isValid")&&(l._isValid=e._isValid),l}se.fn=St.prototype,se.invalid=aa;function Ie(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function ws(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function xa(e,t){var r;return e.isValid()&&t.isValid()?(t=wr(t,e),e.isBefore(t)?r=ws(e,t):(r=ws(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function _s(e,t){return function(r,s){var i,l;return s!==null&&!isNaN(+s)&&(Qr(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=r,r=s,s=l),i=se(r,s),vs(this,i,e),this}}function vs(e,t,r,s){var i=t._milliseconds,l=gr(t._days),f=gr(t._months);e.isValid()&&(s=s??!0,f&&ts(e,ht(e,"Month")+f*r),l&&zr(e,"Date",ht(e,"Date")+l*r),i&&e._d.setTime(e._d.valueOf()+i*r),s&&n.updateOffset(e,l||f))}var Fa=_s(1,"add"),Ta=_s(-1,"subtract");function xs(e){return typeof e=="string"||e instanceof String}function Sa(e){return A(e)||y(e)||xs(e)||x(e)||Ca(e)||ka(e)||e===null||e===void 0}function ka(e){var t=c(e)&&!m(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,f=s.length;for(i=0;i<f;i+=1)l=s[i],r=r||u(e,l);return t&&r}function Ca(e){var t=d(e),r=!1;return t&&(r=e.filter(function(s){return!x(s)&&xs(e)}).length===0),t&&r}function Da(e){var t=c(e)&&!m(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<s.length;i+=1)l=s[i],r=r||u(e,l);return t&&r}function Ma(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function ba(e,t){arguments.length===1&&(arguments[0]?Sa(arguments[0])?(e=arguments[0],t=void 0):Da(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||I(),s=wr(r,this).startOf("day"),i=n.calendarFormat(this,s)||"sameElse",l=t&&(ae(t[i])?t[i].call(this,r):t[i]);return this.format(l||this.localeData().calendar(i,this,I(r)))}function Oa(){return new te(this)}function Ea(e,t){var r=A(e)?e:I(e);return this.isValid()&&r.isValid()?(t=Z(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ia(e,t){var r=A(e)?e:I(e);return this.isValid()&&r.isValid()?(t=Z(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Ya(e,t,r,s){var i=A(e)?e:I(e),l=A(t)?t:I(t);return this.isValid()&&i.isValid()&&l.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(l,r):!this.isAfter(l,r))):!1}function Pa(e,t){var r=A(e)?e:I(e),s;return this.isValid()&&r.isValid()?(t=Z(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function La(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Na(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Wa(e,t,r){var s,i,l;if(!this.isValid())return NaN;if(s=wr(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=Z(t),t){case"year":l=Ct(this,s)/12;break;case"month":l=Ct(this,s);break;case"quarter":l=Ct(this,s)/3;break;case"second":l=(this-s)/1e3;break;case"minute":l=(this-s)/6e4;break;case"hour":l=(this-s)/36e5;break;case"day":l=(this-s-i)/864e5;break;case"week":l=(this-s-i)/6048e5;break;default:l=this-s}return r?l:q(l)}function Ct(e,t){if(e.date()<t.date())return-Ct(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),i,l;return t-s<0?(i=e.clone().add(r-1,"months"),l=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),l=(t-s)/(i-s)),-(r+l)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ra(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Aa(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?ut(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ae(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ut(r,"Z")):ut(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ua(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,i,l;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=t+'[")]',this.format(r+s+i+l)}function $a(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=ut(this,e);return this.localeData().postformat(t)}function Ha(e,t){return this.isValid()&&(A(e)&&e.isValid()||I(e).isValid())?se({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Va(e){return this.from(I(),e)}function ja(e,t){return this.isValid()&&(A(e)&&e.isValid()||I(e).isValid())?se({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Qa(e){return this.to(I(),e)}function Fs(e){var t;return e===void 0?this._locale._abbr:(t=ge(e),t!=null&&(this._locale=t),this)}var Ts=N("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ss(){return this._locale}var Dt=1e3,$e=60*Dt,Mt=60*$e,ks=(365*400+97)*24*Mt;function He(e,t){return(e%t+t)%t}function Cs(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-ks:new Date(e,t,r).valueOf()}function Ds(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-ks:Date.UTC(e,t,r)}function Ga(e){var t,r;if(e=Z(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Ds:Cs,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=He(t+(this._isUTC?0:this.utcOffset()*$e),Mt);break;case"minute":t=this._d.valueOf(),t-=He(t,$e);break;case"second":t=this._d.valueOf(),t-=He(t,Dt);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ba(e){var t,r;if(e=Z(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Ds:Cs,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Mt-He(t+(this._isUTC?0:this.utcOffset()*$e),Mt)-1;break;case"minute":t=this._d.valueOf(),t+=$e-He(t,$e)-1;break;case"second":t=this._d.valueOf(),t+=Dt-He(t,Dt)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function za(){return this._d.valueOf()-(this._offset||0)*6e4}function Ka(){return Math.floor(this.valueOf()/1e3)}function Za(){return new Date(this.valueOf())}function qa(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ja(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Xa(){return this.isValid()?this.toISOString():null}function eo(){return ie(this)}function to(){return T({},w(this))}function ro(){return w(this).overflow}function so(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),g("N",vr),g("NN",vr),g("NNN",vr),g("NNNN",po),g("NNNNN",go),b(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var i=r._locale.erasParse(e,s,r._strict);i?w(r).era=i:w(r).invalidEra=e}),g("y",Ae),g("yy",Ae),g("yyy",Ae),g("yyyy",Ae),g("yo",yo),b(["y","yy","yyy","yyyy"],V),b(["yo"],function(e,t,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[V]=r._locale.eraYearOrdinalParse(e,i):t[V]=parseInt(e,10)});function no(e,t){var r,s,i,l=this._eras||ge("en")._eras;for(r=0,s=l.length;r<s;++r){switch(typeof l[r].since){case"string":i=n(l[r].since).startOf("day"),l[r].since=i.valueOf();break}switch(typeof l[r].until){case"undefined":l[r].until=1/0;break;case"string":i=n(l[r].until).startOf("day").valueOf(),l[r].until=i.valueOf();break}}return l}function io(e,t,r){var s,i,l=this.eras(),f,v,k;for(e=e.toUpperCase(),s=0,i=l.length;s<i;++s)if(f=l[s].name.toUpperCase(),v=l[s].abbr.toUpperCase(),k=l[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(v===e)return l[s];break;case"NNNN":if(f===e)return l[s];break;case"NNNNN":if(k===e)return l[s];break}else if([f,v,k].indexOf(e)>=0)return l[s]}function ao(e,t){var r=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function oo(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function lo(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function co(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function uo(){var e,t,r,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()}function fo(e){return u(this,"_erasNameRegex")||xr.call(this),e?this._erasNameRegex:this._erasRegex}function ho(e){return u(this,"_erasAbbrRegex")||xr.call(this),e?this._erasAbbrRegex:this._erasRegex}function mo(e){return u(this,"_erasNarrowRegex")||xr.call(this),e?this._erasNarrowRegex:this._erasRegex}function vr(e,t){return t.erasAbbrRegex(e)}function po(e,t){return t.erasNameRegex(e)}function go(e,t){return t.erasNarrowRegex(e)}function yo(e,t){return t._eraYearOrdinalRegex||Ae}function xr(){var e=[],t=[],r=[],s=[],i,l,f=this.eras();for(i=0,l=f.length;i<l;++i)t.push(K(f[i].name)),e.push(K(f[i].abbr)),r.push(K(f[i].narrow)),s.push(K(f[i].name)),s.push(K(f[i].abbr)),s.push(K(f[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function bt(e,t){_(0,[e,e.length],0,t)}bt("gggg","weekYear"),bt("ggggg","weekYear"),bt("GGGG","isoWeekYear"),bt("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),g("G",yt),g("g",yt),g("GG",E,z),g("gg",E,z),g("GGGG",ar,ir),g("gggg",ar,ir),g("GGGGG",gt,mt),g("ggggg",gt,mt),et(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=C(e)}),et(["gg","GG"],function(e,t,r,s){t[s]=n.parseTwoDigitYear(e)});function wo(e){return Ms.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _o(e){return Ms.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function vo(){return pe(this.year(),1,4)}function xo(){return pe(this.isoWeekYear(),1,4)}function Fo(){var e=this.localeData()._week;return pe(this.year(),e.dow,e.doy)}function To(){var e=this.localeData()._week;return pe(this.weekYear(),e.dow,e.doy)}function Ms(e,t,r,s,i){var l;return e==null?st(this,s,i).year:(l=pe(e,s,i),t>l&&(t=l),So.call(this,e,t,r,s,i))}function So(e,t,r,s,i){var l=is(e,t,r,s,i),f=rt(l.year,0,l.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}_("Q",0,"Qo","quarter"),$("quarter","Q"),H("quarter",7),g("Q",Kr),b("Q",function(e,t){t[he]=(C(e)-1)*3});function ko(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),$("date","D"),H("date",9),g("D",E),g("DD",E,z),g("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),b(["D","DD"],le),b("Do",function(e,t){t[le]=C(e.match(E)[0])});var bs=Re("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),H("dayOfYear",4),g("DDD",pt),g("DDDD",Zr),b(["DDD","DDDD"],function(e,t,r){r._dayOfYear=C(e)});function Co(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),$("minute","m"),H("minute",14),g("m",E),g("mm",E,z),b(["m","mm"],re);var Do=Re("Minutes",!1);_("s",["ss",2],0,"second"),$("second","s"),H("second",15),g("s",E),g("ss",E,z),b(["s","ss"],me);var Mo=Re("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("millisecond","ms"),H("millisecond",16),g("S",pt,Kr),g("SS",pt,z),g("SSS",pt,Zr);var De,Os;for(De="SSSS";De.length<=9;De+="S")g(De,Ae);function bo(e,t){t[Ee]=C(("0."+e)*1e3)}for(De="S";De.length<=9;De+="S")b(De,bo);Os=Re("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Oo(){return this._isUTC?"UTC":""}function Eo(){return this._isUTC?"Coordinated Universal Time":""}var p=te.prototype;p.add=Fa,p.calendar=ba,p.clone=Oa,p.diff=Wa,p.endOf=Ba,p.format=$a,p.from=Ha,p.fromNow=Va,p.to=ja,p.toNow=Qa,p.get=In,p.invalidAt=ro,p.isAfter=Ea,p.isBefore=Ia,p.isBetween=Ya,p.isSame=Pa,p.isSameOrAfter=La,p.isSameOrBefore=Na,p.isValid=eo,p.lang=Ts,p.locale=Fs,p.localeData=Ss,p.max=ea,p.min=Xi,p.parsingFlags=to,p.set=Yn,p.startOf=Ga,p.subtract=Ta,p.toArray=qa,p.toObject=Ja,p.toDate=Za,p.toISOString=Aa,p.inspect=Ua,typeof Symbol<"u"&&Symbol.for!=null&&(p[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),p.toJSON=Xa,p.toString=Ra,p.unix=Ka,p.valueOf=za,p.creationData=so,p.eraName=oo,p.eraNarrow=lo,p.eraAbbr=co,p.eraYear=uo,p.year=ns,p.isLeapYear=Jn,p.weekYear=wo,p.isoWeekYear=_o,p.quarter=p.quarters=ko,p.month=rs,p.daysInMonth=Kn,p.week=p.weeks=ni,p.isoWeek=p.isoWeeks=ii,p.weeksInYear=Fo,p.weeksInWeekYear=To,p.isoWeeksInYear=vo,p.isoWeeksInISOWeekYear=xo,p.date=bs,p.day=p.days=wi,p.weekday=_i,p.isoWeekday=vi,p.dayOfYear=Co,p.hour=p.hours=Di,p.minute=p.minutes=Do,p.second=p.seconds=Mo,p.millisecond=p.milliseconds=Os,p.utcOffset=da,p.utc=ua,p.local=fa,p.parseZone=ha,p.hasAlignedHourOffset=ma,p.isDST=pa,p.isLocal=ya,p.isUtcOffset=wa,p.isUtc=ys,p.isUTC=ys,p.zoneAbbr=Oo,p.zoneName=Eo,p.dates=N("dates accessor is deprecated. Use date instead.",bs),p.months=N("months accessor is deprecated. Use month instead",rs),p.years=N("years accessor is deprecated. Use year instead",ns),p.zone=N("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ca),p.isDSTShifted=N("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ga);function Io(e){return I(e*1e3)}function Yo(){return I.apply(null,arguments).parseZone()}function Es(e){return e}var M=er.prototype;M.calendar=wn,M.longDateFormat=Fn,M.invalidDate=Sn,M.ordinal=Dn,M.preparse=Es,M.postformat=Es,M.relativeTime=bn,M.pastFuture=On,M.set=gn,M.eras=no,M.erasParse=io,M.erasConvertYear=ao,M.erasAbbrRegex=ho,M.erasNameRegex=fo,M.erasNarrowRegex=mo,M.months=Qn,M.monthsShort=Gn,M.monthsParse=zn,M.monthsRegex=qn,M.monthsShortRegex=Zn,M.week=ei,M.firstDayOfYear=si,M.firstDayOfWeek=ri,M.weekdays=hi,M.weekdaysMin=pi,M.weekdaysShort=mi,M.weekdaysParse=yi,M.weekdaysRegex=xi,M.weekdaysShortRegex=Fi,M.weekdaysMinRegex=Ti,M.isPM=ki,M.meridiem=Mi;function Ot(e,t,r,s){var i=ge(),l=S().set(s,t);return i[r](l,e)}function Is(e,t,r){if(x(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ot(e,t,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Ot(e,s,r,"month");return i}function Fr(e,t,r,s){typeof e=="boolean"?(x(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,x(t)&&(r=t,t=void 0),t=t||"");var i=ge(),l=e?i._week.dow:0,f,v=[];if(r!=null)return Ot(t,(r+l)%7,s,"day");for(f=0;f<7;f++)v[f]=Ot(t,(f+l)%7,s,"day");return v}function Po(e,t){return Is(e,t,"months")}function Lo(e,t){return Is(e,t,"monthsShort")}function No(e,t,r){return Fr(e,t,r,"weekdays")}function Wo(e,t,r){return Fr(e,t,r,"weekdaysShort")}function Ro(e,t,r){return Fr(e,t,r,"weekdaysMin")}Ce("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=C(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}}),n.lang=N("moment.lang is deprecated. Use moment.locale instead.",Ce),n.langData=N("moment.langData is deprecated. Use moment.localeData instead.",ge);var ye=Math.abs;function Ao(){var e=this._data;return this._milliseconds=ye(this._milliseconds),this._days=ye(this._days),this._months=ye(this._months),e.milliseconds=ye(e.milliseconds),e.seconds=ye(e.seconds),e.minutes=ye(e.minutes),e.hours=ye(e.hours),e.months=ye(e.months),e.years=ye(e.years),this}function Ys(e,t,r,s){var i=se(t,r);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Uo(e,t){return Ys(this,e,t,1)}function $o(e,t){return Ys(this,e,t,-1)}function Ps(e){return e<0?Math.floor(e):Math.ceil(e)}function Ho(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,i,l,f,v,k;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Ps(Tr(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,i=q(e/1e3),s.seconds=i%60,l=q(i/60),s.minutes=l%60,f=q(l/60),s.hours=f%24,t+=q(f/24),k=q(Ls(t)),r+=k,t-=Ps(Tr(k)),v=q(r/12),r%=12,s.days=t,s.months=r,s.years=v,this}function Ls(e){return e*4800/146097}function Tr(e){return e*146097/4800}function Vo(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=Z(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+Ls(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Tr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function jo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+C(this._months/12)*31536e6:NaN}function we(e){return function(){return this.as(e)}}var Qo=we("ms"),Go=we("s"),Bo=we("m"),zo=we("h"),Ko=we("d"),Zo=we("w"),qo=we("M"),Jo=we("Q"),Xo=we("y");function el(){return se(this)}function tl(e){return e=Z(e),this.isValid()?this[e+"s"]():NaN}function Ye(e){return function(){return this.isValid()?this._data[e]:NaN}}var rl=Ye("milliseconds"),sl=Ye("seconds"),nl=Ye("minutes"),il=Ye("hours"),al=Ye("days"),ol=Ye("months"),ll=Ye("years");function dl(){return q(this.days()/7)}var _e=Math.round,Ve={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function cl(e,t,r,s,i){return i.relativeTime(t||1,!!r,e,s)}function ul(e,t,r,s){var i=se(e).abs(),l=_e(i.as("s")),f=_e(i.as("m")),v=_e(i.as("h")),k=_e(i.as("d")),O=_e(i.as("M")),j=_e(i.as("w")),ve=_e(i.as("y")),Me=l<=r.ss&&["s",l]||l<r.s&&["ss",l]||f<=1&&["m"]||f<r.m&&["mm",f]||v<=1&&["h"]||v<r.h&&["hh",v]||k<=1&&["d"]||k<r.d&&["dd",k];return r.w!=null&&(Me=Me||j<=1&&["w"]||j<r.w&&["ww",j]),Me=Me||O<=1&&["M"]||O<r.M&&["MM",O]||ve<=1&&["y"]||["yy",ve],Me[2]=t,Me[3]=+e>0,Me[4]=s,cl.apply(null,Me)}function fl(e){return e===void 0?_e:typeof e=="function"?(_e=e,!0):!1}function hl(e,t){return Ve[e]===void 0?!1:t===void 0?Ve[e]:(Ve[e]=t,e==="s"&&(Ve.ss=t-1),!0)}function ml(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=Ve,i,l;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},Ve,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),l=ul(this,!r,s,i),r&&(l=i.pastFuture(+this,l)),i.postformat(l)}var Sr=Math.abs;function je(e){return(e>0)-(e<0)||+e}function Et(){if(!this.isValid())return this.localeData().invalidDate();var e=Sr(this._milliseconds)/1e3,t=Sr(this._days),r=Sr(this._months),s,i,l,f,v=this.asSeconds(),k,O,j,ve;return v?(s=q(e/60),i=q(s/60),e%=60,s%=60,l=q(r/12),r%=12,f=e?e.toFixed(3).replace(/\.?0+$/,""):"",k=v<0?"-":"",O=je(this._months)!==je(v)?"-":"",j=je(this._days)!==je(v)?"-":"",ve=je(this._milliseconds)!==je(v)?"-":"",k+"P"+(l?O+l+"Y":"")+(r?O+r+"M":"")+(t?j+t+"D":"")+(i||s||e?"T":"")+(i?ve+i+"H":"")+(s?ve+s+"M":"")+(e?ve+f+"S":"")):"P0D"}var D=St.prototype;D.isValid=ia,D.abs=Ao,D.add=Uo,D.subtract=$o,D.as=Vo,D.asMilliseconds=Qo,D.asSeconds=Go,D.asMinutes=Bo,D.asHours=zo,D.asDays=Ko,D.asWeeks=Zo,D.asMonths=qo,D.asQuarters=Jo,D.asYears=Xo,D.valueOf=jo,D._bubble=Ho,D.clone=el,D.get=tl,D.milliseconds=rl,D.seconds=sl,D.minutes=nl,D.hours=il,D.days=al,D.weeks=dl,D.months=ol,D.years=ll,D.humanize=ml,D.toISOString=Et,D.toString=Et,D.toJSON=Et,D.locale=Fs,D.localeData=Ss,D.toIsoString=N("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Et),D.lang=Ts,_("X",0,0,"unix"),_("x",0,0,"valueOf"),g("x",yt),g("X",Ln),b("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}),b("x",function(e,t,r){r._d=new Date(C(e))});return n.version="2.29.4",a(I),n.fn=p,n.min=ta,n.max=ra,n.now=sa,n.utc=S,n.unix=Io,n.months=Po,n.isDate=y,n.locale=Ce,n.invalid=ee,n.duration=se,n.isMoment=A,n.weekdays=No,n.parseZone=Yo,n.localeData=ge,n.isDuration=kt,n.monthsShort=Lo,n.weekdaysMin=Ro,n.defineLocale=ur,n.updateLocale=Ii,n.locales=Yi,n.weekdaysShort=Wo,n.normalizeUnits=Z,n.relativeTimeRounding=fl,n.relativeTimeThreshold=hl,n.calendarFormat=Ma,n.prototype=p,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Ol={};xl(Ol,{default:()=>Jt});module.exports=Fl(Ol);var pn=require("obsidian");var xe=require("obsidian");var kr=require("obsidian");function U(o,n){let{app:a,settings:d}=o,c=n==="Codes"?d.coding.folder:d.extraction.folder,u=a.workspace.getActiveFile();return u?!!u.path.startsWith(c+"/"):!1}function B(o){let n=o.workspace.activeEditor?.editor;return n||new kr.Notice("No active editor."),n}function Yt(o,n){o.vault.setConfig("propertiesInDocument","visible");let a=`.workspace-leaf.mod-active .metadata-property:first-of-type .metadata-property-${n} :is([contenteditable='true'], input)`,d=activeDocument.querySelector(a);d instanceof HTMLElement&&Tl(d,0),d instanceof HTMLInputElement&&d.select()}function Tl(o,n){if(o instanceof HTMLInputElement){o.focus();let a=o.getAttribute("type")==="number";a&&o.setAttribute("type","text"),o.setSelectionRange(n,n),a&&o.setAttribute("type","number")}else{let a=activeDocument.createRange(),d=window.getSelection();a.setStart(o,n),a.collapse(!0),d?.removeAllRanges(),d?.addRange(a)}}var Cr={state:{source:!1,mode:"source"}};async function ot(o,n){let{app:a,settings:d}=o,c=d.extraction.openingMode==="right-split"?"right":"bottom",u=d.extraction.openingMode==="right-split"?"vertical":"horizontal",m=a.workspace.getLeaf();await(a.workspace.getAdjacentLeafInDirection(m,c)||a.workspace.createLeafBySplit(m,u,!1)).openFile(n,Cr)}function be(o){let n=o.getCursor("head").line!==o.getCursor("anchor").line,a=o.listSelections().length>1;return n||a?(new kr.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Pt(o){o.vault.setConfig("useMarkdownLinks",!1)}function Qe(o){o.metadataTypeManager.setType("extraction date","datetime"),o.metadataTypeManager.setType("extraction source","text"),o.metadataTypeManager.setType("code description","text")}var lt=require("obsidian");var Lt={"last used first":(o,n)=>n.stat.mtime-o.stat.mtime,"oldest used first":(o,n)=>o.stat.mtime-n.stat.mtime,"frequently used first":(o,n)=>n.stat.size-o.stat.size,"rarely used first":(o,n)=>o.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(o,n)=>o.basename.localeCompare(n.basename)},Rs={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},As={"right-split":"to the right","down-split":"to the bottom"},de={coding:{folder:"Codes",sortFunc:"last used first",minigraph:{enabled:!0,char:"\u{1FB0B}",charsPerBlock:100,maxLength:100}},extraction:{folder:"Extractions",csvSeparator:",",countForExtractionType:{enabled:!0},openingMode:"down-split"},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Be(o,n){let a=n.path.slice(o.settings.coding.folder.length+1);return n instanceof lt.TFolder?a:a.slice(0,-3)}function Nt(o,n){return n?n.path===o.settings.coding.folder+"/Template.md":!1}function Wt(o,n){let{app:a,settings:d}=o,c=a.metadataCache.resolvedLinks[n.path]||{},u=0;for(let[m,h]of Object.entries(c)){let x=m.startsWith(d.coding.folder+"/"),y=m.startsWith(d.extraction.folder+"/");m.endsWith(".md")&&!y&&!x&&(u+=h)}return u}var Ge=/\[\[(.+?)([|#].*?)?\]\] ?/;function Rt(o,n,a){let{app:d,settings:c}=o;return(a.match(new RegExp(Ge,"g"))||[]).reduce((h,x)=>{let[y,F]=x.match(Ge)||[];if(!F)return h;let T=d.metadataCache.getFirstLinkpathDest(F,n.path);return T instanceof lt.TFile&&T.path.startsWith(c.coding.folder+"/")&&h.push({tFile:T,wikilink:x}),h},[])}function At(o){let n=o.settings,d=o.app.vault.getMarkdownFiles().filter(c=>{let u=c.path.startsWith(n.coding.folder+"/"),m=c instanceof lt.TFile&&c.extension==="md",h=c.name!=="Template.md";return m&&h&&u});return d.sort(Lt[n.coding.sortFunc]),d}function ze(o,n){let a=Be(o,n),{char:d,charsPerBlock:c,maxLength:u,enabled:m}=o.settings.coding.minigraph,h=m?"    "+d.repeat(Math.min(u,n.stat.size/c)):"";return a+h}function Us(o,n){let{app:a,settings:d}=o,c=[...n.children];c.sort((m,h)=>m instanceof xe.TFolder&&h instanceof xe.TFile?-1:m instanceof xe.TFile&&h instanceof xe.TFolder?1:m.name.localeCompare(h.name));let u="";for(let m of c)if(m instanceof xe.TFolder){let h=m;if(!h.children.some(F=>F instanceof xe.TFile&&F.extension==="md"))continue;let y=Us(o,h);u+=`<li>\u{1F4C1} ${h.name} ${y}</li>`}else if(m instanceof xe.TFile){let h=m,x=h.path===d.coding.folder+"/Template.md",y=h.extension!=="md";if(x||y)continue;let F=a.metadataCache.getFileCache(h)?.frontmatter?.["code description"],T=F?": "+F:"",S=`<a href="${h.path}" class="internal-link">${h.basename}</a>`,P=Wt(o,h);u+=`<li>\u{1F4C4} ${S} (${P}x)${T}</li>`}return`<ul>${u}</ul>`}function $s(o){let n=B(o.app);if(!n)return;let a=["```quadro-code-overview","```",""].join(`
`);n?.replaceSelection(a)}function Hs(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.coding.folder);return d?Us(o,d):`\u26A0\uFE0F Code folder "${a.coding.folder}" not found.`}var Ir=require("obsidian");var Vs=Ws(Mr()),br=/\^[\w-]+$/,js=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function Ut(o){let[n]=o.match(br)||[];if(n){let d=o.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:d}}return{blockId:"^id-"+(0,Vs.default)().format("YYMMDD-HHmmss"),lineWithoutId:o.trim()}}var $t=require("obsidian"),J=class extends $t.FuzzySuggestModal{instructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.instructions),this.scope.register([],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Pe=class extends $t.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){let{contentEl:n}=this;n.empty()}};var Q=require("obsidian");var Vt=require("obsidian");var Le=class extends Vt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,a){super(n.app,a),this.textInputEl=a,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(d=>d instanceof Vt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(a=>a.path.includes(n))}renderSuggestion(n,a){a.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}},Ht=class extends Le{getSuggestions(n){if(!n.includes("/"))return[];let a=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),m=c.path.startsWith(a.coding.folder+"/");return u&&m})}renderSuggestion(n,a){let d=Be(this.plugin,n)+"/";a.createEl("span",{text:d})}selectSuggestion(n){this.textInputEl.value=Be(this.plugin,n)+"/",this.textInputEl.trigger("input"),this.close()}};var Or=class extends Pe{fullCode="";codeDesc="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new Q.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(a=>{new Ht(this.plugin,a.inputEl),a.onChange(d=>{this.fullCode=d.trim();let c=this.fullCode===""||this.fullCode.startsWith("/")||this.fullCode.endsWith("/");this.confirmationButton?.setDisabled(c)})}),new Q.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(a=>a.onChange(d=>{this.codeDesc=d.trim()})),new Q.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}},Er=class extends Pe{input="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new Q.Setting(n).setClass("quadro-bulk-code-creation").addTextArea(a=>a.onChange(d=>{this.input=d.trim(),this.confirmationButton?.setDisabled(this.input==="")})),new Q.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};async function Qs(o,n,a){let{app:d,settings:c}=o;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,Q.normalizePath)(`${c.coding.folder}/${n}.md`);if(d.vault.getFileByPath(u))return new Q.Notice(`Code "${n}" already exists, Code File not created.`),!1;let h=n.split("/"),x=h.pop(),y=h.length?"/"+h.join("/"):"",F=c.coding.folder+y;d.vault.getFolderByPath(F)||await d.vault.createFolder(F);let S=`code description: "${a.replaceAll('"',"'")}"`,P=d.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(P){let ee=await d.vault.read(P),{exists:Se,frontmatter:R}=(0,Q.getFrontMatterInfo)(ee);Se&&(R=R.match(/^code description:/m)?R.replace(/^code description:.*$/m,S):S+`
`+R,w.push(...R.trim().split(`
`)))}else w.push(S);let X=["---",...w,"---","",""],ie=await d.vault.create(`${F}/${x}.md`,X.join(`
`));return ie?(new Q.Notice(`Created new code file: "${n}"`),ie):(new Q.Notice("Failed to create new code file."),!1)}function Gs(o,n){new Or(o,async(a,d)=>{let c=await Qs(o,a,d);c&&n(c)}).open()}function Bs(o){new Er(o,async n=>{let a=0,d=[];for(let u of n.split(`
`))await Qs(o,u,"")?a++:d.push(u);let c=`${a} file(s) created`;d.length>0&&(c+=`
Could not create: `+d.join(", ")),new Q.Notice(c,(d.length+2)*1e3)}).open()}var Yr=class extends J{editor;codesInPara;dataFile;constructor(n,a,d,c){super(n),this.editor=a,this.codesInPara=d,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(this.close(),this.onChooseItem("new-code-file"))})}getItems(){let a=At(this.plugin).filter(d=>!this.codesInPara.find(u=>u.path===d.path));return a.push("new-code-file"),a}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":ze(this.plugin,n)}onChooseItem(n){n==="new-code-file"?Gs(this.plugin,a=>this.assignCode(this.app,a,this.dataFile)):this.assignCode(this.app,n,this.dataFile)}async assignCode(n,a,d){let c=this.editor.getCursor(),u=Be(this.plugin,a),m=this.editor.getLine(c.line),h=this.editor.getSelection();if(h){let w=h.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");this.editor.replaceSelection(w),m=this.editor.getLine(c.line)}let{blockId:x,lineWithoutId:y}=await Ut(m);Pt(n);let F=n.fileManager.generateMarkdownLink(a,d.path,"",u),T=`${y} ${F} ${x}`;this.editor.setLine(c.line,T),this.editor.setCursor(c);let P=`![[${d.path.slice(0,-3)}#${x}]]
`;await this.app.vault.append(a,P)}};function zs(o){let n=o.app,a=B(n);if(!a||be(a))return;if(U(o,"Codes")||U(o,"Extractions")){new Ir.Notice("You must be in a Data File to assign a code.",3e3);return}if(a.getSelection().includes("==")){new Ir.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`);return}let c=a.editorComponent.view.file,u=a.getLine(a.getCursor().line),m=Rt(o,c,u).map(h=>h.tFile);new Yr(o,a,m,c).open()}function Ks(o,n){let a=Object.keys(n).map(d=>Sl(o,d,n[d]));return a.length===1?a[0]:function(){a.forEach(d=>d())}}function Sl(o,n,a){let d=o[n],c=o.hasOwnProperty(n),u=c?d:function(){return Object.getPrototypeOf(o)[n].apply(this,arguments)},m=a(u);return d&&Object.setPrototypeOf(m,d),Object.setPrototypeOf(h,m),o[n]=h,x;function h(...y){return m===u&&o[n]===h&&x(),m.apply(this,y)}function x(){o[n]===h&&(c?o[n]=u:delete o[n]),m!==u&&(m=u,Object.setPrototypeOf(h,d||Function))}}var Ze=require("obsidian");var ce=require("obsidian");var Pr=class extends J{codesInParagraph;dataFile;editor;constructor(n,a,d,c){super(n),this.codesInParagraph=c,this.dataFile=d,this.editor=a,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return ze(this.plugin,n.tFile)}onChooseItem(n){Zs(this.editor,this.dataFile,n)}};async function Lr(o,n,a,d){let c=(await o.vault.read(a)).split(`
`),u=c.findIndex(y=>y.endsWith(d));if(u<0)return`Data File "${a.basename}", has no line with the ID "${d}".`;let m=c[u]||"",x=(m.match(new RegExp(Ge,"g"))||[]).find(y=>{y=y.trim().slice(2,-2);let F=o.metadataCache.getFirstLinkpathDest(y,a.path);return F instanceof ce.TFile&&F.path===n.path});return x?(c[u]=m.replace(x,""),await o.vault.modify(a,c.join(`
`)),""):`Data File "${a.basename}", line "${d}" has no valid link to the Code File.`}async function Zs(o,n,a){let d=o.editorComponent.app,c=o.getCursor().line,u=o.getLine(c),m=u.replace(a.wikilink,"");o.setLine(c,m);let[h]=u.match(br)||[];if(!h){new ce.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`);return}let x=(await d.vault.read(a.tFile)).split(`
`),y=x.findIndex(F=>{if(!F.includes(h))return!1;let T=F.match(new RegExp(Ge,"g"))||[];for(let S of T){let[P,w]=S.match(Ge)||[];if(!w)continue;if(d.metadataCache.getFirstLinkpathDest(w,a.tFile.path)?.path===n.path)return!0}return!1});if(y<0){new ce.Notice(`"Code File "${a.tFile.basename}" contains not reference to Data File "${n.basename}" with the ID "${h}". Reference in Code File is thus not deleted.`,7e3);return}x.splice(y,1),await d.vault.modify(a.tFile,x.join(`
`)),new ce.Notice(`Assignment of code "${a.tFile.basename}" removed.`)}async function kl(o,n){let a=n.getLine(n.getCursor().line),[d,c,u]=a.match(js)||[],m=n.editorComponent.view.file,h=o.metadataCache.getFirstLinkpathDest(c||"",m.path);if(!u||!c||!h){new ce.Notice("Current line has no correct reference.");return}let x=await Lr(o,m,h,u);if(x){new ce.Notice(x+`

Aborting removal of Code.`,4e3);return}o.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new ce.Notice(`Assignment of code "${m.basename}" removed.`)}function qs(o){let n=o.app,a=B(n);if(!(!a||be(a)))if(U(o,"Codes"))kl(n,a);else{let d=a.editorComponent.view.file,c=a.getLine(a.getCursor().line),u=Rt(o,d,c);u.length===0?new ce.Notice("Line does not contain any codes to remove."):u.length===1?Zs(a,d,u[0]):new Pr(o,a,d,u).open()}}function jt(o){let{app:n,settings:a}=o;return Ks(n.vault,{trash:c=>async(u,m)=>{u instanceof Ze.TFile&&u.path.startsWith(a.coding.folder+"/")&&u.path.endsWith(".md")&&(console.info(`"Intercepted deletion of "${u.name}", deleting all references to the Code File before proceeding with deletion.`),await Cl(n,u)),await c.apply(n.vault,[u,m])}})}async function Js(o){let n=o.app,a=B(n);if(!a)return;if(!U(o,"Codes")){new Ze.Notice("Must be in Code File to delete the code everywhere.");return}let d=a.editorComponent.view.file;await n.vault.trash(d,!0)}async function Cl(o,n){let d=(o.metadataCache.getFileCache(n)?.embeds||[]).map(h=>h.link).reduce((h,x)=>{let[y,F]=x.split("#");if(!y||!F)return h;let T=o.metadataCache.getFirstLinkpathDest(y,n.path);return T instanceof Ze.TFile&&h.push({dataFile:T,blockId:F}),h},[]),c=[];for(let{dataFile:h,blockId:x}of d){let y=await Lr(o,n,h,x);y&&c.push(y)}let u=d.length-c.length,m=`Code File "${n.basename}" and ${u} references to it deleted.
`;c.length>0&&(m+=`
\u26A0\uFE0F ${c.length} references could not be deleted:
- `+c.join(`
- `)),new Ze.Notice(m,(5+c.length)*1700)}var qe=require("obsidian");var Nr=class extends J{toBeMergedFile;constructor(n,a){super(n),this.toBeMergedFile=a,this.setPlaceholder(`Select Code File to merge "${a.basename}" into`)}getItems(){return At(this.plugin).filter(a=>a.path!==this.toBeMergedFile.path)}getItemText(n){return ze(this.plugin,n)}async onChooseItem(n){let a=this.plugin,d=await this.app.vault.cachedRead(this.toBeMergedFile),{contentStart:c}=(0,qe.getFrontMatterInfo)(d),u=d.slice(c).trim(),m=[`## Codes from "${this.toBeMergedFile.basename}"`,u].join(`
`);a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await this.app.fileManager.mergeFile(n,this.toBeMergedFile,m,!1),a.trashWatcherUninstaller=jt(a),new qe.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function Xs(o){let n=o.app,a=B(n);if(!a||be(a))return;if(!U(o,"Codes")){new qe.Notice("You must be in the Code File for this.",3e3);return}let d=a.editorComponent.view.file;if(Nt(o,d)){new qe.Notice("You cannot merge the Template File.",3e3);return}new Nr(o,d).open()}var Wr=require("obsidian");function en(o){U(o,"Codes")?Nt(o,o.app.workspace.getActiveFile())?new Wr.Notice("You must not rename the template file."):o.app.commands.executeCommandById("workspace:edit-file-title"):new Wr.Notice("You must be in a code file.")}var tn=[{id:"assign-code",name:"Assign code to paragraph",func:zs,hotkeyLetter:"a",ribbonIcon:"plus-circle"},{id:"rename-code",name:"Rename code",func:en,hotkeyLetter:"r",ribbonIcon:"circle-slash"},{id:"unassign-code",name:"Delete code from paragraph",func:qs,hotkeyLetter:"d",ribbonIcon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:Js,ribbonIcon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:Xs,ribbonIcon:"radius"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:Bs,ribbonIcon:"circle-dashed"},{id:"insert-code-overview-codeblock",name:"Insert overview of codes at cursor",func:$s,ribbonIcon:"circle-equal"}];var dt=require("obsidian");var Rr="yyyymmdd",Dl="8.15.12",rn={pluginVersion:Dl,model:{columns:[{id:"UUID",width:"WIDTH",content:"Source",sortDir:"default",isVisible:!1,type:"source",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Rr,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!1,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null},{id:"UUID",width:"WIDTH",content:"Extraction File",sortDir:"default",isVisible:!0,type:"source-file",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Rr,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"count-all",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null}],rows:[],filters:[{id:"UUID",columnId:"UUID",operator:"or",isEnabled:!0,type:"source-file",condition:"is-not",text:"Template"}],sources:[{id:"UUID",type:"folder",path:"PATH",includeSubfolders:!1}],settings:{numFrozenColumns:1,showCalculationRow:!1},externalRowOrder:[]}},sn={id:"UUID",type:"LOOM_TYPE",frontmatterKey:"DIMENSION",width:"WIDTH",sortDir:"default",isVisible:!0,numberPrefix:"",numberSuffix:"",numberSeparator:"",content:"",numberFormat:"number",currencyType:"USD",dateFormat:Rr,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset"};var Fe=require("obsidian");function Qt(o,n){let a=o.vault.getFileByPath(`${n.path}/Template.md`);if(!a){new Fe.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,5e3);return}let d=o.metadataCache.getFileCache(a)?.frontmatter;if(!d){new Fe.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,5e3);return}return d}function Gt(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.extraction.folder);if(!d){new Fe.Notice("ERROR: Could not find Extraction Folder.",4e3);return}let c=d.children.filter(u=>u instanceof Fe.TFolder);if(c.length===0){new Fe.Notice("ERROR: Could not find any Extraction Types.",4e3);return}return c}function Ne(o){return o.children.filter(a=>a instanceof Fe.TFile&&a.extension==="md"&&a.name!=="Template.md").length}function Ml(o,n){let a={text:"text",number:"number",checkbox:"checkbox",date:"date",datetime:"date",multitext:"multi-tag",aliases:"multi-tag",tags:"multi-tag"},d=o.metadataTypeManager.getPropertyInfo(n.toLowerCase())?.type;return a[d]||"text"}var Ar=class extends J{extractionTypes;constructor(n,a){super(n),this.settings=n.settings,this.extractionTypes=a,this.setPlaceholder("Select extraction type to create aggregation for")}getItems(){return this.extractionTypes}getItemText(n){let a=n.children.length-1;return`${n.name} (${a})`}async onChooseItem(n){Qe(this.app);let a=this.settings,d=Qt(this.app,n);if(!d)return;let c=[...Object.keys(d),"extraction source","extraction date"],u=structuredClone(rn);if(!u.model?.filters[0]||!u.model?.sources[0]||!u.model?.columns[0]||!u.model?.columns[1]){new dt.Notice("ERROR: Loom Template invalid.",4e3);return}u.model.sources[0].path=n.path,u.model.sources[0].id=crypto.randomUUID(),u.model.filters[0].id=crypto.randomUUID(),u.model.columns[0].id=crypto.randomUUID();let m=crypto.randomUUID();u.model.filters[0].columnId=m,u.model.columns[1].id=m,u.model.columns[1].width="150px";for(let T of c){let S=structuredClone(sn);S.id=crypto.randomUUID(),S.frontmatterKey=T,S.content=T,S.type=Ml(this.app,T),S.width=T==="extraction date"?"150px":"200px",u.model.columns.push(S)}let h=this.app.vault.getFolderByPath(a.analysis.folder);if(h||(h=await this.app.vault.createFolder(a.analysis.folder)),!h){new dt.Notice("ERROR: Could not create Analysis Folder.",4e3);return}let x=n.name,y;for(;y=`${a.analysis.folder}/${x} (Aggregation).loom`,!!this.app.vault.getFileByPath(y);)x+="_1";let F=await this.app.vault.create(y,JSON.stringify(u));await this.app.workspace.getLeaf().openFile(F,Cr),this.app.commands.executeCommandById("file-explorer:reveal-active-file")}};async function nn(o){let n=o.app;if(![...n.plugins.enabledPlugins].includes("notion-like-tables")){if(!Object.keys(n.plugins.plugins).includes("notion-like-tables")){new dt.Notice(`Plugin "DataLoom" not installed.

Please install it from the Obsidian Community Store.`,7e3);return}if(!await n.plugins.enablePluginAndSave("dataview")){new dt.Notice("ERROR: DataLoom plugin could not be enabled.",4e3);return}}let d=Gt(o);d&&new Ar(o,d).open()}var ne=require("obsidian");var Ur=class extends Pe{onSubmit;nameOfNewType="";constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),new ne.Setting(n).setName("Name of the new type").addText(a=>a.onChange(d=>{this.nameOfNewType=d.trim(),this.confirmationButton?.setDisabled(this.nameOfNewType==="")})),new ne.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.nameOfNewType)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};function $r(o){let{app:n,settings:a}=o;new Ur(o,async d=>{d=d.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,ne.normalizePath)(a.extraction.folder+"/"+d);if(!(await n.vault.createFolder(c)instanceof ne.TFolder)){new ne.Notice("ERROR: Could not create Extraction Type Folder.",3e3);return}Hr(o,d)}).open()}async function Hr(o,n){let{app:a,settings:d}=o;new ne.Notice(`Creating New Template for Extraction Type "${n}"`,6e3);let c=(0,ne.normalizePath)(`${d.extraction.folder}/${n}/Template.md`),u=`---
dimension: 
---

`,m=["> [!NOTE] ",'Due to a bug in DataLoom, properties of the type "List" must not have a space in them. You can work around that issue by using underscores or hyphens instead of a space.',"","See <https://github.com/trey-wallis/obsidian-dataloom/issues/932>"].join(`
`),h=await a.vault.create(c,u+m);await ot(o,h),a.commands.executeCommandById("file-explorer:reveal-active-file"),Yt(a,"key")}function an(o){$r(o)}var ln=Ws(Mr()),Te=require("obsidian");var bl="-";function on(o,n){return o.map(d=>`"${d.replaceAll('"','""')}"`).join(n)}async function dn(o){let{app:n,settings:a}=o,d=a.extraction.csvSeparator,c=Gt(o);if(!c)return;let u;for(let m of c){let h=[],x=Qt(n,m);if(!x){new Te.Notice(`Export of Extraction Type "${m.name}" is skipped.`,5e3);continue}let y=["File",...Object.keys(x),"extraction date","extraction source"],F=on(y,d);h.push(F);let T=m.children.filter(R=>R instanceof Te.TFile&&R.name!=="Template.md");for(let R of T){let fe=n.metadataCache.getFileCache(R)?.frontmatter;if(!fe)continue;let te=[];for(let ke of y){if(ke==="File"){te.push(R.basename);continue}let N=fe[ke]??bl,Oe=typeof N!="object"?N.toString():Array.isArray(N)?N.join("; "):JSON.stringify(N);ke==="extraction source"&&(Oe=Oe.slice(2,-2)),te.push(Oe)}let A=on(te,d);h.push(A)}let S=(0,Te.normalizePath)(a.analysis.folder+"/CSV Export");n.vault.getFolderByPath(S)||await n.vault.createFolder(S);let w=h.join(`
`),X=(0,ln.default)().format("YYYY-MM-DD_HH-mm-ss"),ie=(0,Te.normalizePath)(`${S}/${m.name}_${X}.csv`),ee=await n.vault.create(ie,w),Se=ee?`Successfully exported "${m.name}".`:`ERROR: Export for "${m.name}" failed.`;new Te.Notice(Se,5e3),!u&&ee&&(u=ee)}new Te.Notice("All CSV exports finished.",5e3),u&&n.showInFolder(u.path)}var ue=require("obsidian");var Vr=class extends J{extractionTypes;editor;dataFile;constructor(n,a,d,c){super(n),this.extractionTypes=d,this.editor=a,this.dataFile=c,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes}getItemText(n){let a=this.plugin.settings,d=n.children.find(m=>m instanceof ue.TFile&&m.name==="Template.md"),c=Ne(n),u=d?a.extraction.countForExtractionType.enabled?` (${c})`:"":'  [Select to create "Template.md"]';return n.name+u}onChooseItem(n){cn(this.plugin,this.editor,this.dataFile,n)}};async function cn(o,n,a,d){let c=o.app;Qe(c);let u=d.name,m=d.path,h=c.vault.getFileByPath(`${m}/Template.md`);if(!h){Hr(o,u);return}let x=await c.vault.cachedRead(h),{exists:y,frontmatter:F}=(0,ue.getFrontMatterInfo)(x);if(!y){new ue.Notice(`The file "Template.md" in the folder "${m}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,6e3),ot(o,h);return}let T,S=Ne(d);for(;S++,T=`${m}/${u} ${S}.md`,!!c.vault.getFileByPath(T););let P=n.getCursor(),w=n.getLine(P.line),{blockId:X,lineWithoutId:ie}=Ut(w),Se=`extraction date: ${new Date().toISOString().slice(0,-5)}`,R=`${a.path.slice(0,-3)}#${X}`,fe=`extraction source: "[[${R}]]"`,te=["---",...F.split(`
`),Se,fe,"---","",`**Paragraph extracted from:** ![[${R}]]`].join(`
`),A=await c.vault.create(T,te);Pt(c);let ke=c.fileManager.generateMarkdownLink(A,A.path,"",A.basename),N=`${ie} ${ke} ${X}`;n.setLine(P.line,N),n.setCursor(P),await ot(o,A),Yt(c,"value")}async function un(o){let{app:n,settings:a}=o,d=B(n);if(!d||be(d))return;if(U(o,"Codes")||U(o,"Extractions")){new ue.Notice("You must be in a Data File to make an extraction.",3e3);return}let c=n.vault.getFolderByPath(a.extraction.folder);if(c||(c=await n.vault.createFolder(a.extraction.folder)),!c){new ue.Notice("ERROR: Could not create Extraction Folder.",4e3);return}let u=c.children.filter(h=>h instanceof ue.TFolder),m=d.editorComponent.view.file;u.length===0?$r(o):u.length===1?cn(o,d,m,u[0]):new Vr(o,d,u,m).open()}var Bt=require("obsidian");function fn(o){let n=B(o.app);if(!n)return;let a=["```quadro-extractiontypes-overview","```",""].join(`
`);n?.replaceSelection(a)}function hn(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.extraction.folder);if(!d)return`\u26A0\uFE0F Extraction folder "${a.extraction.folder}" not found.`;let c=d.children.reduce((m,h)=>{if(!(h instanceof Bt.TFolder))return m;let x=(0,Bt.normalizePath)(h.path+"/Template.md"),y=n.vault.getFileByPath(x);return y&&m.push(y),m},[]);if(c.length===0)return"\u26A0\uFE0F No valid extraction templates found.";let u="";for(let m of c){let h=m.parent,x=n.metadataCache.getFileCache(m)?.frontmatter;if(!x){u+=`\u26A0\uFE0F Invalid properties in template file for "${h.name}".`;continue}let y=`<a href="${m.path}" class="internal-link">${h.name}</a>`,F=Object.keys(x).map(S=>{let P=n.metadataTypeManager.getPropertyInfo(S)?.type;P==="multitext"&&(P="list");let w=P?`: ${P}`:"";return`<li><b>${S}</b>${w}</li>`}),T=Ne(h);u+=`<b>${y}</b> (${T})<ul>${F.join("")}</ul><br>`}return u}var mn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:un,hotkeyLetter:"e",ribbonIcon:"plus-square"},{id:"create-new-extraction-type",name:"Create new extraction type",func:an,ribbonIcon:"box-select"},{id:"aggregate-extractions",name:"Aggregate extractions",func:nn,ribbonIcon:"sigma-square"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:dn,ribbonIcon:"arrow-up-square"},{id:"insert-extractiontypes-overview-codeblock",name:"Insert overview of extraction types at cursor",func:fn,ribbonIcon:"square-equal"}];function zt(o){let n=o.settings.suppressSuggestionInFields.map(d=>`[data-property-key="${d}"]`).join(", "),a=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!o.styleElSuppressSuggestionsInFields){let d=activeDocument.createElement("style");d.addClass(o.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),o.register(()=>d?.detach()),o.styleElSuppressSuggestionsInFields=d}o.styleElSuppressSuggestionsInFields.textContent=a,o.app.workspace.trigger("css-change")}function Kt(o){let a=`body .metadata-property-key { min-width: ${o.settings.propertiesKeysWidthPercent}% }`;if(!o.styleElPropertyKeyWidth){let d=activeDocument.createElement("style");d.addClass(o.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),o.register(()=>d?.detach()),o.styleElPropertyKeyWidth=d}o.styleElPropertyKeyWidth.textContent=a,o.app.workspace.trigger("css-change")}var G=require("obsidian");function jr(o){return(0,G.normalizePath)(o).replace(/:/g,"-")}var Zt=class extends G.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n,this.containerEl.addClass(n.cssclass)}display(){let{containerEl:n}=this;n.empty();let a=this.plugin.settings;new G.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(d=>d.setPlaceholder("One property per line").setValue(a.suppressSuggestionInFields.join(`
`)).onChange(async c=>{let u=c.split(`
`).map(m=>m.trim()).filter(m=>m!=="");a.suppressSuggestionInFields=u,await this.plugin.saveSettings(),zt(this.plugin)})).settingEl.addClass("quadro-property-list"),new G.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(d=>d.setLimits(20,60,5).setDynamicTooltip().setValue(a.propertiesKeysWidthPercent).onChange(async c=>{a.propertiesKeysWidthPercent=c,await this.plugin.saveSettings(),Kt(this.plugin)})),n.createEl("h3",{text:"Coding"}),new G.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(d=>{new Le(this.plugin,d.inputEl),d.setPlaceholder(de.coding.folder).setValue(a.coding.folder).onChange(async c=>{a.coding.folder=jr(c)||de.coding.folder,await this.plugin.saveSettings()})}),new G.Setting(n).setName("Bar chart").setDesc("When selecting a code to assign, display a small bar chart showing the frequency with which the code has been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(d=>d.setValue(a.coding.minigraph.enabled).onChange(async c=>{a.coding.minigraph.enabled=c,await this.plugin.saveSettings()})),new G.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(d=>{for(let c in Lt)d.addOption(c,c);d.setValue(a.coding.sortFunc).onChange(async c=>{a.coding.sortFunc=c,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new G.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(d=>{new Le(this.plugin,d.inputEl),d.setPlaceholder(de.extraction.folder).setValue(a.extraction.folder).onChange(async c=>{a.extraction.folder=jr(c)||de.extraction.folder,await this.plugin.saveSettings()})}),new G.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.").addToggle(d=>d.setValue(a.extraction.countForExtractionType.enabled).onChange(async c=>{a.extraction.countForExtractionType.enabled=c,await this.plugin.saveSettings()})),new G.Setting(n).setName("Location of Extraction Window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(d=>{d.addOptions(As).setValue(a.extraction.openingMode).onChange(async c=>{a.extraction.openingMode=c,await this.plugin.saveSettings()})}),new G.Setting(n).setName("CSV Separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(d=>{d.addOptions(Rs).setValue(a.extraction.csvSeparator).onChange(async c=>{a.extraction.csvSeparator=c,await this.plugin.saveSettings()})}),new G.Setting(n).setName("Analysis folder").setDesc("Location where aggregations and export files are stored.").addSearch(d=>{new Le(this.plugin,d.inputEl),d.setPlaceholder(de.analysis.folder).setValue(a.analysis.folder).onChange(async c=>{a.analysis.folder=jr(c)||de.analysis.folder,await this.plugin.saveSettings()})})}};function qt(o){let{app:n,statusbar:a,settings:d}=o,c=n.workspace.getActiveFile();if(!c){a.setText("");return}let u=[];if(U(o,"Codes")){let y=Wt(o,c);u.push(`Code ${y}x assigned`)}else if(U(o,"Extractions")){let y=c.parent;if(y){let F=Ne(y);u.push(`${F}x extracted`)}}else{let y=n.metadataCache.resolvedLinks[c.path]||{},F=0,T=0;for(let[S,P]of Object.entries(y))S.startsWith(d.coding.folder+"/")&&(F+=P),S.startsWith(d.extraction.folder+"/")&&T++;F>0&&u.push(`${F} Codes`),T>0&&u.push(`${T} Extractions`)}let m=n.metadataCache.unresolvedLinks[c.path]||{},h=0;for(let[y,F]of Object.entries(m))h+=F;h>0&&u.push(`${h} invalid links`);let x=u.map(y=>y.replace(/^(1 .*)s$/,"$1")).join(", ");a.setText(x)}var Jt=class extends pn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=de;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...tn,...mn]){this.addRibbonIcon(n.ribbonIcon,`Quadro: ${n.name}`,()=>n.func(this)).addClass(this.cssclass);let d={id:n.id,name:n.name,editorCallback:()=>n.func(this)};n.hotkeyLetter&&(d.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(d)}this.statusbar.addClass(this.cssclass),qt(this),this.registerEvent(this.app.workspace.on("file-open",()=>qt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>qt(this))),this.trashWatcherUninstaller=jt(this),await this.loadSettings(),this.addSettingTab(new Zt(this)),zt(this),Kt(this),Qe(this.app),this.registerMarkdownCodeBlockProcessor("quadro-code-overview",(n,a)=>{a.innerHTML=Hs(this),a.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor("quadro-extractiontypes-overview",(n,a)=>{a.innerHTML=hn(this),a.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},de,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
