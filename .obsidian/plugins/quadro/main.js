/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Tl=Object.create;var At=Object.defineProperty;var Cl=Object.getOwnPropertyDescriptor;var Sl=Object.getOwnPropertyNames;var kl=Object.getPrototypeOf,Dl=Object.prototype.hasOwnProperty;var Ml=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),bl=(a,n)=>{for(var o in n)At(a,o,{get:n[o],enumerable:!0})},Ws=(a,n,o,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of Sl(n))!Dl.call(a,c)&&c!==o&&At(a,c,{get:()=>n[c],enumerable:!(l=Cl(n,c))||l.enumerable});return a};var Rs=(a,n,o)=>(o=a!=null?Tl(kl(a)):{},Ws(n||!a||!a.__esModule?At(o,"default",{value:a,enumerable:!0}):o,a)),Ol=a=>Ws(At({},"__esModule",{value:!0}),a);var Or=Ml((br,Je)=>{(function(a,n){typeof br=="object"&&typeof Je<"u"?Je.exports=n():typeof define=="function"&&define.amd?define(n):a.moment=n()})(br,function(){"use strict";var a;function n(){return a.apply(null,arguments)}function o(e){a=e}function l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function m(e){return e===void 0}function y(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function _(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){var r=[],s,i=e.length;for(s=0;s<i;++s)r.push(t(e[s],s));return r}function T(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function C(e,t,r,s){return ps(e,t,r,s,!0).utc()}function Y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=Y()),e._pf}var W;Array.prototype.some?W=Array.prototype.some:W=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function j(e){if(e._isValid==null){var t=w(e),r=W.call(t.parsedDateParts,function(i){return i!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function Q(e){var t=C(NaN);return e!=null?T(w(t),e):w(t).userInvalidated=!0,t}var re=n.momentProperties=[],U=!1;function he(e,t){var r,s,i,d=re.length;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=w(t)),m(t._locale)||(e._locale=t._locale),d>0)for(r=0;r<d;r++)s=re[r],i=t[s],m(i)||(e[s]=i);return e}function oe(e){he(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U===!1&&(U=!0,n.updateOffset(this),U=!1)}function q(e){return e instanceof oe||e!=null&&e._isAMomentObject!=null}function Ae(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var r=!0;return T(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),r){var s=[],i,d,h,F=arguments.length;for(d=0;d<F;d++){if(i="",typeof arguments[d]=="object"){i+=`
[`+d+"] ";for(h in arguments[0])u(arguments[0],h)&&(i+=h+": "+arguments[0][h]+", ");i=i.slice(0,-2)}else i=arguments[d];s.push(i)}Ae(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Ue={};function Br(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),Ue[e]||(Ae(t),Ue[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function le(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Cn(e){var t,r;for(r in e)u(e,r)&&(t=e[r],le(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function tr(e,t){var r=T({},e),s;for(s in t)u(t,s)&&(c(e[s])&&c(t[s])?(r[s]={},T(r[s],e[s]),T(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)u(e,s)&&!u(t,s)&&c(e[s])&&(r[s]=T({},r[s]));return r}function rr(e){e!=null&&this.set(e)}var sr;Object.keys?sr=Object.keys:sr=function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var Sn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kn(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return le(s)?s.call(t,r):s}function de(e,t,r){var s=""+Math.abs(e),i=t-s.length,d=e>=0;return(d?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var nr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ir={},$e={};function v(e,t,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&($e[e]=i),t&&($e[t[0]]=function(){return de(i.apply(this,arguments),t[1],t[2])}),r&&($e[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Dn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Mn(e){var t=e.match(nr),r,s;for(r=0,s=t.length;r<s;r++)$e[t[r]]?t[r]=$e[t[r]]:t[r]=Dn(t[r]);return function(i){var d="",h;for(h=0;h<s;h++)d+=le(t[h])?t[h].call(i,e):t[h];return d}}function wt(e,t){return e.isValid()?(t=Gr(t,e.localeData()),ir[t]=ir[t]||Mn(t),ir[t](e)):e.localeData().invalidDate()}function Gr(e,t){var r=5;function s(i){return t.longDateFormat(i)||i}for(yt.lastIndex=0;r>=0&&yt.test(e);)e=e.replace(yt,s),yt.lastIndex=0,r-=1;return e}var bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function On(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(nr).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var En="Invalid date";function Pn(){return this._invalidDate}var In="%d",Yn=/\d{1,2}/;function Ln(e){return this._ordinal.replace("%d",e)}var Nn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Wn(e,t,r,s){var i=this._relativeTime[r];return le(i)?i(e,t,r,s):i.replace(/%d/i,e)}function Rn(e,t){var r=this._relativeTime[e>0?"future":"past"];return le(r)?r(t):r.replace(/%s/i,t)}var nt={};function $(e,t){var r=e.toLowerCase();nt[r]=nt[r+"s"]=nt[t]=e}function ee(e){return typeof e=="string"?nt[e]||nt[e.toLowerCase()]:void 0}function ar(e){var t={},r,s;for(s in e)u(e,s)&&(r=ee(s),r&&(t[r]=e[s]));return t}var zr={};function H(e,t){zr[e]=t}function An(e){var t=[],r;for(r in e)u(e,r)&&t.push({unit:r,priority:zr[r]});return t.sort(function(s,i){return s.priority-i.priority}),t}function _t(e){return e%4===0&&e%100!==0||e%400===0}function te(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function k(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=te(t)),r}function He(e,t){return function(r){return r!=null?(Kr(this,e,r),n.updateOffset(this,t),this):vt(this,e)}}function vt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Kr(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&_t(e.year())&&e.month()===1&&e.date()===29?(r=k(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Dt(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Un(e){return e=ee(e),le(this[e])?this[e]():this}function $n(e,t){if(typeof e=="object"){e=ar(e);var r=An(e),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](e[r[s].unit])}else if(e=ee(e),le(this[e]))return this[e](t);return this}var Zr=/\d/,J=/\d\d/,qr=/\d{3}/,or=/\d{4}/,Ft=/[+-]?\d{6}/,P=/\d\d?/,Jr=/\d\d\d\d?/,Xr=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,lr=/\d{1,4}/,Tt=/[+-]?\d{1,6}/,Ve=/\d+/,Ct=/[+-]?\d+/,Hn=/Z|[+-]\d\d:?\d\d/gi,St=/Z|[+-]\d\d(?::?\d\d)?/gi,Vn=/[+-]?\d+(\.\d{1,3})?/,it=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,kt;kt={};function g(e,t,r){kt[e]=le(t)?t:function(s,i){return s&&r?r:t}}function jn(e,t){return u(kt,e)?kt[e](t._strict,t._locale):new RegExp(Qn(e))}function Qn(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,i,d){return r||s||i||d}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dr={};function O(e,t){var r,s=t,i;for(typeof e=="string"&&(e=[e]),y(t)&&(s=function(d,h){h[t]=k(d)}),i=e.length,r=0;r<i;r++)dr[e[r]]=s}function at(e,t){O(e,function(r,s,i,d){i._w=i._w||{},t(r,i._w,i,d)})}function Bn(e,t,r){t!=null&&u(dr,e)&&dr[e](t,r._a,r,e)}var V=0,fe=1,ce=2,R=3,se=4,me=5,Ee=6,Gn=7,zn=8;function Kn(e,t){return(e%t+t)%t}var N;Array.prototype.indexOf?N=Array.prototype.indexOf:N=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Dt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Kn(t,12);return e+=(t-r)/12,r===1?_t(e)?29:28:31-r%7%2}v("M",["MM",2],"Mo",function(){return this.month()+1}),v("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),v("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),H("month",8),g("M",P),g("MM",P,J),g("MMM",function(e,t){return t.monthsShortRegex(e)}),g("MMMM",function(e,t){return t.monthsRegex(e)}),O(["M","MM"],function(e,t){t[fe]=k(e)-1}),O(["MMM","MMMM"],function(e,t,r,s){var i=r._locale.monthsParse(e,s,r._strict);i!=null?t[fe]=i:w(r).invalidMonth=e});var Zn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),es="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ts=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qn=it,Jn=it;function Xn(e,t){return e?l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ts).test(t)?"format":"standalone"][e.month()]:l(this._months)?this._months:this._months.standalone}function ei(e,t){return e?l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ts.test(t)?"format":"standalone"][e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ti(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)d=C([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(d,"").toLocaleLowerCase();return r?t==="MMM"?(i=N.call(this._shortMonthsParse,h),i!==-1?i:null):(i=N.call(this._longMonthsParse,h),i!==-1?i:null):t==="MMM"?(i=N.call(this._shortMonthsParse,h),i!==-1?i:(i=N.call(this._longMonthsParse,h),i!==-1?i:null)):(i=N.call(this._longMonthsParse,h),i!==-1?i:(i=N.call(this._shortMonthsParse,h),i!==-1?i:null))}function ri(e,t,r){var s,i,d;if(this._monthsParseExact)return ti.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=C([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(d="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function rs(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=k(t);else if(t=e.localeData().monthsParse(t),!y(t))return e}return r=Math.min(e.date(),Dt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function ss(e){return e!=null?(rs(this,e),n.updateOffset(this,!0),this):vt(this,"Month")}function si(){return Dt(this.year(),this.month())}function ni(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ns.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=qn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ii(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ns.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Jn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ns(){function e(h,F){return F.length-h.length}var t=[],r=[],s=[],i,d;for(i=0;i<12;i++)d=C([2e3,i]),t.push(this.monthsShort(d,"")),r.push(this.months(d,"")),s.push(this.months(d,"")),s.push(this.monthsShort(d,""));for(t.sort(e),r.sort(e),s.sort(e),i=0;i<12;i++)t[i]=X(t[i]),r[i]=X(r[i]);for(i=0;i<24;i++)s[i]=X(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}v("Y",0,0,function(){var e=this.year();return e<=9999?de(e,4):"+"+e}),v(0,["YY",2],0,function(){return this.year()%100}),v(0,["YYYY",4],0,"year"),v(0,["YYYYY",5],0,"year"),v(0,["YYYYYY",6,!0],0,"year"),$("year","y"),H("year",1),g("Y",Ct),g("YY",P,J),g("YYYY",lr,or),g("YYYYY",Tt,Ft),g("YYYYYY",Tt,Ft),O(["YYYYY","YYYYYY"],V),O("YYYY",function(e,t){t[V]=e.length===2?n.parseTwoDigitYear(e):k(e)}),O("YY",function(e,t){t[V]=n.parseTwoDigitYear(e)}),O("Y",function(e,t){t[V]=parseInt(e,10)});function ot(e){return _t(e)?366:365}n.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var is=He("FullYear",!0);function ai(){return _t(this.year())}function oi(e,t,r,s,i,d,h){var F;return e<100&&e>=0?(F=new Date(e+400,t,r,s,i,d,h),isFinite(F.getFullYear())&&F.setFullYear(e)):F=new Date(e,t,r,s,i,d,h),F}function lt(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mt(e,t,r){var s=7+t-r,i=(7+lt(e,0,s).getUTCDay()-t)%7;return-i+s-1}function as(e,t,r,s,i){var d=(7+r-s)%7,h=Mt(e,s,i),F=1+7*(t-1)+d+h,S,E;return F<=0?(S=e-1,E=ot(S)+F):F>ot(e)?(S=e+1,E=F-ot(e)):(S=e,E=F),{year:S,dayOfYear:E}}function dt(e,t,r){var s=Mt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1,d,h;return i<1?(h=e.year()-1,d=i+pe(h,t,r)):i>pe(e.year(),t,r)?(d=i-pe(e.year(),t,r),h=e.year()+1):(h=e.year(),d=i),{week:d,year:h}}function pe(e,t,r){var s=Mt(e,t,r),i=Mt(e+1,t,r);return(ot(e)-s+i)/7}v("w",["ww",2],"wo","week"),v("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),H("week",5),H("isoWeek",5),g("w",P),g("ww",P,J),g("W",P),g("WW",P,J),at(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=k(e)});function li(e){return dt(e,this._week.dow,this._week.doy).week}var di={dow:0,doy:6};function ci(){return this._week.dow}function ui(){return this._week.doy}function hi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function fi(e){var t=dt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}v("d",0,"do","day"),v("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),v("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),v("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),v("e",0,0,"weekday"),v("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),g("d",P),g("e",P),g("E",P),g("dd",function(e,t){return t.weekdaysMinRegex(e)}),g("ddd",function(e,t){return t.weekdaysShortRegex(e)}),g("dddd",function(e,t){return t.weekdaysRegex(e)}),at(["dd","ddd","dddd"],function(e,t,r,s){var i=r._locale.weekdaysParse(e,s,r._strict);i!=null?t.d=i:w(r).invalidWeekday=e}),at(["d","e","E"],function(e,t,r,s){t[s]=k(e)});function mi(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function pi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function cr(e,t){return e.slice(t,7).concat(e.slice(0,t))}var gi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),os="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wi=it,_i=it,vi=it;function Fi(e,t){var r=l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?cr(r,this._week.dow):e?r[e.day()]:r}function xi(e){return e===!0?cr(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ti(e){return e===!0?cr(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ci(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)d=C([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(d,"").toLocaleLowerCase();return r?t==="dddd"?(i=N.call(this._weekdaysParse,h),i!==-1?i:null):t==="ddd"?(i=N.call(this._shortWeekdaysParse,h),i!==-1?i:null):(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null):t==="dddd"?(i=N.call(this._weekdaysParse,h),i!==-1||(i=N.call(this._shortWeekdaysParse,h),i!==-1)?i:(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null)):t==="ddd"?(i=N.call(this._shortWeekdaysParse,h),i!==-1||(i=N.call(this._weekdaysParse,h),i!==-1)?i:(i=N.call(this._minWeekdaysParse,h),i!==-1?i:null)):(i=N.call(this._minWeekdaysParse,h),i!==-1||(i=N.call(this._weekdaysParse,h),i!==-1)?i:(i=N.call(this._shortWeekdaysParse,h),i!==-1?i:null))}function Si(e,t,r){var s,i,d;if(this._weekdaysParseExact)return Ci.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=C([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(d="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function ki(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=mi(e,this.localeData()),this.add(e-t,"d")):t}function Di(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Mi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=pi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function bi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ur.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=wi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ur.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_i),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ei(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ur.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ur(){function e(B,ve){return ve.length-B.length}var t=[],r=[],s=[],i=[],d,h,F,S,E;for(d=0;d<7;d++)h=C([2e3,1]).day(d),F=X(this.weekdaysMin(h,"")),S=X(this.weekdaysShort(h,"")),E=X(this.weekdays(h,"")),t.push(F),r.push(S),s.push(E),i.push(F),i.push(S),i.push(E);t.sort(e),r.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hr(){return this.hours()%12||12}function Pi(){return this.hours()||24}v("H",["HH",2],0,"hour"),v("h",["hh",2],0,hr),v("k",["kk",2],0,Pi),v("hmm",0,0,function(){return""+hr.apply(this)+de(this.minutes(),2)}),v("hmmss",0,0,function(){return""+hr.apply(this)+de(this.minutes(),2)+de(this.seconds(),2)}),v("Hmm",0,0,function(){return""+this.hours()+de(this.minutes(),2)}),v("Hmmss",0,0,function(){return""+this.hours()+de(this.minutes(),2)+de(this.seconds(),2)});function ls(e,t){v(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ls("a",!0),ls("A",!1),$("hour","h"),H("hour",13);function ds(e,t){return t._meridiemParse}g("a",ds),g("A",ds),g("H",P),g("h",P),g("k",P),g("HH",P,J),g("hh",P,J),g("kk",P,J),g("hmm",Jr),g("hmmss",Xr),g("Hmm",Jr),g("Hmmss",Xr),O(["H","HH"],R),O(["k","kk"],function(e,t,r){var s=k(e);t[R]=s===24?0:s}),O(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),O(["h","hh"],function(e,t,r){t[R]=k(e),w(r).bigHour=!0}),O("hmm",function(e,t,r){var s=e.length-2;t[R]=k(e.substr(0,s)),t[se]=k(e.substr(s)),w(r).bigHour=!0}),O("hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[R]=k(e.substr(0,s)),t[se]=k(e.substr(s,2)),t[me]=k(e.substr(i)),w(r).bigHour=!0}),O("Hmm",function(e,t,r){var s=e.length-2;t[R]=k(e.substr(0,s)),t[se]=k(e.substr(s))}),O("Hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[R]=k(e.substr(0,s)),t[se]=k(e.substr(s,2)),t[me]=k(e.substr(i))});function Ii(e){return(e+"").toLowerCase().charAt(0)==="p"}var Yi=/[ap]\.?m?\.?/i,Li=He("Hours",!0);function Ni(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var cs={calendar:Sn,longDateFormat:bn,invalidDate:En,ordinal:In,dayOfMonthOrdinalParse:Yn,relativeTime:Nn,months:Zn,monthsShort:es,week:di,weekdays:gi,weekdaysMin:yi,weekdaysShort:os,meridiemParse:Yi},L={},ct={},ut;function Wi(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function us(e){return e&&e.toLowerCase().replace("_","-")}function Ri(e){for(var t=0,r,s,i,d;t<e.length;){for(d=us(e[t]).split("-"),r=d.length,s=us(e[t+1]),s=s?s.split("-"):null;r>0;){if(i=bt(d.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&Wi(d,s)>=r-1)break;r--}t++}return ut}function Ai(e){return e.match("^[^/\\\\]*$")!=null}function bt(e){var t=null,r;if(L[e]===void 0&&typeof Je<"u"&&Je&&Je.exports&&Ai(e))try{t=ut._abbr,r=require,r("./locale/"+e),Se(t)}catch{L[e]=null}return L[e]}function Se(e,t){var r;return e&&(m(t)?r=ge(e):r=fr(e,t),r?ut=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ut._abbr}function fr(e,t){if(t!==null){var r,s=cs;if(t.abbr=e,L[e]!=null)Br("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=L[e]._config;else if(t.parentLocale!=null)if(L[t.parentLocale]!=null)s=L[t.parentLocale]._config;else if(r=bt(t.parentLocale),r!=null)s=r._config;else return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;return L[e]=new rr(tr(s,t)),ct[e]&&ct[e].forEach(function(i){fr(i.name,i.config)}),Se(e),L[e]}else return delete L[e],null}function Ui(e,t){if(t!=null){var r,s,i=cs;L[e]!=null&&L[e].parentLocale!=null?L[e].set(tr(L[e]._config,t)):(s=bt(e),s!=null&&(i=s._config),t=tr(i,t),s==null&&(t.abbr=e),r=new rr(t),r.parentLocale=L[e],L[e]=r),Se(e)}else L[e]!=null&&(L[e].parentLocale!=null?(L[e]=L[e].parentLocale,e===Se()&&Se(e)):L[e]!=null&&delete L[e]);return L[e]}function ge(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ut;if(!l(e)){if(t=bt(e),t)return t;e=[e]}return Ri(e)}function $i(){return sr(L)}function mr(e){var t,r=e._a;return r&&w(e).overflow===-2&&(t=r[fe]<0||r[fe]>11?fe:r[ce]<1||r[ce]>Dt(r[V],r[fe])?ce:r[R]<0||r[R]>24||r[R]===24&&(r[se]!==0||r[me]!==0||r[Ee]!==0)?R:r[se]<0||r[se]>59?se:r[me]<0||r[me]>59?me:r[Ee]<0||r[Ee]>999?Ee:-1,w(e)._overflowDayOfYear&&(t<V||t>ce)&&(t=ce),w(e)._overflowWeeks&&t===-1&&(t=Gn),w(e)._overflowWeekday&&t===-1&&(t=zn),w(e).overflow=t),e}var Hi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ji=/Z|[+-]\d\d(?::?\d\d)?/,Ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Qi=/^\/?Date\((-?\d+)/i,Bi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hs(e){var t,r,s=e._i,i=Hi.exec(s)||Vi.exec(s),d,h,F,S,E=Ot.length,B=pr.length;if(i){for(w(e).iso=!0,t=0,r=E;t<r;t++)if(Ot[t][1].exec(i[1])){h=Ot[t][0],d=Ot[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(i[3]){for(t=0,r=B;t<r;t++)if(pr[t][1].exec(i[3])){F=(i[2]||" ")+pr[t][0];break}if(F==null){e._isValid=!1;return}}if(!d&&F!=null){e._isValid=!1;return}if(i[4])if(ji.exec(i[4]))S="Z";else{e._isValid=!1;return}e._f=h+(F||"")+(S||""),yr(e)}else e._isValid=!1}function zi(e,t,r,s,i,d){var h=[Ki(e),es.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return d&&h.push(parseInt(d,10)),h}function Ki(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Zi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qi(e,t,r){if(e){var s=os.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return w(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Ji(e,t,r){if(e)return Gi[e];if(t)return 0;var s=parseInt(r,10),i=s%100,d=(s-i)/100;return d*60+i}function fs(e){var t=Bi.exec(Zi(e._i)),r;if(t){if(r=zi(t[4],t[3],t[2],t[5],t[6],t[7]),!qi(t[1],r,e))return;e._a=r,e._tzm=Ji(t[8],t[9],t[10]),e._d=lt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function Xi(e){var t=Qi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(hs(e),e._isValid===!1)delete e._isValid;else return;if(fs(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function je(e,t,r){return e??t??r}function ea(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gr(e){var t,r,s=[],i,d,h;if(!e._d){for(i=ea(e),e._w&&e._a[ce]==null&&e._a[fe]==null&&ta(e),e._dayOfYear!=null&&(h=je(e._a[V],i[V]),(e._dayOfYear>ot(h)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),r=lt(h,0,e._dayOfYear),e._a[fe]=r.getUTCMonth(),e._a[ce]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[R]===24&&e._a[se]===0&&e._a[me]===0&&e._a[Ee]===0&&(e._nextDay=!0,e._a[R]=0),e._d=(e._useUTC?lt:oi).apply(null,s),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[R]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(w(e).weekdayMismatch=!0)}}function ta(e){var t,r,s,i,d,h,F,S,E;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,r=je(t.GG,e._a[V],dt(I(),1,4).year),s=je(t.W,1),i=je(t.E,1),(i<1||i>7)&&(S=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,E=dt(I(),d,h),r=je(t.gg,e._a[V],E.year),s=je(t.w,E.week),t.d!=null?(i=t.d,(i<0||i>6)&&(S=!0)):t.e!=null?(i=t.e+d,(t.e<0||t.e>6)&&(S=!0)):i=d),s<1||s>pe(r,d,h)?w(e)._overflowWeeks=!0:S!=null?w(e)._overflowWeekday=!0:(F=as(r,s,i,d,h),e._a[V]=F.year,e._dayOfYear=F.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function yr(e){if(e._f===n.ISO_8601){hs(e);return}if(e._f===n.RFC_2822){fs(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,r,s,i,d,h,F=t.length,S=0,E,B;for(i=Gr(e._f,e._locale).match(nr)||[],B=i.length,r=0;r<B;r++)d=i[r],s=(t.match(jn(d,e))||[])[0],s&&(h=t.substr(0,t.indexOf(s)),h.length>0&&w(e).unusedInput.push(h),t=t.slice(t.indexOf(s)+s.length),S+=s.length),$e[d]?(s?w(e).empty=!1:w(e).unusedTokens.push(d),Bn(d,s,e)):e._strict&&!s&&w(e).unusedTokens.push(d);w(e).charsLeftOver=F-S,t.length>0&&w(e).unusedInput.push(t),e._a[R]<=12&&w(e).bigHour===!0&&e._a[R]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[R]=ra(e._locale,e._a[R],e._meridiem),E=w(e).era,E!==null&&(e._a[V]=e._locale.erasConvertYear(E,e._a[V])),gr(e),mr(e)}function ra(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function sa(e){var t,r,s,i,d,h,F=!1,S=e._f.length;if(S===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<S;i++)d=0,h=!1,t=he({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],yr(t),j(t)&&(h=!0),d+=w(t).charsLeftOver,d+=w(t).unusedTokens.length*10,w(t).score=d,F?d<s&&(s=d,r=t):(s==null||d<s||h)&&(s=d,r=t,h&&(F=!0));T(e,r||t)}function na(e){if(!e._d){var t=ar(e._i),r=t.day===void 0?t.date:t.day;e._a=x([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),gr(e)}}function ia(e){var t=new oe(mr(ms(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ms(e){var t=e._i,r=e._f;return e._locale=e._locale||ge(e._l),t===null||r===void 0&&t===""?Q({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),q(t)?new oe(mr(t)):(_(t)?e._d=t:l(r)?sa(e):r?yr(e):aa(e),j(e)||(e._d=null),e))}function aa(e){var t=e._i;m(t)?e._d=new Date(n.now()):_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Xi(e):l(t)?(e._a=x(t.slice(0),function(r){return parseInt(r,10)}),gr(e)):c(t)?na(e):y(t)?e._d=new Date(t):n.createFromInputFallback(e)}function ps(e,t,r,s,i){var d={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(c(e)&&f(e)||l(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=i,d._l=r,d._i=e,d._f=t,d._strict=s,ia(d)}function I(e,t,r,s){return ps(e,t,r,s,!1)}var oa=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Q()}),la=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Q()});function gs(e,t){var r,s;if(t.length===1&&l(t[0])&&(t=t[0]),!t.length)return I();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function da(){var e=[].slice.call(arguments,0);return gs("isBefore",e)}function ca(){var e=[].slice.call(arguments,0);return gs("isAfter",e)}var ua=function(){return Date.now?Date.now():+new Date},ht=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ha(e){var t,r=!1,s,i=ht.length;for(t in e)if(u(e,t)&&!(N.call(ht,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[ht[s]]){if(r)return!1;parseFloat(e[ht[s]])!==k(e[ht[s]])&&(r=!0)}return!0}function fa(){return this._isValid}function ma(){return ne(NaN)}function Et(e){var t=ar(e),r=t.year||0,s=t.quarter||0,i=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,F=t.hour||0,S=t.minute||0,E=t.second||0,B=t.millisecond||0;this._isValid=ha(t),this._milliseconds=+B+E*1e3+S*6e4+F*1e3*60*60,this._days=+h+d*7,this._months=+i+s*3+r*12,this._data={},this._locale=ge(),this._bubble()}function Pt(e){return e instanceof Et}function wr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function pa(e,t,r){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),d=0,h;for(h=0;h<s;h++)(r&&e[h]!==t[h]||!r&&k(e[h])!==k(t[h]))&&d++;return d+i}function ys(e,t){v(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+de(~~(r/60),2)+t+de(~~r%60,2)})}ys("Z",":"),ys("ZZ",""),g("Z",St),g("ZZ",St),O(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=_r(St,e)});var ga=/([\+\-]|\d\d)/gi;function _r(e,t){var r=(t||"").match(e),s,i,d;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(ga)||["-",0,0],d=+(i[1]*60)+k(i[2]),d===0?0:i[0]==="+"?d:-d)}function vr(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(q(e)||_(e)?e.valueOf():I(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),n.updateOffset(r,!1),r):I(e).local()}function Fr(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function ya(e,t,r){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=_r(St,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=Fr(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Fs(this,ne(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Fr(this)}function wa(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function _a(e){return this.utcOffset(0,e)}function va(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Fr(this),"m")),this}function Fa(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=_r(Hn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xa(e){return this.isValid()?(e=e?I(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ca(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={},t;return he(e,this),e=ms(e),e._a?(t=e._isUTC?C(e._a):I(e._a),this._isDSTShifted=this.isValid()&&pa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sa(){return this.isValid()?!this._isUTC:!1}function ka(){return this.isValid()?this._isUTC:!1}function ws(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Da=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ma=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ne(e,t){var r=e,s=null,i,d,h;return Pt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:y(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=Da.exec(e))?(i=s[1]==="-"?-1:1,r={y:0,d:k(s[ce])*i,h:k(s[R])*i,m:k(s[se])*i,s:k(s[me])*i,ms:k(wr(s[Ee]*1e3))*i}):(s=Ma.exec(e))?(i=s[1]==="-"?-1:1,r={y:Pe(s[2],i),M:Pe(s[3],i),w:Pe(s[4],i),d:Pe(s[5],i),h:Pe(s[6],i),m:Pe(s[7],i),s:Pe(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(h=ba(I(r.from),I(r.to)),r={},r.ms=h.milliseconds,r.M=h.months),d=new Et(r),Pt(e)&&u(e,"_locale")&&(d._locale=e._locale),Pt(e)&&u(e,"_isValid")&&(d._isValid=e._isValid),d}ne.fn=Et.prototype,ne.invalid=ma;function Pe(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function _s(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function ba(e,t){var r;return e.isValid()&&t.isValid()?(t=vr(t,e),e.isBefore(t)?r=_s(e,t):(r=_s(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function vs(e,t){return function(r,s){var i,d;return s!==null&&!isNaN(+s)&&(Br(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=r,r=s,s=d),i=ne(r,s),Fs(this,i,e),this}}function Fs(e,t,r,s){var i=t._milliseconds,d=wr(t._days),h=wr(t._months);e.isValid()&&(s=s??!0,h&&rs(e,vt(e,"Month")+h*r),d&&Kr(e,"Date",vt(e,"Date")+d*r),i&&e._d.setTime(e._d.valueOf()+i*r),s&&n.updateOffset(e,d||h))}var Oa=vs(1,"add"),Ea=vs(-1,"subtract");function xs(e){return typeof e=="string"||e instanceof String}function Pa(e){return q(e)||_(e)||xs(e)||y(e)||Ya(e)||Ia(e)||e===null||e===void 0}function Ia(e){var t=c(e)&&!f(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,d,h=s.length;for(i=0;i<h;i+=1)d=s[i],r=r||u(e,d);return t&&r}function Ya(e){var t=l(e),r=!1;return t&&(r=e.filter(function(s){return!y(s)&&xs(e)}).length===0),t&&r}function La(e){var t=c(e)&&!f(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,d;for(i=0;i<s.length;i+=1)d=s[i],r=r||u(e,d);return t&&r}function Na(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Wa(e,t){arguments.length===1&&(arguments[0]?Pa(arguments[0])?(e=arguments[0],t=void 0):La(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||I(),s=vr(r,this).startOf("day"),i=n.calendarFormat(this,s)||"sameElse",d=t&&(le(t[i])?t[i].call(this,r):t[i]);return this.format(d||this.localeData().calendar(i,this,I(r)))}function Ra(){return new oe(this)}function Aa(e,t){var r=q(e)?e:I(e);return this.isValid()&&r.isValid()?(t=ee(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ua(e,t){var r=q(e)?e:I(e);return this.isValid()&&r.isValid()?(t=ee(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function $a(e,t,r,s){var i=q(e)?e:I(e),d=q(t)?t:I(t);return this.isValid()&&i.isValid()&&d.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(d,r):!this.isAfter(d,r))):!1}function Ha(e,t){var r=q(e)?e:I(e),s;return this.isValid()&&r.isValid()?(t=ee(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function Va(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ja(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qa(e,t,r){var s,i,d;if(!this.isValid())return NaN;if(s=vr(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=ee(t),t){case"year":d=It(this,s)/12;break;case"month":d=It(this,s);break;case"quarter":d=It(this,s)/3;break;case"second":d=(this-s)/1e3;break;case"minute":d=(this-s)/6e4;break;case"hour":d=(this-s)/36e5;break;case"day":d=(this-s-i)/864e5;break;case"week":d=(this-s-i)/6048e5;break;default:d=this-s}return r?d:te(d)}function It(e,t){if(e.date()<t.date())return-It(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),i,d;return t-s<0?(i=e.clone().add(r-1,"months"),d=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),d=(t-s)/(i-s)),-(r+d)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ba(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ga(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?wt(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):le(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wt(r,"Z")):wt(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function za(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,i,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(r+s+i+d)}function Ka(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=wt(this,e);return this.localeData().postformat(t)}function Za(e,t){return this.isValid()&&(q(e)&&e.isValid()||I(e).isValid())?ne({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qa(e){return this.from(I(),e)}function Ja(e,t){return this.isValid()&&(q(e)&&e.isValid()||I(e).isValid())?ne({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Xa(e){return this.to(I(),e)}function Ts(e){var t;return e===void 0?this._locale._abbr:(t=ge(e),t!=null&&(this._locale=t),this)}var Cs=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ss(){return this._locale}var Yt=1e3,Qe=60*Yt,Lt=60*Qe,ks=(365*400+97)*24*Lt;function Be(e,t){return(e%t+t)%t}function Ds(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-ks:new Date(e,t,r).valueOf()}function Ms(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-ks:Date.UTC(e,t,r)}function eo(e){var t,r;if(e=ee(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Ms:Ds,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Be(t+(this._isUTC?0:this.utcOffset()*Qe),Lt);break;case"minute":t=this._d.valueOf(),t-=Be(t,Qe);break;case"second":t=this._d.valueOf(),t-=Be(t,Yt);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function to(e){var t,r;if(e=ee(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Ms:Ds,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Lt-Be(t+(this._isUTC?0:this.utcOffset()*Qe),Lt)-1;break;case"minute":t=this._d.valueOf(),t+=Qe-Be(t,Qe)-1;break;case"second":t=this._d.valueOf(),t+=Yt-Be(t,Yt)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function ro(){return this._d.valueOf()-(this._offset||0)*6e4}function so(){return Math.floor(this.valueOf()/1e3)}function no(){return new Date(this.valueOf())}function io(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ao(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function oo(){return this.isValid()?this.toISOString():null}function lo(){return j(this)}function co(){return T({},w(this))}function uo(){return w(this).overflow}function ho(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}v("N",0,0,"eraAbbr"),v("NN",0,0,"eraAbbr"),v("NNN",0,0,"eraAbbr"),v("NNNN",0,0,"eraName"),v("NNNNN",0,0,"eraNarrow"),v("y",["y",1],"yo","eraYear"),v("y",["yy",2],0,"eraYear"),v("y",["yyy",3],0,"eraYear"),v("y",["yyyy",4],0,"eraYear"),g("N",xr),g("NN",xr),g("NNN",xr),g("NNNN",To),g("NNNNN",Co),O(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var i=r._locale.erasParse(e,s,r._strict);i?w(r).era=i:w(r).invalidEra=e}),g("y",Ve),g("yy",Ve),g("yyy",Ve),g("yyyy",Ve),g("yo",So),O(["y","yy","yyy","yyyy"],V),O(["yo"],function(e,t,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[V]=r._locale.eraYearOrdinalParse(e,i):t[V]=parseInt(e,10)});function fo(e,t){var r,s,i,d=this._eras||ge("en")._eras;for(r=0,s=d.length;r<s;++r){switch(typeof d[r].since){case"string":i=n(d[r].since).startOf("day"),d[r].since=i.valueOf();break}switch(typeof d[r].until){case"undefined":d[r].until=1/0;break;case"string":i=n(d[r].until).startOf("day").valueOf(),d[r].until=i.valueOf();break}}return d}function mo(e,t,r){var s,i,d=this.eras(),h,F,S;for(e=e.toUpperCase(),s=0,i=d.length;s<i;++s)if(h=d[s].name.toUpperCase(),F=d[s].abbr.toUpperCase(),S=d[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(F===e)return d[s];break;case"NNNN":if(h===e)return d[s];break;case"NNNNN":if(S===e)return d[s];break}else if([h,F,S].indexOf(e)>=0)return d[s]}function po(e,t){var r=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function go(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function yo(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function wo(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function _o(){var e,t,r,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()}function vo(e){return u(this,"_erasNameRegex")||Tr.call(this),e?this._erasNameRegex:this._erasRegex}function Fo(e){return u(this,"_erasAbbrRegex")||Tr.call(this),e?this._erasAbbrRegex:this._erasRegex}function xo(e){return u(this,"_erasNarrowRegex")||Tr.call(this),e?this._erasNarrowRegex:this._erasRegex}function xr(e,t){return t.erasAbbrRegex(e)}function To(e,t){return t.erasNameRegex(e)}function Co(e,t){return t.erasNarrowRegex(e)}function So(e,t){return t._eraYearOrdinalRegex||Ve}function Tr(){var e=[],t=[],r=[],s=[],i,d,h=this.eras();for(i=0,d=h.length;i<d;++i)t.push(X(h[i].name)),e.push(X(h[i].abbr)),r.push(X(h[i].narrow)),s.push(X(h[i].name)),s.push(X(h[i].abbr)),s.push(X(h[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}v(0,["gg",2],0,function(){return this.weekYear()%100}),v(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Nt(e,t){v(0,[e,e.length],0,t)}Nt("gggg","weekYear"),Nt("ggggg","weekYear"),Nt("GGGG","isoWeekYear"),Nt("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),g("G",Ct),g("g",Ct),g("GG",P,J),g("gg",P,J),g("GGGG",lr,or),g("gggg",lr,or),g("GGGGG",Tt,Ft),g("ggggg",Tt,Ft),at(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=k(e)}),at(["gg","GG"],function(e,t,r,s){t[s]=n.parseTwoDigitYear(e)});function ko(e){return bs.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Do(e){return bs.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Mo(){return pe(this.year(),1,4)}function bo(){return pe(this.isoWeekYear(),1,4)}function Oo(){var e=this.localeData()._week;return pe(this.year(),e.dow,e.doy)}function Eo(){var e=this.localeData()._week;return pe(this.weekYear(),e.dow,e.doy)}function bs(e,t,r,s,i){var d;return e==null?dt(this,s,i).year:(d=pe(e,s,i),t>d&&(t=d),Po.call(this,e,t,r,s,i))}function Po(e,t,r,s,i){var d=as(e,t,r,s,i),h=lt(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}v("Q",0,"Qo","quarter"),$("quarter","Q"),H("quarter",7),g("Q",Zr),O("Q",function(e,t){t[fe]=(k(e)-1)*3});function Io(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}v("D",["DD",2],"Do","date"),$("date","D"),H("date",9),g("D",P),g("DD",P,J),g("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),O(["D","DD"],ce),O("Do",function(e,t){t[ce]=k(e.match(P)[0])});var Os=He("Date",!0);v("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),H("dayOfYear",4),g("DDD",xt),g("DDDD",qr),O(["DDD","DDDD"],function(e,t,r){r._dayOfYear=k(e)});function Yo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}v("m",["mm",2],0,"minute"),$("minute","m"),H("minute",14),g("m",P),g("mm",P,J),O(["m","mm"],se);var Lo=He("Minutes",!1);v("s",["ss",2],0,"second"),$("second","s"),H("second",15),g("s",P),g("ss",P,J),O(["s","ss"],me);var No=He("Seconds",!1);v("S",0,0,function(){return~~(this.millisecond()/100)}),v(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),v(0,["SSS",3],0,"millisecond"),v(0,["SSSS",4],0,function(){return this.millisecond()*10}),v(0,["SSSSS",5],0,function(){return this.millisecond()*100}),v(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),v(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),v(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),v(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("millisecond","ms"),H("millisecond",16),g("S",xt,Zr),g("SS",xt,J),g("SSS",xt,qr);var ke,Es;for(ke="SSSS";ke.length<=9;ke+="S")g(ke,Ve);function Wo(e,t){t[Ee]=k(("0."+e)*1e3)}for(ke="S";ke.length<=9;ke+="S")O(ke,Wo);Es=He("Milliseconds",!1),v("z",0,0,"zoneAbbr"),v("zz",0,0,"zoneName");function Ro(){return this._isUTC?"UTC":""}function Ao(){return this._isUTC?"Coordinated Universal Time":""}var p=oe.prototype;p.add=Oa,p.calendar=Wa,p.clone=Ra,p.diff=Qa,p.endOf=to,p.format=Ka,p.from=Za,p.fromNow=qa,p.to=Ja,p.toNow=Xa,p.get=Un,p.invalidAt=uo,p.isAfter=Aa,p.isBefore=Ua,p.isBetween=$a,p.isSame=Ha,p.isSameOrAfter=Va,p.isSameOrBefore=ja,p.isValid=lo,p.lang=Cs,p.locale=Ts,p.localeData=Ss,p.max=la,p.min=oa,p.parsingFlags=co,p.set=$n,p.startOf=eo,p.subtract=Ea,p.toArray=io,p.toObject=ao,p.toDate=no,p.toISOString=Ga,p.inspect=za,typeof Symbol<"u"&&Symbol.for!=null&&(p[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),p.toJSON=oo,p.toString=Ba,p.unix=so,p.valueOf=ro,p.creationData=ho,p.eraName=go,p.eraNarrow=yo,p.eraAbbr=wo,p.eraYear=_o,p.year=is,p.isLeapYear=ai,p.weekYear=ko,p.isoWeekYear=Do,p.quarter=p.quarters=Io,p.month=ss,p.daysInMonth=si,p.week=p.weeks=hi,p.isoWeek=p.isoWeeks=fi,p.weeksInYear=Oo,p.weeksInWeekYear=Eo,p.isoWeeksInYear=Mo,p.isoWeeksInISOWeekYear=bo,p.date=Os,p.day=p.days=ki,p.weekday=Di,p.isoWeekday=Mi,p.dayOfYear=Yo,p.hour=p.hours=Li,p.minute=p.minutes=Lo,p.second=p.seconds=No,p.millisecond=p.milliseconds=Es,p.utcOffset=ya,p.utc=_a,p.local=va,p.parseZone=Fa,p.hasAlignedHourOffset=xa,p.isDST=Ta,p.isLocal=Sa,p.isUtcOffset=ka,p.isUtc=ws,p.isUTC=ws,p.zoneAbbr=Ro,p.zoneName=Ao,p.dates=A("dates accessor is deprecated. Use date instead.",Os),p.months=A("months accessor is deprecated. Use month instead",ss),p.years=A("years accessor is deprecated. Use year instead",is),p.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wa),p.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ca);function Uo(e){return I(e*1e3)}function $o(){return I.apply(null,arguments).parseZone()}function Ps(e){return e}var M=rr.prototype;M.calendar=kn,M.longDateFormat=On,M.invalidDate=Pn,M.ordinal=Ln,M.preparse=Ps,M.postformat=Ps,M.relativeTime=Wn,M.pastFuture=Rn,M.set=Cn,M.eras=fo,M.erasParse=mo,M.erasConvertYear=po,M.erasAbbrRegex=Fo,M.erasNameRegex=vo,M.erasNarrowRegex=xo,M.months=Xn,M.monthsShort=ei,M.monthsParse=ri,M.monthsRegex=ii,M.monthsShortRegex=ni,M.week=li,M.firstDayOfYear=ui,M.firstDayOfWeek=ci,M.weekdays=Fi,M.weekdaysMin=Ti,M.weekdaysShort=xi,M.weekdaysParse=Si,M.weekdaysRegex=bi,M.weekdaysShortRegex=Oi,M.weekdaysMinRegex=Ei,M.isPM=Ii,M.meridiem=Ni;function Wt(e,t,r,s){var i=ge(),d=C().set(s,t);return i[r](d,e)}function Is(e,t,r){if(y(e)&&(t=e,e=void 0),e=e||"",t!=null)return Wt(e,t,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Wt(e,s,r,"month");return i}function Cr(e,t,r,s){typeof e=="boolean"?(y(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,y(t)&&(r=t,t=void 0),t=t||"");var i=ge(),d=e?i._week.dow:0,h,F=[];if(r!=null)return Wt(t,(r+d)%7,s,"day");for(h=0;h<7;h++)F[h]=Wt(t,(h+d)%7,s,"day");return F}function Ho(e,t){return Is(e,t,"months")}function Vo(e,t){return Is(e,t,"monthsShort")}function jo(e,t,r){return Cr(e,t,r,"weekdays")}function Qo(e,t,r){return Cr(e,t,r,"weekdaysShort")}function Bo(e,t,r){return Cr(e,t,r,"weekdaysMin")}Se("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=k(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}}),n.lang=A("moment.lang is deprecated. Use moment.locale instead.",Se),n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",ge);var ye=Math.abs;function Go(){var e=this._data;return this._milliseconds=ye(this._milliseconds),this._days=ye(this._days),this._months=ye(this._months),e.milliseconds=ye(e.milliseconds),e.seconds=ye(e.seconds),e.minutes=ye(e.minutes),e.hours=ye(e.hours),e.months=ye(e.months),e.years=ye(e.years),this}function Ys(e,t,r,s){var i=ne(t,r);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function zo(e,t){return Ys(this,e,t,1)}function Ko(e,t){return Ys(this,e,t,-1)}function Ls(e){return e<0?Math.floor(e):Math.ceil(e)}function Zo(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,i,d,h,F,S;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Ls(Sr(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,i=te(e/1e3),s.seconds=i%60,d=te(i/60),s.minutes=d%60,h=te(d/60),s.hours=h%24,t+=te(h/24),S=te(Ns(t)),r+=S,t-=Ls(Sr(S)),F=te(r/12),r%=12,s.days=t,s.months=r,s.years=F,this}function Ns(e){return e*4800/146097}function Sr(e){return e*146097/4800}function qo(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=ee(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+Ns(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Sr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function Jo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+k(this._months/12)*31536e6:NaN}function we(e){return function(){return this.as(e)}}var Xo=we("ms"),el=we("s"),tl=we("m"),rl=we("h"),sl=we("d"),nl=we("w"),il=we("M"),al=we("Q"),ol=we("y");function ll(){return ne(this)}function dl(e){return e=ee(e),this.isValid()?this[e+"s"]():NaN}function Ie(e){return function(){return this.isValid()?this._data[e]:NaN}}var cl=Ie("milliseconds"),ul=Ie("seconds"),hl=Ie("minutes"),fl=Ie("hours"),ml=Ie("days"),pl=Ie("months"),gl=Ie("years");function yl(){return te(this.days()/7)}var _e=Math.round,Ge={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function wl(e,t,r,s,i){return i.relativeTime(t||1,!!r,e,s)}function _l(e,t,r,s){var i=ne(e).abs(),d=_e(i.as("s")),h=_e(i.as("m")),F=_e(i.as("h")),S=_e(i.as("d")),E=_e(i.as("M")),B=_e(i.as("w")),ve=_e(i.as("y")),De=d<=r.ss&&["s",d]||d<r.s&&["ss",d]||h<=1&&["m"]||h<r.m&&["mm",h]||F<=1&&["h"]||F<r.h&&["hh",F]||S<=1&&["d"]||S<r.d&&["dd",S];return r.w!=null&&(De=De||B<=1&&["w"]||B<r.w&&["ww",B]),De=De||E<=1&&["M"]||E<r.M&&["MM",E]||ve<=1&&["y"]||["yy",ve],De[2]=t,De[3]=+e>0,De[4]=s,wl.apply(null,De)}function vl(e){return e===void 0?_e:typeof e=="function"?(_e=e,!0):!1}function Fl(e,t){return Ge[e]===void 0?!1:t===void 0?Ge[e]:(Ge[e]=t,e==="s"&&(Ge.ss=t-1),!0)}function xl(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=Ge,i,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},Ge,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),d=_l(this,!r,s,i),r&&(d=i.pastFuture(+this,d)),i.postformat(d)}var kr=Math.abs;function ze(e){return(e>0)-(e<0)||+e}function Rt(){if(!this.isValid())return this.localeData().invalidDate();var e=kr(this._milliseconds)/1e3,t=kr(this._days),r=kr(this._months),s,i,d,h,F=this.asSeconds(),S,E,B,ve;return F?(s=te(e/60),i=te(s/60),e%=60,s%=60,d=te(r/12),r%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=F<0?"-":"",E=ze(this._months)!==ze(F)?"-":"",B=ze(this._days)!==ze(F)?"-":"",ve=ze(this._milliseconds)!==ze(F)?"-":"",S+"P"+(d?E+d+"Y":"")+(r?E+r+"M":"")+(t?B+t+"D":"")+(i||s||e?"T":"")+(i?ve+i+"H":"")+(s?ve+s+"M":"")+(e?ve+h+"S":"")):"P0D"}var D=Et.prototype;D.isValid=fa,D.abs=Go,D.add=zo,D.subtract=Ko,D.as=qo,D.asMilliseconds=Xo,D.asSeconds=el,D.asMinutes=tl,D.asHours=rl,D.asDays=sl,D.asWeeks=nl,D.asMonths=il,D.asQuarters=al,D.asYears=ol,D.valueOf=Jo,D._bubble=Zo,D.clone=ll,D.get=dl,D.milliseconds=cl,D.seconds=ul,D.minutes=hl,D.hours=fl,D.days=ml,D.weeks=yl,D.months=pl,D.years=gl,D.humanize=xl,D.toISOString=Rt,D.toString=Rt,D.toJSON=Rt,D.locale=Ts,D.localeData=Ss,D.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rt),D.lang=Cs,v("X",0,0,"unix"),v("x",0,0,"valueOf"),g("x",Ct),g("X",Vn),O("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}),O("x",function(e,t,r){r._d=new Date(k(e))});return n.version="2.29.4",o(I),n.fn=p,n.min=da,n.max=ca,n.now=ua,n.utc=C,n.unix=Uo,n.months=Ho,n.isDate=_,n.locale=Se,n.invalid=Q,n.duration=ne,n.isMoment=q,n.weekdays=jo,n.parseZone=$o,n.localeData=ge,n.isDuration=Pt,n.monthsShort=Vo,n.weekdaysMin=Bo,n.defineLocale=fr,n.updateLocale=Ui,n.locales=$i,n.weekdaysShort=Qo,n.normalizeUnits=ee,n.relativeTimeRounding=vl,n.relativeTimeThreshold=Fl,n.calendarFormat=Na,n.prototype=p,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Wl={};bl(Wl,{default:()=>er});module.exports=Ol(Wl);var Tn=require("obsidian");var xe=require("obsidian");var Fe=require("obsidian"),Ut={state:{source:!1,mode:"source"}},Me=/\[\[(.+?)([|#].*?)?\]\] ?/;async function Dr(a,n){await a.workspace.getLeaf().openFile(n,Ut),a.commands.executeCommandById("file-explorer:reveal-active-file")}function b(a,n){let{app:o,settings:l}=a,c=n===void 0?o.workspace.getActiveFile():typeof n=="string"?o.vault.getFileByPath(n):n;return!c||!(c instanceof Fe.TFile)||c.extension!=="md"?!1:c.name==="Template.md"?"Template":c.path.startsWith(l.coding.folder+"/")?"Code File":c.path.startsWith(l.extraction.folder+"/")?"Extraction File":"Data File"}async function $t(a,n,o){let{app:l,settings:c}=a,u=["```"+n,"```",""];l.vault.getFolderByPath(c.analysis.folder)||l.vault.createFolder(c.analysis.folder);let m=(0,Fe.normalizePath)(c.analysis.folder+`/${o}.md`),y=l.vault.getFileByPath(m)||await l.vault.create(m,u.join(`
`));await Dr(l,y),G(a.app)?.setCursor({line:u.length,ch:0})}function G(a){let n=a.workspace.activeEditor?.editor;return n||new Fe.Notice("No active editor."),n}function be(a){if(a.getLine(a.getCursor().line).trim()===""&&!a.somethingSelected())return new Fe.Notice(`Current line is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let o=a.getCursor("head").line!==a.getCursor("anchor").line,l=a.listSelections().length>1;return o||l?(new Fe.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Ke(a){let n=a.getSelection().includes("==");return n&&new Fe.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`),n}function Ze(a){a.metadataTypeManager.setType("extraction-date","datetime"),a.metadataTypeManager.setType("extraction-source","multitext"),a.metadataTypeManager.setType("code description","text")}var Ht={"last used first":(a,n)=>n.stat.mtime-a.stat.mtime,"oldest used first":(a,n)=>a.stat.mtime-n.stat.mtime,"frequently used first":(a,n)=>n.stat.size-a.stat.size,"rarely used first":(a,n)=>a.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(a,n)=>a.basename.localeCompare(n.basename)},As={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Us={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},ue={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:","},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Mr(a,n){return n.path.slice(a.settings.coding.folder.length+1,-3)}function $s(a,n){return n?n.path===a.settings.coding.folder+"/Template.md":!1}function ft(a,n){let o=a.app.metadataCache.resolvedLinks[n.path]||{},l=0;for(let[c,u]of Object.entries(o))b(a,c)==="Data File"&&(l+=u);return l}function Vt(a,n,o){let l=a.app;return(o.match(new RegExp(Me,"g"))||[]).reduce((f,m)=>{let[y,_]=m.match(Me)||[];if(!_)return f;let x=l.metadataCache.getFirstLinkpathDest(_,n.path);return x&&b(a,x)==="Code File"&&f.push({tFile:x,wikilink:m}),f},[])}function jt(a){let n=a.app.vault.getMarkdownFiles().filter(l=>b(a,l)==="Code File"),o=Ht[a.settings.coding.sortFunc];return n.sort(o),n}function qe(a,n){let o=Mr(a,n);if(!a.settings.coding.displayCount)return o;let c=ft(a,n);return`${o} (${c}x)`}async function Hs(a){let n=a.codeblockLabels.codeOverview;await $t(a,n,"Code Overview")}function Vs(a,n){let{app:o,settings:l}=a,c=[...n.children];c.sort((f,m)=>f instanceof xe.TFolder&&m instanceof xe.TFile?-1:f instanceof xe.TFile&&m instanceof xe.TFolder?1:f.name.localeCompare(m.name));let u="";for(let f of c)if(f instanceof xe.TFolder){let m=f;if(!m.children.some(x=>x instanceof xe.TFile&&x.extension==="md"))continue;let _=Vs(a,m);u+=`<li>\u{1F4C1} ${m.name} ${_}</li>`}else if(f instanceof xe.TFile){let m=f,y=m.path===l.coding.folder+"/Template.md",_=m.extension!=="md";if(y||_)continue;let x=o.metadataCache.getFileCache(m)?.frontmatter?.["code description"],T=x?": "+x:"",C=`<a href="${m.path}" class="internal-link">${m.basename}</a>`,Y=ft(a,m);u+=`<li>\u{1F4C4} ${C} (${Y}x)${T}</li>`}return`<ul>${u}</ul>`}function js(a){let{app:n,settings:o}=a,l=n.vault.getFolderByPath(o.coding.folder);return l?Vs(a,l):`\u26A0\uFE0F Code folder "${o.coding.folder}" not found.`}var qs=require("obsidian");var Qs=Rs(Or()),Er=/\^[\w-]+$/,Bs=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function El(a){let[n]=a.match(Er)||[];if(n){let l=a.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:l}}return{blockId:"^id-"+(0,Qs.default)().format("YYMMDD-HHmmss"),lineWithoutId:a.trim()}}function Xe(a){let n=a.getCursor(),o=a.getLine(n.line),l=a.getSelection();if(l){let f=l.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");a.replaceSelection(f),o=a.getLine(n.line)}let{blockId:c,lineWithoutId:u}=El(o);return{blockId:c,lineWithoutId:u}}function et(a,n,o,l,c){let u=a.editorComponent.view.file,f=a.editorComponent.app;f.vault.setConfig("useMarkdownLinks",!1);let m=f.fileManager.generateMarkdownLink(n,u.path,"",o),y=`${l} ${m} ${c}`,_=a.getCursor();a.setLine(_.line,y),a.setCursor(_)}var Qt=require("obsidian"),Z=class extends Qt.FuzzySuggestModal{hotkeyInstructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.hotkeyInstructions),this.scope.register([],"Tab",o=>{o.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",o=>{o.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Ye=class extends Qt.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){this.contentEl.empty()}};var z=require("obsidian");var Gt=require("obsidian"),Le=class extends Gt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,o){super(n.app,o),this.textInputEl=o,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(l=>l instanceof Gt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(o=>o.path.includes(n))}renderSuggestion(n,o){o.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function Gs(a,n){return n.path.slice(a.settings.coding.folder.length+1)+"/"}var Bt=class extends Le{getSuggestions(n){if(!n.includes("/"))return[];let o=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),f=c.path.startsWith(o.coding.folder+"/");return u&&f})}renderSuggestion(n,o){let l=Gs(this.plugin,n);o.createEl("span",{text:l})}selectSuggestion(n){this.textInputEl.value=Gs(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var Pr=class extends Ye{fullCode="";codeDesc="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let o=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),l=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new z.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new Bt(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!o(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),l())})}),new z.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),l())})}),new z.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},Ir=class extends Ye{input="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new z.Setting(n).addTextArea(o=>{o.onChange(l=>{this.input=l.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new z.Setting(n).addButton(o=>{this.confirmationButton=o.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(o=>o.setButtonText("Cancel").onClick(()=>this.close()))}};async function zs(a,n,o){let{app:l,settings:c}=a;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,z.normalizePath)(`${c.coding.folder}/${n}.md`);if(l.vault.getFileByPath(u))return new z.Notice(`Code "${n}" already exists, Code File not created.`),!1;let m=n.split("/"),y=m.pop(),_=m.length?"/"+m.join("/"):"",x=c.coding.folder+_;l.vault.getFolderByPath(x)||await l.vault.createFolder(x);let C=`code description: "${o.replaceAll('"',"'")}"`,Y=l.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(Y){let Q=await l.vault.read(Y),{exists:re,frontmatter:U}=(0,z.getFrontMatterInfo)(Q);re&&(U=U.match(/^code description:/m)?U.replace(/^code description:.*$/m,C):C+`
`+U,w.push(...U.trim().split(`
`)))}else w.push(C);let W=["---",...w,"---","",""],j=await l.vault.create(`${x}/${y}.md`,W.join(`
`));return j?(new z.Notice(`Created new code file: "${n}"`),j):(new z.Notice("Failed to create new code file."),!1)}function Ks(a,n){new Pr(a,async(o,l)=>{let c=await zs(a,o,l);c&&n(c)}).open()}function Zs(a){new Ir(a,async n=>{let o=0,l=[];for(let u of n.split(`
`))await zs(a,u,"")?o++:l.push(u);let c=`${o} file(s) created`;l.length>0&&(c+=`
Could not create: `+l.join(", ")),new z.Notice(c,(l.length+2)*1e3)}).open()}var Yr=class extends Z{editor;codesInPara;dataFile;constructor(n,o,l,c){super(n),this.editor=o,this.codesInPara=l,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([...this.hotkeyInstructions,{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(u.preventDefault(),this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...jt(this.plugin).filter(l=>!this.codesInPara.find(c=>c.path===l.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":qe(this.plugin,n)}onChooseItem(n){n==="new-code-file"?Ks(this.plugin,o=>this.assignCode(o,this.dataFile)):this.assignCode(n,this.dataFile)}async assignCode(n,o){let l=this.editor,c=Mr(this.plugin,n),{blockId:u,lineWithoutId:f}=Xe(l);et(l,n,c,f,u);let m=`![[${o.path.slice(0,-3)}#${u}]]
`;await this.app.vault.append(n,m)}};function Js(a){let n=a.app,o=G(n);if(!o||be(o))return;if(b(a)!=="Data File"){new qs.Notice("You must be in a Data File to assign a code.",3e3);return}if(Ke(o))return;let c=o.editorComponent.view.file,u=o.getLine(o.getCursor().line),f=Vt(a,c,u).map(m=>m.tFile);new Yr(a,o,f,c).open()}var Xs=require("obsidian");async function en(a){let n=a.app,o=G(n);if(!o)return;if(b(a)!=="Code File"){new Xs.Notice("Must be in Code File to delete the code everywhere.");return}let l=o.editorComponent.view.file;await n.vault.trash(l,!0)}var Ne=require("obsidian");function tn(a,n){let o=Object.keys(n).map(l=>Pl(a,l,n[l]));return o.length===1?o[0]:function(){o.forEach(l=>l())}}function Pl(a,n,o){let l=a[n],c=a.hasOwnProperty(n),u=c?l:function(){return Object.getPrototypeOf(a)[n].apply(this,arguments)},f=o(u);return l&&Object.setPrototypeOf(f,l),Object.setPrototypeOf(m,f),a[n]=m,y;function m(..._){return f===u&&a[n]===m&&y(),f.apply(this,_)}function y(){a[n]===m&&(c?a[n]=u:delete a[n]),f!==u&&(f=u,Object.setPrototypeOf(m,l||Function))}}var sn=require("obsidian");var tt=require("obsidian");async function rn(a,n){let o=a.app,l=[],c=0,u=b(a,n),f=o.metadataCache.getFileCache(n)?.embeds||[];for(let y of f){let[_,x]=y.link.split("#");if(!_||!x)continue;let T=o.metadataCache.getFirstLinkpathDest(_,n.path);if(!T||b(a,T)!=="Data File")continue;let Y=await Lr(o,n,T,x);Y?l.push(Y):c++}if(c===0&&l.length===0){let y=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new tt.Notice(y),console.warn(y);return}let m=`${u} "${n.name}" and ${c} references to it deleted.
`;if(l.length>0){let y=[m,`\u26A0\uFE0F ${l.length} references could not be deleted:`,"- "+l.join(`
- `)].join(`
`);console.warn(y),new tt.Notice(y,0)}else new tt.Notice(m)}async function Lr(a,n,o,l){let c=(await a.vault.read(o)).split(`
`),u=c.findIndex(_=>_.endsWith(l));if(u<0)return`Data File "${o.basename}", has no line with the ID "${l}".`;let f=c[u]||"",y=(f.match(new RegExp(Me,"g"))||[]).find(_=>{_=_.trim().slice(2,-2);let x=a.metadataCache.getFirstLinkpathDest(_,o.path);return x instanceof tt.TFile&&x.path===n.path});return y?(c[u]=f.replace(y,""),await a.vault.modify(o,c.join(`
`)),""):`Data File "${o.basename}", line "${l}" has no valid link to the "${n.name}".`}function rt(a){let n=a.app.vault;return tn(n,{trash:l=>async(c,u)=>{let f=b(a,c);if((f==="Code File"||f==="Extraction File")&&c instanceof sn.TFile){let y=`Intercepted deletion of "${c.name}", deleting all references to the ${f} before proceeding with deletion.`;console.info(y),await rn(a,c)}await l.apply(n,[c,u])}})}var Nr=class extends Z{toBeMergedFile;permaNotice;constructor(n,o){super(n),this.setPlaceholder(`Select Code File to merge "${o.basename}" into`),this.toBeMergedFile=o;let l=["MERGING INFO","- Lists properties are fully merged.",`- For conflicting, non-list properties, the values from "${o.basename}" are take priority.`].join(`
`);this.permaNotice=new Ne.Notice(l,0)}onClose(){this.permaNotice.hide()}onNoSuggestion(){new Ne.Notice("There must be at least two Code Files to merge.",4e3),this.close()}getItems(){return jt(this.plugin).filter(o=>o.path!==this.toBeMergedFile.path)}getItemText(n){return qe(this.plugin,n)}async onChooseItem(n){let{plugin:o,app:l}=this,c=`## Codes from "${this.toBeMergedFile.basename}"`,u=await l.vault.cachedRead(this.toBeMergedFile),{contentStart:f}=(0,Ne.getFrontMatterInfo)(u),m=u.slice(f).trim(),y=[c,m].join(`
`);o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,y,!1),o.trashWatcherUninstaller=rt(o),setTimeout(async()=>await l.vault.append(n,""),200),new Ne.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function nn(a){let n=G(a.app);if(!n)return;if(b(a)!=="Code File"){new Ne.Notice("You must be in the Code File for this.",3e3);return}let o=n.editorComponent.view.file;new Nr(a,o).open()}var Wr=require("obsidian");function an(a){b(a)!=="Code File"?new Wr.Notice("You must be in a code file."):$s(a,a.app.workspace.getActiveFile())?new Wr.Notice("You must not rename the template file."):a.app.commands.executeCommandById("workspace:edit-file-title")}var Te=require("obsidian");var Rr=class extends Z{codesInParagraph;dataFile;editor;constructor(n,o,l,c){super(n),this.codesInParagraph=c,this.dataFile=l,this.editor=o,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return qe(this.plugin,n.tFile)}onChooseItem(n){on(this.editor,this.dataFile,n)}};async function on(a,n,o){let l=a.editorComponent.app,c=a.getCursor().line,u=a.getLine(c),f=u.replace(o.wikilink,"");a.setLine(c,f);let[m]=u.match(Er)||[];if(!m){new Te.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`);return}let y=(await l.vault.read(o.tFile)).split(`
`),_=y.findIndex(x=>{if(!x.includes(m))return!1;let T=x.match(new RegExp(Me,"g"))||[];for(let C of T){let[Y,w]=C.match(Me)||[];if(!w)continue;if(l.metadataCache.getFirstLinkpathDest(w,o.tFile.path)?.path===n.path)return!0}return!1});if(_<0){new Te.Notice(`"Code File "${o.tFile.basename}" contains not reference to Data File "${n.basename}" with the ID "${m}". Reference in Code File is thus not deleted.`,7e3);return}y.splice(_,1),await l.vault.modify(o.tFile,y.join(`
`)),new Te.Notice(`Assignment of code "${o.tFile.basename}" removed.`)}async function Il(a,n){let o=n.getLine(n.getCursor().line),[l,c,u]=o.match(Bs)||[],f=n.editorComponent.view.file,m=a.metadataCache.getFirstLinkpathDest(c||"",f.path);if(!u||!c||!m){new Te.Notice("Current line has no correct reference.");return}let y=await Lr(a,f,m,u);if(y){new Te.Notice(y+`

Aborting removal of Code.`,4e3);return}a.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new Te.Notice(`Assignment of code "${f.basename}" removed.`)}function ln(a){let n=a.app,o=G(n);if(!o||be(o))return;if(b(a)==="Code File"&&Il(n,o),b(a)!=="Data File"){new Te.Notice("You must be in a Data File or Code File to unassign a code.",3e3);return}let l=o.editorComponent.view.file,c=o.getLine(o.getCursor().line),u=Vt(a,l,c);u.length===0?new Te.Notice("Line does not contain any codes to remove."):u.length===1?on(o,l,u[0]):new Rr(a,o,l,u).open()}var dn=[{id:"assign-code",name:"Assign code to paragraph",func:Js,hotkeyLetter:"a",ribbonIcon:"plus-circle"},{id:"rename-code",name:"Rename code",func:an,hotkeyLetter:"r",ribbonIcon:"circle-slash"},{id:"unassign-code",name:"Remove code from paragraph",func:ln,hotkeyLetter:"d",ribbonIcon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:en,ribbonIcon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:nn,ribbonIcon:"circle-dot"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:Zs,ribbonIcon:"circle-dashed"},{id:"code-overview-codeblock",name:"Create/goto code overview file",func:Hs,ribbonIcon:"circle-equal"}];var mt=require("obsidian");async function cn(a){let{app:n,settings:o}=a,l=G(n);if(!l||be(l))return;if(b(a)!=="Data File"){new mt.Notice("You must be in a Data File to make an extraction.",3e3);return}if(Ke(l))return;let u=n.vault.getMarkdownFiles().filter(W=>W.name!=="Template.md"&&W.path.startsWith(o.extraction.folder+"/"));if(u.length===0){new mt.Notice("No extractions have been created yet.");return}let f=u.sort((W,j)=>j.stat.ctime-W.stat.ctime)[0],m=l.editorComponent.view.file,{blockId:y,lineWithoutId:_}=Xe(l);if(l.getLine(l.getCursor().line).includes(`[[${f.basename}]]`)){new mt.Notice("The paragraph already references the last Extraction File. Aborting.");return}let T=(await n.vault.read(f)).trim().split(`
`),C=`${m.path.slice(0,-3)}#${y}`,Y=1+T.findIndex(W=>W.startsWith("extraction-source:"));if(Y===0){new mt.Notice('Could not find "extraction-source:" property in last Extraction File. Aborting.');return}let w=Y+T.slice(Y).findIndex(W=>!W.startsWith("  - "));T.splice(w,0,`  - "[[${C}]]"`),T.push(`![[${C}]]`),T.push(""),await n.vault.modify(f,T.join(`
`)),et(l,f,f.basename,_,y)}var gt=require("obsidian");var Ar="yyyymmdd",Yl="8.15.12",un={pluginVersion:Yl,model:{columns:[{id:"UUID",width:"WIDTH",content:"Source",sortDir:"default",isVisible:!1,type:"source",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Ar,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!1,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null},{id:"UUID",width:"WIDTH",content:"Extraction File",sortDir:"default",isVisible:!0,type:"source-file",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Ar,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"count-all",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null}],rows:[],filters:[{id:"UUID",columnId:"UUID",operator:"or",isEnabled:!0,type:"source-file",condition:"is-not",text:"Template"}],sources:[{id:"UUID",type:"folder",path:"PATH",includeSubfolders:!1}],settings:{numFrozenColumns:1,showCalculationRow:!1},externalRowOrder:[]}},hn={id:"UUID",type:"LOOM_TYPE",frontmatterKey:"DIMENSION",width:"WIDTH",sortDir:"default",isVisible:!0,numberPrefix:"",numberSuffix:"",numberSeparator:"",content:"",numberFormat:"number",currencyType:"USD",dateFormat:Ar,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset"};var ie=require("obsidian");async function pt(a,n){let{app:o,settings:l}=a,c=l.extraction.openingMode,u=o.workspace.getLeaf();if(c==="tab"){let f=u.parent;await o.workspace.createLeafInParent(f,f.children.length).openFile(n,Ut)}else{let f=c==="right-split"?"right":"bottom",m=c==="right-split"?"vertical":"horizontal",y=o.workspace.getAdjacentLeafInDirection(u,f)||o.workspace.createLeafBySplit(u,m,!1);await y.openFile(n,Ut),y.parent.setDimension(2)}}function zt(a,n){a.vault.setConfig("propertiesInDocument","visible"),setTimeout(()=>{let o=a.workspace.getActiveViewOfType(ie.MarkdownView)?.metadataEditor.rendered[0];if(!o)return;o[n==="key"?"focusKey":"focusValue"]()},350)}function Kt(a,n){let o=a.vault.getFileByPath(`${n.path}/Template.md`);if(!o){new ie.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,5e3);return}let l=a.metadataCache.getFileCache(o)?.frontmatter;if(!l){new ie.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,5e3);return}return l}function Oe(a){let{app:n,settings:o}=a,l=n.vault.getFolderByPath(o.extraction.folder);if(!l){new ie.Notice("ERROR: Could not find Extraction Folder.",4e3);return}let c=l.children.filter(u=>u instanceof ie.TFolder&&u.children.find(f=>f.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new ie.Notice(u,0);return}return c}function We(a){return a.children.filter(o=>o instanceof ie.TFile&&o.extension==="md"&&o.name!=="Template.md").length}function Ll(a,n){let o={text:"text",number:"number",checkbox:"checkbox",date:"date",datetime:"date",aliases:"multi-tag",tags:"multi-tag",multitext:"multi-tag"},l=a.metadataTypeManager.getPropertyInfo(n.toLowerCase())?.type;return o[l]||"text"}var Ur=class extends Z{extractionTypes;constructor(n,o){super(n),this.settings=n.settings,this.extractionTypes=o,this.setPlaceholder("Select extraction type to create aggregation for")}getItems(){return this.extractionTypes}getItemText(n){let o=n.children.length-1;return`${n.name} (${o})`}async onChooseItem(n){Ze(this.app);let o=this.settings,l=Kt(this.app,n);if(!l)return;let c=[...Object.keys(l),"extraction-source","extraction-date"],u=structuredClone(un);if(!u.model?.filters[0]||!u.model?.sources[0]||!u.model?.columns[0]||!u.model?.columns[1]){new gt.Notice("ERROR: Loom Template invalid.",4e3);return}u.model.sources[0].path=n.path,u.model.sources[0].id=crypto.randomUUID(),u.model.filters[0].id=crypto.randomUUID(),u.model.columns[0].id=crypto.randomUUID();let f=crypto.randomUUID();u.model.filters[0].columnId=f,u.model.columns[1].id=f,u.model.columns[1].width="150px";for(let T of c){let C=structuredClone(hn);C.id=crypto.randomUUID(),C.frontmatterKey=T,C.content=T,C.type=Ll(this.app,T),C.width=T==="extraction-date"?"150px":"200px",u.model.columns.push(C)}let m=this.app.vault.getFolderByPath(o.analysis.folder);if(m||(m=await this.app.vault.createFolder(o.analysis.folder)),!m){new gt.Notice("ERROR: Could not create Analysis Folder.",4e3);return}let y=n.name,_;for(;_=`${o.analysis.folder}/${y} (Aggregation).loom`,!!this.app.vault.getFileByPath(_);)y+="_1";let x=await this.app.vault.create(_,JSON.stringify(u));await Dr(this.app,x)}};async function fn(a){let n=a.app;if(![...n.plugins.enabledPlugins].includes("notion-like-tables")){if(!Object.keys(n.plugins.plugins).includes("notion-like-tables")){new gt.Notice(`Plugin "DataLoom" not installed.

Please install it from the Obsidian Community Store.`,7e3);return}if(!await n.plugins.enablePluginAndSave("dataview")){new gt.Notice("ERROR: DataLoom plugin could not be enabled.",4e3);return}}let l=Oe(a);l&&new Ur(a,l).open()}var Re=require("obsidian");var $r=class extends Ye{onSubmit;nameOfNewType="";constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let o=c=>c!=="",l=()=>{this.close(),this.onSubmit(this.nameOfNewType)};new Re.Setting(n).setName("Name of the new type").addText(c=>{c.onChange(u=>{this.nameOfNewType=u.trim(),this.confirmationButton?.setDisabled(!o(u))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.nameOfNewType)&&(u.preventDefault(),l())})}),new Re.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}};function mn(a){let{app:n,settings:o}=a;new $r(a,async l=>{l=l.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Re.normalizePath)(o.extraction.folder+"/"+l);await n.vault.createFolder(c),new Re.Notice(`Creating New Template for Extraction Type "${l}"`,6e3);let u=`---
dimension: 
---

`,f=["> [!NOTE] ",'> Due to a bug in DataLoom, properties of the type "List" must not have a space in them. You can work around that issue by using underscores or hyphens instead of a space.',"> ","> See <https://github.com/trey-wallis/obsidian-dataloom/issues/932>"].join(`
`),m=await n.vault.create(c+"/Template.md",u+f);await pt(a,m),n.commands.executeCommandById("file-explorer:reveal-active-file"),zt(n,"key")}).open()}var gn=Rs(Or()),Ce=require("obsidian");var Nl="-";function pn(a,n){return a.map(l=>`"${l.replaceAll('"','""')}"`).join(n)}async function yn(a){let{app:n,settings:o}=a,l=o.extraction.csvSeparator,c=Oe(a);if(!c)return;let u;for(let f of c){let m=[],y=Kt(n,f);if(!y){new Ce.Notice(`Export of Extraction Type "${f.name}" is skipped.`,5e3);continue}let _=["File",...Object.keys(y),"extraction-date","extraction-source"],x=pn(_,l);m.push(x);let T=f.children.filter(U=>U instanceof Ce.TFile&&U.name!=="Template.md");for(let U of T){let he=n.metadataCache.getFileCache(U)?.frontmatter;if(!he)continue;let oe=[];for(let Ae of _){if(Ae==="File"){oe.push(U.basename);continue}let A=he[Ae]??Nl,Ue=typeof A!="object"?A.toString():Array.isArray(A)?A.join("; "):JSON.stringify(A);Ae==="extraction-source"&&(Ue=Ue.replace(/\[\[|\]\]/g,"")),oe.push(Ue)}let q=pn(oe,l);m.push(q)}let C=(0,Ce.normalizePath)(o.analysis.folder+"/CSV Export");n.vault.getFolderByPath(C)||await n.vault.createFolder(C);let w=m.join(`
`),W=(0,gn.default)().format("YYYY-MM-DD_HH-mm-ss"),j=(0,Ce.normalizePath)(`${C}/${f.name}_${W}.csv`),Q=await n.vault.create(j,w),re=Q?`Successfully exported "${f.name}".`:`ERROR: Export for "${f.name}" failed.`;new Ce.Notice(re,5e3),!u&&Q&&(u=Q)}new Ce.Notice("All CSV exports finished.",5e3),u&&n.showInFolder(u.path)}var st=require("obsidian");var Hr=class extends Z{extractionTypes;editor;dataFile;constructor(n,o,l,c){super(n),this.extractionTypes=l,this.editor=o,this.dataFile=c,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return Vr.name;let l=We(n);return`${n.name} (${l}x)`}onChooseItem(n){Vr(this.plugin,this.editor,this.dataFile,n)}};async function Vr(a,n,o,l){let c=a.app;Ze(c);let u=l.name,f=l.path,m=c.vault.getFileByPath(`${f}/Template.md`);if(!m){new st.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${u}".`);return}let y=await c.vault.cachedRead(m),{exists:_,frontmatter:x}=(0,st.getFrontMatterInfo)(y);if(!_){new st.Notice(`The file "Template.md" in the folder "${f}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,6e3),pt(a,m);return}let T,C=We(l);for(;;){C++;let he=C.toString().padStart(3,"0");if(T=`${f}/${u} ${he}.md`,!c.vault.getFileByPath(T))break}let{blockId:Y,lineWithoutId:w}=Xe(n),W=new Date().toISOString().slice(0,-5),j=`${o.path.slice(0,-3)}#${Y}`,Q=["---",...x.split(`
`),"extraction-date: "+W,"extraction-source:",`  - "[[${j}]]"`,"---","","**Paragraph extracted from:**",`![[${j}]]`].join(`
`),re=await c.vault.create(T,Q),U=re.basename;et(n,re,U,w,Y),await pt(a,re),zt(c,"value")}function wn(a){let n=G(a.app);if(!n||be(n))return;if(b(a)!=="Data File"){new st.Notice("You must be in a Data File to make an extraction.",3e3);return}if(Ke(n))return;let l=Oe(a);if(!l)return;let c=n.editorComponent.view.file;l.length===1?Vr(a,n,c,l[0]):new Hr(a,n,l,c).open()}async function _n(a){let n=a.codeblockLabels.extractionOverview;await $t(a,n,"Extraction Type Overview")}function vn(a){let n=a.app,o=[];n.internalPlugins.plugins["global-search"].enable();let l=Oe(a);if(!l)return"\u26A0\uFE0F No valid extraction templates found.";for(let c of l){let u=n.vault.getFileByPath(c.path+"/Template.md");if(!u)continue;let f=n.metadataCache.getFileCache(u)?.frontmatter;if(!f){o.push(`\u26A0\uFE0F Invalid properties in template file for "${c.name}".`);continue}let m=`<a href="${u.path}" class="internal-link">${c.name}</a>`,y=Object.keys(f).map(x=>{let T=n.metadataTypeManager.getPropertyInfo(x)?.type||"",C=n.metadataCache.getFrontmatterPropertyValuesForKey(x),Y=7,w="";C.length>0&&!T.startsWith("date")&&(w=C.slice(0,Y).map(Q=>`<li><a href='${`obsidian://search?query=path:"${c.path}" ["${x}":"${Q}"]`}'>${Q}</a></li>`).join(""),C.length>Y&&(w+=`<li><i>${C.length-Y} more\u2026</i></li>`),w="<ul>"+w+"</ul>");let j=w||(T?": "+T:"");return`<li><b>${x}</b>${j}</li>`}),_=We(c);o.push(`<b>${m}</b> (${_}x)<ul>`+y.join("")+"</ul>")}return o.join("<br>")}var ae=require("obsidian");var jr=class extends Z{toBeMergedFile;toBeMergedFrontmatter;permaNotice;constructor(n,o){super(n),this.setPlaceholder(`Select Extraction File to merge "${o.basename}" into.`),this.toBeMergedFile=o,this.toBeMergedFrontmatter=this.app.metadataCache.getFileCache(this.toBeMergedFile)?.frontmatter||{};let l=`INFO
"Incongruence" refers to the dimensions that can not be automatically merged. The discarded values are saved, so you can manually fix the Extraction File after the merge operation.`;this.permaNotice=new ae.Notice(l,0)}onClose(){this.permaNotice.hide()}onNoSuggestion(){new ae.Notice("There must be at least two extractions of the same type to merge.",4e3),this.close()}getDiscardedProperties(n){let o=this.app.metadataCache.getFileCache(n)?.frontmatter||{},l={};for(let c in this.toBeMergedFrontmatter){let u=o[c],f=this.toBeMergedFrontmatter[c];Array.isArray(u)&&Array.isArray(f)||(!u&&u!==0||!f&&f!==0)||u===f||(c==="extraction-date"||c==="extraction-source")||(l[c]=u)}return l}getItems(){return this.toBeMergedFile.parent.children.filter(l=>l instanceof ae.TFile&&l.extension==="md"&&l.name!=="Template.md"&&l.path!==this.toBeMergedFile.path).sort((l,c)=>c.stat.mtime-l.stat.mtime)}getItemText(n){let o=Object.keys(this.getDiscardedProperties(n)).length,l=o>0?`    (${o}x incongruent)`:"";return n.basename+l}async onChooseItem(n){let{plugin:o,app:l}=this,c=this.getDiscardedProperties(n);o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,"",!1),o.trashWatcherUninstaller=rt(o);let u=n,f=(await l.vault.read(u)).replaceAll(`**Paragraph extracted from:**
`,"").replaceAll(`


`,`
`);if(Object.keys(c).length>0){let y=(0,ae.getFrontMatterInfo)(f).contentStart,_=["","```yaml","# Properties that could be not be automatically merged",(0,ae.stringifyYaml)(c).trim(),"```",""].join(`
`);f=f.slice(0,y)+_+f.slice(y)}setTimeout(async()=>await l.vault.modify(u,f),200),new ae.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function Fn(a){let n=G(a.app);if(!n)return;if(b(a)!=="Extraction File"){new ae.Notice("You must be in the Extraction File for this.",3e3);return}let o=n.editorComponent.view.file;new jr(a,o).open()}var xn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:wn,hotkeyLetter:"e",ribbonIcon:"plus-square"},{id:"extract-to-last-extraction-file",name:"Add paragraph to last Extraction File",func:cn,hotkeyLetter:"l",ribbonIcon:"square-asterisk"},{id:"merge-extractions",name:"Merge current Extraction File into another Extraction File",func:Fn,ribbonIcon:"square-dot"},{id:"aggregate-extractions",name:"Aggregate extractions",func:fn,ribbonIcon:"sigma-square"},{id:"create-new-extraction-type",name:"Create new Extraction Type",func:mn,ribbonIcon:"box-select"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:yn,ribbonIcon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Create/Goto extraction type overview file",func:_n,ribbonIcon:"square-equal"}];function Zt(a){let n=a.settings.suppressSuggestionInFields.map(l=>`[data-property-key="${l}"]`).join(", "),o=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!a.styleElSuppressSuggestionsInFields){let l=activeDocument.createElement("style");l.addClass(a.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),a.register(()=>l?.detach()),a.styleElSuppressSuggestionsInFields=l}a.styleElSuppressSuggestionsInFields.textContent=o,a.app.workspace.trigger("css-change")}function qt(a){let o=`body .metadata-property-key { min-width: ${a.settings.propertiesKeysWidthPercent}% }`;if(!a.styleElPropertyKeyWidth){let l=activeDocument.createElement("style");l.addClass(a.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),a.register(()=>l?.detach()),a.styleElPropertyKeyWidth=l}a.styleElPropertyKeyWidth.textContent=o,a.app.workspace.trigger("css-change")}var K=require("obsidian");function Qr(a){return(0,K.normalizePath)(a).replace(/:/g,"-")}var Jt=class extends K.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,o=this.plugin.settings,l={"min-width":"15rem"};n.empty(),n.addClass(this.plugin.cssclass),new K.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(c=>c.setPlaceholder("One property per line").setValue(o.suppressSuggestionInFields.join(`
`)).onChange(async u=>{let f=u.split(`
`).map(m=>m.trim()).filter(m=>m!=="");o.suppressSuggestionInFields=f,await this.plugin.saveSettings(),Zt(this.plugin)}).inputEl.setCssProps({"min-height":"5rem","min-width":"15rem"})),new K.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(c=>c.setLimits(20,60,5).setDynamicTooltip().setValue(o.propertiesKeysWidthPercent).onChange(async u=>{o.propertiesKeysWidthPercent=u,await this.plugin.saveSettings(),qt(this.plugin)})),n.createEl("h3",{text:"Coding"}),new K.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(c=>{new Le(this.plugin,c.inputEl),c.setPlaceholder(ue.coding.folder).setValue(o.coding.folder).onChange(async u=>{o.coding.folder=Qr(u)||ue.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(l)}),new K.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(o.coding.displayCount).onChange(async u=>{o.coding.displayCount=u,await this.plugin.saveSettings()})),new K.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(c=>{for(let u in Ht)c.addOption(u,u);c.setValue(o.coding.sortFunc).onChange(async u=>{o.coding.sortFunc=u,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new K.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(c=>{new Le(this.plugin,c.inputEl),c.setPlaceholder(ue.extraction.folder).setValue(o.extraction.folder).onChange(async u=>{o.extraction.folder=Qr(u)||ue.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(l)}),new K.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(o.extraction.displayCount).onChange(async u=>{o.extraction.displayCount=u,await this.plugin.saveSettings()})),new K.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(c=>{c.addOptions(Us).setValue(o.extraction.openingMode).onChange(async u=>{o.extraction.openingMode=u,await this.plugin.saveSettings()})}),new K.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(c=>{c.addOptions(As).setValue(o.extraction.csvSeparator).onChange(async u=>{o.extraction.csvSeparator=u,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new K.Setting(n).setName("Analysis folder").setDesc("Location where aggregations, overviews, and exports are stored.").addSearch(c=>{new Le(this.plugin,c.inputEl),c.setPlaceholder(ue.analysis.folder).setValue(o.analysis.folder).onChange(async u=>{o.analysis.folder=Qr(u)||ue.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(l)})}};function Xt(a){let{app:n,statusbar:o,settings:l}=a,c=n.workspace.getActiveFile();if(!c){o.setText("");return}let u=[];if(b(a)==="Code File"){let x=ft(a,c);u.push(`Code ${x}x assigned`)}else if(b(a)==="Extraction File"){let _=c.parent;if(_){let x=We(_);u.push(`${x}x extracted`)}}else{let _=n.metadataCache.resolvedLinks[c.path]||{},x=0,T=0;for(let[C,Y]of Object.entries(_))C.startsWith(l.coding.folder+"/")&&(x+=Y),C.startsWith(l.extraction.folder+"/")&&T++;x>0&&u.push(`${x} Codes`),T>0&&u.push(`${T} Extractions`)}let f=n.metadataCache.unresolvedLinks[c.path]||{},m=0;for(let[_,x]of Object.entries(f))m+=x;m>0&&u.push(`${m} invalid links`);let y=u.map(_=>_.replace(/^(1 .*)s$/,"$1")).join(", ");o.setText(y)}var er=class extends Tn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontypes-overview",codeOverview:"quadro-code-overview"};statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=ue;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...dn,...xn]){let o=this.addRibbonIcon(n.ribbonIcon,`Quadro: ${n.name}`,()=>n.func(this));o.addClass(this.cssclass),o.setCssProps({border:"1px solid var(--text-faint)"});let l={id:n.id,name:n.name,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(l.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(l)}this.statusbar.addClass(this.cssclass),Xt(this),this.registerEvent(this.app.workspace.on("file-open",()=>Xt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>Xt(this))),this.trashWatcherUninstaller=rt(this),await this.loadSettings(),this.addSettingTab(new Jt(this)),Zt(this),qt(this),Ze(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,o)=>{o.innerHTML=js(this),o.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,o)=>{o.innerHTML=vn(this),o.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},ue,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
