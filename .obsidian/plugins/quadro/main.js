/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var pl=Object.create;var Lt=Object.defineProperty;var gl=Object.getOwnPropertyDescriptor;var yl=Object.getOwnPropertyNames;var wl=Object.getPrototypeOf,_l=Object.prototype.hasOwnProperty;var vl=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),xl=(o,n)=>{for(var a in n)Lt(o,a,{get:n[a],enumerable:!0})},Ir=(o,n,a,d)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of yl(n))!_l.call(o,c)&&c!==a&&Lt(o,c,{get:()=>n[c],enumerable:!(d=gl(n,c))||d.enumerable});return o};var Pr=(o,n,a)=>(a=o!=null?pl(wl(o)):{},Ir(n||!o||!o.__esModule?Lt(a,"default",{value:o,enumerable:!0}):a,o)),Fl=o=>Ir(Lt({},"__esModule",{value:!0}),o);var Ds=vl((Cs,Ke)=>{(function(o,n){typeof Cs=="object"&&typeof Ke<"u"?Ke.exports=n():typeof define=="function"&&define.amd?define(n):o.moment=n()})(Cs,function(){"use strict";var o;function n(){return o.apply(null,arguments)}function a(e){o=e}function d(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function m(e){return e===void 0}function y(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function x(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function F(e,t){var s=[],r,i=e.length;for(r=0;r<i;++r)s.push(t(e[r],r));return s}function S(e,t){for(var s in t)u(t,s)&&(e[s]=t[s]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function k(e,t,s,r){return ur(e,t,s,r,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=N()),e._pf}var ee;Array.prototype.some?ee=Array.prototype.some:ee=function(e){var t=Object(this),s=t.length>>>0,r;for(r=0;r<s;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function te(e){if(e._isValid==null){var t=w(e),s=ee.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Z(e){var t=k(NaN);return e!=null?S(w(t),e):w(t).userInvalidated=!0,t}var Oe=n.momentProperties=[],A=!1;function ae(e,t){var s,r,i,l=Oe.length;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=w(t)),m(t._locale)||(e._locale=t._locale),l>0)for(s=0;s<l;s++)r=Oe[s],i=t[r],m(i)||(e[r]=i);return e}function se(e){ae(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A===!1&&(A=!0,n.updateOffset(this),A=!1)}function V(e){return e instanceof se||e!=null&&e._isAMomentObject!=null}function re(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function W(e,t){var s=!0;return S(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),s){var r=[],i,l,f,v=arguments.length;for(l=0;l<v;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(f in arguments[0])u(arguments[0],f)&&(i+=f+": "+arguments[0][f]+", ");i=i.slice(0,-2)}else i=arguments[l];r.push(i)}re(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var Se={};function Je(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),Se[e]||(re(t),Se[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function oe(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function gn(e){var t,s;for(s in e)u(e,s)&&(t=e[s],oe(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Xt(e,t){var s=S({},e),r;for(r in t)u(t,r)&&(c(e[r])&&c(t[r])?(s[r]={},S(s[r],e[r]),S(s[r],t[r])):t[r]!=null?s[r]=t[r]:delete s[r]);for(r in e)u(e,r)&&!u(t,r)&&c(e[r])&&(s[r]=S({},s[r]));return s}function es(e){e!=null&&this.set(e)}var ts;Object.keys?ts=Object.keys:ts=function(e){var t,s=[];for(t in e)u(e,t)&&s.push(t);return s};var yn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wn(e,t,s){var r=this._calendar[e]||this._calendar.sameElse;return oe(r)?r.call(t,s):r}function le(e,t,s){var r=""+Math.abs(e),i=t-r.length,l=e>=0;return(l?s?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var ss=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ht=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rs={},Ae={};function _(e,t,s,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Ae[e]=i),t&&(Ae[t[0]]=function(){return le(i.apply(this,arguments),t[1],t[2])}),s&&(Ae[s]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function _n(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function vn(e){var t=e.match(ss),s,r;for(s=0,r=t.length;s<r;s++)Ae[t[s]]?t[s]=Ae[t[s]]:t[s]=_n(t[s]);return function(i){var l="",f;for(f=0;f<r;f++)l+=oe(t[f])?t[f].call(i,e):t[f];return l}}function mt(e,t){return e.isValid()?(t=Vs(t,e.localeData()),rs[t]=rs[t]||vn(t),rs[t](e)):e.localeData().invalidDate()}function Vs(e,t){var s=5;function r(i){return t.longDateFormat(i)||i}for(ht.lastIndex=0;s>=0&&ht.test(e);)e=e.replace(ht,r),ht.lastIndex=0,s-=1;return e}var xn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Fn(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(ss).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Sn="Invalid date";function Tn(){return this._invalidDate}var kn="%d",Cn=/\d{1,2}/;function Dn(e){return this._ordinal.replace("%d",e)}var Mn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function bn(e,t,s,r){var i=this._relativeTime[s];return oe(i)?i(e,t,s,r):i.replace(/%d/i,e)}function On(e,t){var s=this._relativeTime[e>0?"future":"past"];return oe(s)?s(t):s.replace(/%s/i,t)}var Xe={};function U(e,t){var s=e.toLowerCase();Xe[s]=Xe[s+"s"]=Xe[t]=e}function q(e){return typeof e=="string"?Xe[e]||Xe[e.toLowerCase()]:void 0}function ns(e){var t={},s,r;for(r in e)u(e,r)&&(s=q(r),s&&(t[s]=e[r]));return t}var js={};function $(e,t){js[e]=t}function En(e){var t=[],s;for(s in e)u(e,s)&&t.push({unit:s,priority:js[s]});return t.sort(function(r,i){return r.priority-i.priority}),t}function pt(e){return e%4===0&&e%100!==0||e%400===0}function J(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=J(t)),s}function Ue(e,t){return function(s){return s!=null?(Qs(this,e,s),n.updateOffset(this,t),this):gt(this,e)}}function gt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Qs(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&pt(e.year())&&e.month()===1&&e.date()===29?(s=C(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),St(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function Yn(e){return e=q(e),oe(this[e])?this[e]():this}function In(e,t){if(typeof e=="object"){e=ns(e);var s=En(e),r,i=s.length;for(r=0;r<i;r++)this[s[r].unit](e[s[r].unit])}else if(e=q(e),oe(this[e]))return this[e](t);return this}var Gs=/\d/,z=/\d\d/,Bs=/\d{3}/,is=/\d{4}/,yt=/[+-]?\d{6}/,E=/\d\d?/,zs=/\d\d\d\d?/,Ks=/\d\d\d\d\d\d?/,wt=/\d{1,3}/,as=/\d{1,4}/,_t=/[+-]?\d{1,6}/,$e=/\d+/,vt=/[+-]?\d+/,Pn=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ln=/[+-]?\d+(\.\d{1,3})?/,et=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ft;Ft={};function g(e,t,s){Ft[e]=oe(t)?t:function(r,i){return r&&s?s:t}}function Nn(e,t){return u(Ft,e)?Ft[e](t._strict,t._locale):new RegExp(Wn(e))}function Wn(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,r,i,l){return s||r||i||l}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var os={};function b(e,t){var s,r=t,i;for(typeof e=="string"&&(e=[e]),y(t)&&(r=function(l,f){f[t]=C(l)}),i=e.length,s=0;s<i;s++)os[e[s]]=r}function tt(e,t){b(e,function(s,r,i,l){i._w=i._w||{},t(s,i._w,i,l)})}function Rn(e,t,s){t!=null&&u(os,e)&&os[e](t,s._a,s,e)}var H=0,ue=1,de=2,R=3,ne=4,fe=5,Ee=6,An=7,Un=8;function $n(e,t){return(e%t+t)%t}var L;Array.prototype.indexOf?L=Array.prototype.indexOf:L=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function St(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=$n(t,12);return e+=(t-s)/12,s===1?pt(e)?29:28:31-s%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("month","M"),$("month",8),g("M",E),g("MM",E,z),g("MMM",function(e,t){return t.monthsShortRegex(e)}),g("MMMM",function(e,t){return t.monthsRegex(e)}),b(["M","MM"],function(e,t){t[ue]=C(e)-1}),b(["MMM","MMMM"],function(e,t,s,r){var i=s._locale.monthsParse(e,r,s._strict);i!=null?t[ue]=i:w(s).invalidMonth=e});var Hn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Zs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vn=et,jn=et;function Qn(e,t){return e?d(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qs).test(t)?"format":"standalone"][e.month()]:d(this._months)?this._months:this._months.standalone}function Gn(e,t){return e?d(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qs.test(t)?"format":"standalone"][e.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Bn(e,t,s){var r,i,l,f=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)l=k([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(l,"").toLocaleLowerCase();return s?t==="MMM"?(i=L.call(this._shortMonthsParse,f),i!==-1?i:null):(i=L.call(this._longMonthsParse,f),i!==-1?i:null):t==="MMM"?(i=L.call(this._shortMonthsParse,f),i!==-1?i:(i=L.call(this._longMonthsParse,f),i!==-1?i:null)):(i=L.call(this._longMonthsParse,f),i!==-1?i:(i=L.call(this._shortMonthsParse,f),i!==-1?i:null))}function zn(e,t,s){var r,i,l;if(this._monthsParseExact)return Bn.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=k([2e3,r]),s&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!s&&!this._monthsParse[r]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(l.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(s&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!s&&this._monthsParse[r].test(e))return r}}function Js(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=C(t);else if(t=e.localeData().monthsParse(t),!y(t))return e}return s=Math.min(e.date(),St(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function Xs(e){return e!=null?(Js(this,e),n.updateOffset(this,!0),this):gt(this,"Month")}function Kn(){return St(this.year(),this.month())}function Zn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||er.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Vn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function qn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||er.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=jn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function er(){function e(f,v){return v.length-f.length}var t=[],s=[],r=[],i,l;for(i=0;i<12;i++)l=k([2e3,i]),t.push(this.monthsShort(l,"")),s.push(this.months(l,"")),r.push(this.months(l,"")),r.push(this.monthsShort(l,""));for(t.sort(e),s.sort(e),r.sort(e),i=0;i<12;i++)t[i]=K(t[i]),s[i]=K(s[i]);for(i=0;i<24;i++)r[i]=K(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?le(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),U("year","y"),$("year",1),g("Y",vt),g("YY",E,z),g("YYYY",as,is),g("YYYYY",_t,yt),g("YYYYYY",_t,yt),b(["YYYYY","YYYYYY"],H),b("YYYY",function(e,t){t[H]=e.length===2?n.parseTwoDigitYear(e):C(e)}),b("YY",function(e,t){t[H]=n.parseTwoDigitYear(e)}),b("Y",function(e,t){t[H]=parseInt(e,10)});function st(e){return pt(e)?366:365}n.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var tr=Ue("FullYear",!0);function Jn(){return pt(this.year())}function Xn(e,t,s,r,i,l,f){var v;return e<100&&e>=0?(v=new Date(e+400,t,s,r,i,l,f),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,t,s,r,i,l,f),v}function rt(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Tt(e,t,s){var r=7+t-s,i=(7+rt(e,0,r).getUTCDay()-t)%7;return-i+r-1}function sr(e,t,s,r,i){var l=(7+s-r)%7,f=Tt(e,r,i),v=1+7*(t-1)+l+f,T,O;return v<=0?(T=e-1,O=st(T)+v):v>st(e)?(T=e+1,O=v-st(e)):(T=e,O=v),{year:T,dayOfYear:O}}function nt(e,t,s){var r=Tt(e.year(),t,s),i=Math.floor((e.dayOfYear()-r-1)/7)+1,l,f;return i<1?(f=e.year()-1,l=i+he(f,t,s)):i>he(e.year(),t,s)?(l=i-he(e.year(),t,s),f=e.year()+1):(f=e.year(),l=i),{week:l,year:f}}function he(e,t,s){var r=Tt(e,t,s),i=Tt(e+1,t,s);return(st(e)-r+i)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),$("week",5),$("isoWeek",5),g("w",E),g("ww",E,z),g("W",E),g("WW",E,z),tt(["w","ww","W","WW"],function(e,t,s,r){t[r.substr(0,1)]=C(e)});function ei(e){return nt(e,this._week.dow,this._week.doy).week}var ti={dow:0,doy:6};function si(){return this._week.dow}function ri(){return this._week.doy}function ni(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ii(e){var t=nt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),g("d",E),g("e",E),g("E",E),g("dd",function(e,t){return t.weekdaysMinRegex(e)}),g("ddd",function(e,t){return t.weekdaysShortRegex(e)}),g("dddd",function(e,t){return t.weekdaysRegex(e)}),tt(["dd","ddd","dddd"],function(e,t,s,r){var i=s._locale.weekdaysParse(e,r,s._strict);i!=null?t.d=i:w(s).invalidWeekday=e}),tt(["d","e","E"],function(e,t,s,r){t[r]=C(e)});function ai(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function oi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ls(e,t){return e.slice(t,7).concat(e.slice(0,t))}var li="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),di="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ci=et,ui=et,fi=et;function hi(e,t){var s=d(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?ls(s,this._week.dow):e?s[e.day()]:s}function mi(e){return e===!0?ls(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function pi(e){return e===!0?ls(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function gi(e,t,s){var r,i,l,f=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)l=k([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(l,"").toLocaleLowerCase();return s?t==="dddd"?(i=L.call(this._weekdaysParse,f),i!==-1?i:null):t==="ddd"?(i=L.call(this._shortWeekdaysParse,f),i!==-1?i:null):(i=L.call(this._minWeekdaysParse,f),i!==-1?i:null):t==="dddd"?(i=L.call(this._weekdaysParse,f),i!==-1||(i=L.call(this._shortWeekdaysParse,f),i!==-1)?i:(i=L.call(this._minWeekdaysParse,f),i!==-1?i:null)):t==="ddd"?(i=L.call(this._shortWeekdaysParse,f),i!==-1||(i=L.call(this._weekdaysParse,f),i!==-1)?i:(i=L.call(this._minWeekdaysParse,f),i!==-1?i:null)):(i=L.call(this._minWeekdaysParse,f),i!==-1||(i=L.call(this._weekdaysParse,f),i!==-1)?i:(i=L.call(this._shortWeekdaysParse,f),i!==-1?i:null))}function yi(e,t,s){var r,i,l;if(this._weekdaysParseExact)return gi.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=k([2e3,1]).day(r),s&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(l.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(s&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(s&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!s&&this._weekdaysParse[r].test(e))return r}}function wi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ai(e,this.localeData()),this.add(e-t,"d")):t}function _i(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function vi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=oi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function xi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ds.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=ci),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ds.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ui),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Si(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ds.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ds(){function e(j,we){return we.length-j.length}var t=[],s=[],r=[],i=[],l,f,v,T,O;for(l=0;l<7;l++)f=k([2e3,1]).day(l),v=K(this.weekdaysMin(f,"")),T=K(this.weekdaysShort(f,"")),O=K(this.weekdays(f,"")),t.push(v),s.push(T),r.push(O),i.push(v),i.push(T),i.push(O);t.sort(e),s.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function cs(){return this.hours()%12||12}function Ti(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,cs),_("k",["kk",2],0,Ti),_("hmm",0,0,function(){return""+cs.apply(this)+le(this.minutes(),2)}),_("hmmss",0,0,function(){return""+cs.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)});function nr(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}nr("a",!0),nr("A",!1),U("hour","h"),$("hour",13);function ir(e,t){return t._meridiemParse}g("a",ir),g("A",ir),g("H",E),g("h",E),g("k",E),g("HH",E,z),g("hh",E,z),g("kk",E,z),g("hmm",zs),g("hmmss",Ks),g("Hmm",zs),g("Hmmss",Ks),b(["H","HH"],R),b(["k","kk"],function(e,t,s){var r=C(e);t[R]=r===24?0:r}),b(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e}),b(["h","hh"],function(e,t,s){t[R]=C(e),w(s).bigHour=!0}),b("hmm",function(e,t,s){var r=e.length-2;t[R]=C(e.substr(0,r)),t[ne]=C(e.substr(r)),w(s).bigHour=!0}),b("hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[R]=C(e.substr(0,r)),t[ne]=C(e.substr(r,2)),t[fe]=C(e.substr(i)),w(s).bigHour=!0}),b("Hmm",function(e,t,s){var r=e.length-2;t[R]=C(e.substr(0,r)),t[ne]=C(e.substr(r))}),b("Hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[R]=C(e.substr(0,r)),t[ne]=C(e.substr(r,2)),t[fe]=C(e.substr(i))});function ki(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ci=/[ap]\.?m?\.?/i,Di=Ue("Hours",!0);function Mi(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var ar={calendar:yn,longDateFormat:xn,invalidDate:Sn,ordinal:kn,dayOfMonthOrdinalParse:Cn,relativeTime:Mn,months:Hn,monthsShort:Zs,week:ti,weekdays:li,weekdaysMin:di,weekdaysShort:rr,meridiemParse:Ci},P={},it={},at;function bi(e,t){var s,r=Math.min(e.length,t.length);for(s=0;s<r;s+=1)if(e[s]!==t[s])return s;return r}function or(e){return e&&e.toLowerCase().replace("_","-")}function Oi(e){for(var t=0,s,r,i,l;t<e.length;){for(l=or(e[t]).split("-"),s=l.length,r=or(e[t+1]),r=r?r.split("-"):null;s>0;){if(i=kt(l.slice(0,s).join("-")),i)return i;if(r&&r.length>=s&&bi(l,r)>=s-1)break;s--}t++}return at}function Ei(e){return e.match("^[^/\\\\]*$")!=null}function kt(e){var t=null,s;if(P[e]===void 0&&typeof Ke<"u"&&Ke&&Ke.exports&&Ei(e))try{t=at._abbr,s=require,s("./locale/"+e),Te(t)}catch{P[e]=null}return P[e]}function Te(e,t){var s;return e&&(m(t)?s=me(e):s=us(e,t),s?at=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function us(e,t){if(t!==null){var s,r=ar;if(t.abbr=e,P[e]!=null)Je("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=P[e]._config;else if(t.parentLocale!=null)if(P[t.parentLocale]!=null)r=P[t.parentLocale]._config;else if(s=kt(t.parentLocale),s!=null)r=s._config;else return it[t.parentLocale]||(it[t.parentLocale]=[]),it[t.parentLocale].push({name:e,config:t}),null;return P[e]=new es(Xt(r,t)),it[e]&&it[e].forEach(function(i){us(i.name,i.config)}),Te(e),P[e]}else return delete P[e],null}function Yi(e,t){if(t!=null){var s,r,i=ar;P[e]!=null&&P[e].parentLocale!=null?P[e].set(Xt(P[e]._config,t)):(r=kt(e),r!=null&&(i=r._config),t=Xt(i,t),r==null&&(t.abbr=e),s=new es(t),s.parentLocale=P[e],P[e]=s),Te(e)}else P[e]!=null&&(P[e].parentLocale!=null?(P[e]=P[e].parentLocale,e===Te()&&Te(e)):P[e]!=null&&delete P[e]);return P[e]}function me(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return at;if(!d(e)){if(t=kt(e),t)return t;e=[e]}return Oi(e)}function Ii(){return ts(P)}function fs(e){var t,s=e._a;return s&&w(e).overflow===-2&&(t=s[ue]<0||s[ue]>11?ue:s[de]<1||s[de]>St(s[H],s[ue])?de:s[R]<0||s[R]>24||s[R]===24&&(s[ne]!==0||s[fe]!==0||s[Ee]!==0)?R:s[ne]<0||s[ne]>59?ne:s[fe]<0||s[fe]>59?fe:s[Ee]<0||s[Ee]>999?Ee:-1,w(e)._overflowDayOfYear&&(t<H||t>de)&&(t=de),w(e)._overflowWeeks&&t===-1&&(t=An),w(e)._overflowWeekday&&t===-1&&(t=Un),w(e).overflow=t),e}var Pi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ni=/Z|[+-]\d\d(?::?\d\d)?/,Ct=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wi=/^\/?Date\((-?\d+)/i,Ri=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ai={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lr(e){var t,s,r=e._i,i=Pi.exec(r)||Li.exec(r),l,f,v,T,O=Ct.length,j=hs.length;if(i){for(w(e).iso=!0,t=0,s=O;t<s;t++)if(Ct[t][1].exec(i[1])){f=Ct[t][0],l=Ct[t][2]!==!1;break}if(f==null){e._isValid=!1;return}if(i[3]){for(t=0,s=j;t<s;t++)if(hs[t][1].exec(i[3])){v=(i[2]||" ")+hs[t][0];break}if(v==null){e._isValid=!1;return}}if(!l&&v!=null){e._isValid=!1;return}if(i[4])if(Ni.exec(i[4]))T="Z";else{e._isValid=!1;return}e._f=f+(v||"")+(T||""),ps(e)}else e._isValid=!1}function Ui(e,t,s,r,i,l){var f=[$i(e),Zs.indexOf(t),parseInt(s,10),parseInt(r,10),parseInt(i,10)];return l&&f.push(parseInt(l,10)),f}function $i(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Hi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vi(e,t,s){if(e){var r=rr.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return w(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function ji(e,t,s){if(e)return Ai[e];if(t)return 0;var r=parseInt(s,10),i=r%100,l=(r-i)/100;return l*60+i}function dr(e){var t=Ri.exec(Hi(e._i)),s;if(t){if(s=Ui(t[4],t[3],t[2],t[5],t[6],t[7]),!Vi(t[1],s,e))return;e._a=s,e._tzm=ji(t[8],t[9],t[10]),e._d=rt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function Qi(e){var t=Wi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(lr(e),e._isValid===!1)delete e._isValid;else return;if(dr(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=W("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function He(e,t,s){return e??t??s}function Gi(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ms(e){var t,s,r=[],i,l,f;if(!e._d){for(i=Gi(e),e._w&&e._a[de]==null&&e._a[ue]==null&&Bi(e),e._dayOfYear!=null&&(f=He(e._a[H],i[H]),(e._dayOfYear>st(f)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),s=rt(f,0,e._dayOfYear),e._a[ue]=s.getUTCMonth(),e._a[de]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[R]===24&&e._a[ne]===0&&e._a[fe]===0&&e._a[Ee]===0&&(e._nextDay=!0,e._a[R]=0),e._d=(e._useUTC?rt:Xn).apply(null,r),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[R]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==l&&(w(e).weekdayMismatch=!0)}}function Bi(e){var t,s,r,i,l,f,v,T,O;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(l=1,f=4,s=He(t.GG,e._a[H],nt(Y(),1,4).year),r=He(t.W,1),i=He(t.E,1),(i<1||i>7)&&(T=!0)):(l=e._locale._week.dow,f=e._locale._week.doy,O=nt(Y(),l,f),s=He(t.gg,e._a[H],O.year),r=He(t.w,O.week),t.d!=null?(i=t.d,(i<0||i>6)&&(T=!0)):t.e!=null?(i=t.e+l,(t.e<0||t.e>6)&&(T=!0)):i=l),r<1||r>he(s,l,f)?w(e)._overflowWeeks=!0:T!=null?w(e)._overflowWeekday=!0:(v=sr(s,r,i,l,f),e._a[H]=v.year,e._dayOfYear=v.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function ps(e){if(e._f===n.ISO_8601){lr(e);return}if(e._f===n.RFC_2822){dr(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,s,r,i,l,f,v=t.length,T=0,O,j;for(i=Vs(e._f,e._locale).match(ss)||[],j=i.length,s=0;s<j;s++)l=i[s],r=(t.match(Nn(l,e))||[])[0],r&&(f=t.substr(0,t.indexOf(r)),f.length>0&&w(e).unusedInput.push(f),t=t.slice(t.indexOf(r)+r.length),T+=r.length),Ae[l]?(r?w(e).empty=!1:w(e).unusedTokens.push(l),Rn(l,r,e)):e._strict&&!r&&w(e).unusedTokens.push(l);w(e).charsLeftOver=v-T,t.length>0&&w(e).unusedInput.push(t),e._a[R]<=12&&w(e).bigHour===!0&&e._a[R]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[R]=zi(e._locale,e._a[R],e._meridiem),O=w(e).era,O!==null&&(e._a[H]=e._locale.erasConvertYear(O,e._a[H])),ms(e),fs(e)}function zi(e,t,s){var r;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(r=e.isPM(s),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Ki(e){var t,s,r,i,l,f,v=!1,T=e._f.length;if(T===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<T;i++)l=0,f=!1,t=ae({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],ps(t),te(t)&&(f=!0),l+=w(t).charsLeftOver,l+=w(t).unusedTokens.length*10,w(t).score=l,v?l<r&&(r=l,s=t):(r==null||l<r||f)&&(r=l,s=t,f&&(v=!0));S(e,s||t)}function Zi(e){if(!e._d){var t=ns(e._i),s=t.day===void 0?t.date:t.day;e._a=F([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),ms(e)}}function qi(e){var t=new se(fs(cr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function cr(e){var t=e._i,s=e._f;return e._locale=e._locale||me(e._l),t===null||s===void 0&&t===""?Z({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),V(t)?new se(fs(t)):(x(t)?e._d=t:d(s)?Ki(e):s?ps(e):Ji(e),te(e)||(e._d=null),e))}function Ji(e){var t=e._i;m(t)?e._d=new Date(n.now()):x(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Qi(e):d(t)?(e._a=F(t.slice(0),function(s){return parseInt(s,10)}),ms(e)):c(t)?Zi(e):y(t)?e._d=new Date(t):n.createFromInputFallback(e)}function ur(e,t,s,r,i){var l={};return(t===!0||t===!1)&&(r=t,t=void 0),(s===!0||s===!1)&&(r=s,s=void 0),(c(e)&&p(e)||d(e)&&e.length===0)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=s,l._i=e,l._f=t,l._strict=r,qi(l)}function Y(e,t,s,r){return ur(e,t,s,r,!1)}var Xi=W("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Z()}),ea=W("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Z()});function fr(e,t){var s,r;if(t.length===1&&d(t[0])&&(t=t[0]),!t.length)return Y();for(s=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](s))&&(s=t[r]);return s}function ta(){var e=[].slice.call(arguments,0);return fr("isBefore",e)}function sa(){var e=[].slice.call(arguments,0);return fr("isAfter",e)}var ra=function(){return Date.now?Date.now():+new Date},ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function na(e){var t,s=!1,r,i=ot.length;for(t in e)if(u(e,t)&&!(L.call(ot,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[ot[r]]){if(s)return!1;parseFloat(e[ot[r]])!==C(e[ot[r]])&&(s=!0)}return!0}function ia(){return this._isValid}function aa(){return ie(NaN)}function Dt(e){var t=ns(e),s=t.year||0,r=t.quarter||0,i=t.month||0,l=t.week||t.isoWeek||0,f=t.day||0,v=t.hour||0,T=t.minute||0,O=t.second||0,j=t.millisecond||0;this._isValid=na(t),this._milliseconds=+j+O*1e3+T*6e4+v*1e3*60*60,this._days=+f+l*7,this._months=+i+r*3+s*12,this._data={},this._locale=me(),this._bubble()}function Mt(e){return e instanceof Dt}function gs(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function oa(e,t,s){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),l=0,f;for(f=0;f<r;f++)(s&&e[f]!==t[f]||!s&&C(e[f])!==C(t[f]))&&l++;return l+i}function hr(e,t){_(e,0,0,function(){var s=this.utcOffset(),r="+";return s<0&&(s=-s,r="-"),r+le(~~(s/60),2)+t+le(~~s%60,2)})}hr("Z",":"),hr("ZZ",""),g("Z",xt),g("ZZ",xt),b(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=ys(xt,e)});var la=/([\+\-]|\d\d)/gi;function ys(e,t){var s=(t||"").match(e),r,i,l;return s===null?null:(r=s[s.length-1]||[],i=(r+"").match(la)||["-",0,0],l=+(i[1]*60)+C(i[2]),l===0?0:i[0]==="+"?l:-l)}function ws(e,t){var s,r;return t._isUTC?(s=t.clone(),r=(V(e)||x(e)?e.valueOf():Y(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+r),n.updateOffset(s,!1),s):Y(e).local()}function _s(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function da(e,t,s){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ys(xt,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(i=_s(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?yr(this,ie(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:_s(this)}function ca(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ua(e){return this.utcOffset(0,e)}function fa(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(_s(this),"m")),this}function ha(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ys(Pn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ma(e){return this.isValid()?(e=e?Y(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function pa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ga(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ae(e,this),e=cr(e),e._a?(t=e._isUTC?k(e._a):Y(e._a),this._isDSTShifted=this.isValid()&&oa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ya(){return this.isValid()?!this._isUTC:!1}function wa(){return this.isValid()?this._isUTC:!1}function mr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _a=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,va=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ie(e,t){var s=e,r=null,i,l,f;return Mt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:y(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(r=_a.exec(e))?(i=r[1]==="-"?-1:1,s={y:0,d:C(r[de])*i,h:C(r[R])*i,m:C(r[ne])*i,s:C(r[fe])*i,ms:C(gs(r[Ee]*1e3))*i}):(r=va.exec(e))?(i=r[1]==="-"?-1:1,s={y:Ye(r[2],i),M:Ye(r[3],i),w:Ye(r[4],i),d:Ye(r[5],i),h:Ye(r[6],i),m:Ye(r[7],i),s:Ye(r[8],i)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(f=xa(Y(s.from),Y(s.to)),s={},s.ms=f.milliseconds,s.M=f.months),l=new Dt(s),Mt(e)&&u(e,"_locale")&&(l._locale=e._locale),Mt(e)&&u(e,"_isValid")&&(l._isValid=e._isValid),l}ie.fn=Dt.prototype,ie.invalid=aa;function Ye(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function pr(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function xa(e,t){var s;return e.isValid()&&t.isValid()?(t=ws(t,e),e.isBefore(t)?s=pr(e,t):(s=pr(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function gr(e,t){return function(s,r){var i,l;return r!==null&&!isNaN(+r)&&(Je(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=s,s=r,r=l),i=ie(s,r),yr(this,i,e),this}}function yr(e,t,s,r){var i=t._milliseconds,l=gs(t._days),f=gs(t._months);e.isValid()&&(r=r??!0,f&&Js(e,gt(e,"Month")+f*s),l&&Qs(e,"Date",gt(e,"Date")+l*s),i&&e._d.setTime(e._d.valueOf()+i*s),r&&n.updateOffset(e,l||f))}var Fa=gr(1,"add"),Sa=gr(-1,"subtract");function wr(e){return typeof e=="string"||e instanceof String}function Ta(e){return V(e)||x(e)||wr(e)||y(e)||Ca(e)||ka(e)||e===null||e===void 0}function ka(e){var t=c(e)&&!p(e),s=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,f=r.length;for(i=0;i<f;i+=1)l=r[i],s=s||u(e,l);return t&&s}function Ca(e){var t=d(e),s=!1;return t&&(s=e.filter(function(r){return!y(r)&&wr(e)}).length===0),t&&s}function Da(e){var t=c(e)&&!p(e),s=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<r.length;i+=1)l=r[i],s=s||u(e,l);return t&&s}function Ma(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function ba(e,t){arguments.length===1&&(arguments[0]?Ta(arguments[0])?(e=arguments[0],t=void 0):Da(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||Y(),r=ws(s,this).startOf("day"),i=n.calendarFormat(this,r)||"sameElse",l=t&&(oe(t[i])?t[i].call(this,s):t[i]);return this.format(l||this.localeData().calendar(i,this,Y(s)))}function Oa(){return new se(this)}function Ea(e,t){var s=V(e)?e:Y(e);return this.isValid()&&s.isValid()?(t=q(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ya(e,t){var s=V(e)?e:Y(e);return this.isValid()&&s.isValid()?(t=q(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function Ia(e,t,s,r){var i=V(e)?e:Y(e),l=V(t)?t:Y(t);return this.isValid()&&i.isValid()&&l.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,s):!this.isBefore(i,s))&&(r[1]===")"?this.isBefore(l,s):!this.isAfter(l,s))):!1}function Pa(e,t){var s=V(e)?e:Y(e),r;return this.isValid()&&s.isValid()?(t=q(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(r=s.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function La(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Na(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Wa(e,t,s){var r,i,l;if(!this.isValid())return NaN;if(r=ws(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=q(t),t){case"year":l=bt(this,r)/12;break;case"month":l=bt(this,r);break;case"quarter":l=bt(this,r)/3;break;case"second":l=(this-r)/1e3;break;case"minute":l=(this-r)/6e4;break;case"hour":l=(this-r)/36e5;break;case"day":l=(this-r-i)/864e5;break;case"week":l=(this-r-i)/6048e5;break;default:l=this-r}return s?l:J(l)}function bt(e,t){if(e.date()<t.date())return-bt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(s,"months"),i,l;return t-r<0?(i=e.clone().add(s-1,"months"),l=(t-r)/(r-i)):(i=e.clone().add(s+1,"months"),l=(t-r)/(i-r)),-(s+l)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ra(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Aa(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?mt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):oe(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",mt(s,"Z")):mt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ua(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,r,i,l;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=t+'[")]',this.format(s+r+i+l)}function $a(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=mt(this,e);return this.localeData().postformat(t)}function Ha(e,t){return this.isValid()&&(V(e)&&e.isValid()||Y(e).isValid())?ie({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Va(e){return this.from(Y(),e)}function ja(e,t){return this.isValid()&&(V(e)&&e.isValid()||Y(e).isValid())?ie({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Qa(e){return this.to(Y(),e)}function _r(e){var t;return e===void 0?this._locale._abbr:(t=me(e),t!=null&&(this._locale=t),this)}var vr=W("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function xr(){return this._locale}var Ot=1e3,Ve=60*Ot,Et=60*Ve,Fr=(365*400+97)*24*Et;function je(e,t){return(e%t+t)%t}function Sr(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-Fr:new Date(e,t,s).valueOf()}function Tr(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-Fr:Date.UTC(e,t,s)}function Ga(e){var t,s;if(e=q(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Tr:Sr,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=je(t+(this._isUTC?0:this.utcOffset()*Ve),Et);break;case"minute":t=this._d.valueOf(),t-=je(t,Ve);break;case"second":t=this._d.valueOf(),t-=je(t,Ot);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ba(e){var t,s;if(e=q(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Tr:Sr,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Et-je(t+(this._isUTC?0:this.utcOffset()*Ve),Et)-1;break;case"minute":t=this._d.valueOf(),t+=Ve-je(t,Ve)-1;break;case"second":t=this._d.valueOf(),t+=Ot-je(t,Ot)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function za(){return this._d.valueOf()-(this._offset||0)*6e4}function Ka(){return Math.floor(this.valueOf()/1e3)}function Za(){return new Date(this.valueOf())}function qa(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ja(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Xa(){return this.isValid()?this.toISOString():null}function eo(){return te(this)}function to(){return S({},w(this))}function so(){return w(this).overflow}function ro(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),g("N",vs),g("NN",vs),g("NNN",vs),g("NNNN",po),g("NNNNN",go),b(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,r){var i=s._locale.erasParse(e,r,s._strict);i?w(s).era=i:w(s).invalidEra=e}),g("y",$e),g("yy",$e),g("yyy",$e),g("yyyy",$e),g("yo",yo),b(["y","yy","yyy","yyyy"],H),b(["yo"],function(e,t,s,r){var i;s._locale._eraYearOrdinalRegex&&(i=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[H]=s._locale.eraYearOrdinalParse(e,i):t[H]=parseInt(e,10)});function no(e,t){var s,r,i,l=this._eras||me("en")._eras;for(s=0,r=l.length;s<r;++s){switch(typeof l[s].since){case"string":i=n(l[s].since).startOf("day"),l[s].since=i.valueOf();break}switch(typeof l[s].until){case"undefined":l[s].until=1/0;break;case"string":i=n(l[s].until).startOf("day").valueOf(),l[s].until=i.valueOf();break}}return l}function io(e,t,s){var r,i,l=this.eras(),f,v,T;for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(f=l[r].name.toUpperCase(),v=l[r].abbr.toUpperCase(),T=l[r].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(v===e)return l[r];break;case"NNNN":if(f===e)return l[r];break;case"NNNNN":if(T===e)return l[r];break}else if([f,v,T].indexOf(e)>=0)return l[r]}function ao(e,t){var s=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*s}function oo(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].name;return""}function lo(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].narrow;return""}function co(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].abbr;return""}function uo(){var e,t,s,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(s=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-n(i[e].since).year())*s+i[e].offset;return this.year()}function fo(e){return u(this,"_erasNameRegex")||xs.call(this),e?this._erasNameRegex:this._erasRegex}function ho(e){return u(this,"_erasAbbrRegex")||xs.call(this),e?this._erasAbbrRegex:this._erasRegex}function mo(e){return u(this,"_erasNarrowRegex")||xs.call(this),e?this._erasNarrowRegex:this._erasRegex}function vs(e,t){return t.erasAbbrRegex(e)}function po(e,t){return t.erasNameRegex(e)}function go(e,t){return t.erasNarrowRegex(e)}function yo(e,t){return t._eraYearOrdinalRegex||$e}function xs(){var e=[],t=[],s=[],r=[],i,l,f=this.eras();for(i=0,l=f.length;i<l;++i)t.push(K(f[i].name)),e.push(K(f[i].abbr)),s.push(K(f[i].narrow)),r.push(K(f[i].name)),r.push(K(f[i].abbr)),r.push(K(f[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Yt(e,t){_(0,[e,e.length],0,t)}Yt("gggg","weekYear"),Yt("ggggg","weekYear"),Yt("GGGG","isoWeekYear"),Yt("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),g("G",vt),g("g",vt),g("GG",E,z),g("gg",E,z),g("GGGG",as,is),g("gggg",as,is),g("GGGGG",_t,yt),g("ggggg",_t,yt),tt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,r){t[r.substr(0,2)]=C(e)}),tt(["gg","GG"],function(e,t,s,r){t[r]=n.parseTwoDigitYear(e)});function wo(e){return kr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _o(e){return kr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function vo(){return he(this.year(),1,4)}function xo(){return he(this.isoWeekYear(),1,4)}function Fo(){var e=this.localeData()._week;return he(this.year(),e.dow,e.doy)}function So(){var e=this.localeData()._week;return he(this.weekYear(),e.dow,e.doy)}function kr(e,t,s,r,i){var l;return e==null?nt(this,r,i).year:(l=he(e,r,i),t>l&&(t=l),To.call(this,e,t,s,r,i))}function To(e,t,s,r,i){var l=sr(e,t,s,r,i),f=rt(l.year,0,l.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}_("Q",0,"Qo","quarter"),U("quarter","Q"),$("quarter",7),g("Q",Gs),b("Q",function(e,t){t[ue]=(C(e)-1)*3});function ko(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),U("date","D"),$("date",9),g("D",E),g("DD",E,z),g("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),b(["D","DD"],de),b("Do",function(e,t){t[de]=C(e.match(E)[0])});var Cr=Ue("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),$("dayOfYear",4),g("DDD",wt),g("DDDD",Bs),b(["DDD","DDDD"],function(e,t,s){s._dayOfYear=C(e)});function Co(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),U("minute","m"),$("minute",14),g("m",E),g("mm",E,z),b(["m","mm"],ne);var Do=Ue("Minutes",!1);_("s",["ss",2],0,"second"),U("second","s"),$("second",15),g("s",E),g("ss",E,z),b(["s","ss"],fe);var Mo=Ue("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),U("millisecond","ms"),$("millisecond",16),g("S",wt,Gs),g("SS",wt,z),g("SSS",wt,Bs);var ke,Dr;for(ke="SSSS";ke.length<=9;ke+="S")g(ke,$e);function bo(e,t){t[Ee]=C(("0."+e)*1e3)}for(ke="S";ke.length<=9;ke+="S")b(ke,bo);Dr=Ue("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Oo(){return this._isUTC?"UTC":""}function Eo(){return this._isUTC?"Coordinated Universal Time":""}var h=se.prototype;h.add=Fa,h.calendar=ba,h.clone=Oa,h.diff=Wa,h.endOf=Ba,h.format=$a,h.from=Ha,h.fromNow=Va,h.to=ja,h.toNow=Qa,h.get=Yn,h.invalidAt=so,h.isAfter=Ea,h.isBefore=Ya,h.isBetween=Ia,h.isSame=Pa,h.isSameOrAfter=La,h.isSameOrBefore=Na,h.isValid=eo,h.lang=vr,h.locale=_r,h.localeData=xr,h.max=ea,h.min=Xi,h.parsingFlags=to,h.set=In,h.startOf=Ga,h.subtract=Sa,h.toArray=qa,h.toObject=Ja,h.toDate=Za,h.toISOString=Aa,h.inspect=Ua,typeof Symbol<"u"&&Symbol.for!=null&&(h[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),h.toJSON=Xa,h.toString=Ra,h.unix=Ka,h.valueOf=za,h.creationData=ro,h.eraName=oo,h.eraNarrow=lo,h.eraAbbr=co,h.eraYear=uo,h.year=tr,h.isLeapYear=Jn,h.weekYear=wo,h.isoWeekYear=_o,h.quarter=h.quarters=ko,h.month=Xs,h.daysInMonth=Kn,h.week=h.weeks=ni,h.isoWeek=h.isoWeeks=ii,h.weeksInYear=Fo,h.weeksInWeekYear=So,h.isoWeeksInYear=vo,h.isoWeeksInISOWeekYear=xo,h.date=Cr,h.day=h.days=wi,h.weekday=_i,h.isoWeekday=vi,h.dayOfYear=Co,h.hour=h.hours=Di,h.minute=h.minutes=Do,h.second=h.seconds=Mo,h.millisecond=h.milliseconds=Dr,h.utcOffset=da,h.utc=ua,h.local=fa,h.parseZone=ha,h.hasAlignedHourOffset=ma,h.isDST=pa,h.isLocal=ya,h.isUtcOffset=wa,h.isUtc=mr,h.isUTC=mr,h.zoneAbbr=Oo,h.zoneName=Eo,h.dates=W("dates accessor is deprecated. Use date instead.",Cr),h.months=W("months accessor is deprecated. Use month instead",Xs),h.years=W("years accessor is deprecated. Use year instead",tr),h.zone=W("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ca),h.isDSTShifted=W("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ga);function Yo(e){return Y(e*1e3)}function Io(){return Y.apply(null,arguments).parseZone()}function Mr(e){return e}var M=es.prototype;M.calendar=wn,M.longDateFormat=Fn,M.invalidDate=Tn,M.ordinal=Dn,M.preparse=Mr,M.postformat=Mr,M.relativeTime=bn,M.pastFuture=On,M.set=gn,M.eras=no,M.erasParse=io,M.erasConvertYear=ao,M.erasAbbrRegex=ho,M.erasNameRegex=fo,M.erasNarrowRegex=mo,M.months=Qn,M.monthsShort=Gn,M.monthsParse=zn,M.monthsRegex=qn,M.monthsShortRegex=Zn,M.week=ei,M.firstDayOfYear=ri,M.firstDayOfWeek=si,M.weekdays=hi,M.weekdaysMin=pi,M.weekdaysShort=mi,M.weekdaysParse=yi,M.weekdaysRegex=xi,M.weekdaysShortRegex=Fi,M.weekdaysMinRegex=Si,M.isPM=ki,M.meridiem=Mi;function It(e,t,s,r){var i=me(),l=k().set(r,t);return i[s](l,e)}function br(e,t,s){if(y(e)&&(t=e,e=void 0),e=e||"",t!=null)return It(e,t,s,"month");var r,i=[];for(r=0;r<12;r++)i[r]=It(e,r,s,"month");return i}function Fs(e,t,s,r){typeof e=="boolean"?(y(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,y(t)&&(s=t,t=void 0),t=t||"");var i=me(),l=e?i._week.dow:0,f,v=[];if(s!=null)return It(t,(s+l)%7,r,"day");for(f=0;f<7;f++)v[f]=It(t,(f+l)%7,r,"day");return v}function Po(e,t){return br(e,t,"months")}function Lo(e,t){return br(e,t,"monthsShort")}function No(e,t,s){return Fs(e,t,s,"weekdays")}function Wo(e,t,s){return Fs(e,t,s,"weekdaysShort")}function Ro(e,t,s){return Fs(e,t,s,"weekdaysMin")}Te("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=C(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}}),n.lang=W("moment.lang is deprecated. Use moment.locale instead.",Te),n.langData=W("moment.langData is deprecated. Use moment.localeData instead.",me);var pe=Math.abs;function Ao(){var e=this._data;return this._milliseconds=pe(this._milliseconds),this._days=pe(this._days),this._months=pe(this._months),e.milliseconds=pe(e.milliseconds),e.seconds=pe(e.seconds),e.minutes=pe(e.minutes),e.hours=pe(e.hours),e.months=pe(e.months),e.years=pe(e.years),this}function Or(e,t,s,r){var i=ie(t,s);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Uo(e,t){return Or(this,e,t,1)}function $o(e,t){return Or(this,e,t,-1)}function Er(e){return e<0?Math.floor(e):Math.ceil(e)}function Ho(){var e=this._milliseconds,t=this._days,s=this._months,r=this._data,i,l,f,v,T;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Er(Ss(s)+t)*864e5,t=0,s=0),r.milliseconds=e%1e3,i=J(e/1e3),r.seconds=i%60,l=J(i/60),r.minutes=l%60,f=J(l/60),r.hours=f%24,t+=J(f/24),T=J(Yr(t)),s+=T,t-=Er(Ss(T)),v=J(s/12),s%=12,r.days=t,r.months=s,r.years=v,this}function Yr(e){return e*4800/146097}function Ss(e){return e*146097/4800}function Vo(e){if(!this.isValid())return NaN;var t,s,r=this._milliseconds;if(e=q(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,s=this._months+Yr(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Ss(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function jo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+C(this._months/12)*31536e6:NaN}function ge(e){return function(){return this.as(e)}}var Qo=ge("ms"),Go=ge("s"),Bo=ge("m"),zo=ge("h"),Ko=ge("d"),Zo=ge("w"),qo=ge("M"),Jo=ge("Q"),Xo=ge("y");function el(){return ie(this)}function tl(e){return e=q(e),this.isValid()?this[e+"s"]():NaN}function Ie(e){return function(){return this.isValid()?this._data[e]:NaN}}var sl=Ie("milliseconds"),rl=Ie("seconds"),nl=Ie("minutes"),il=Ie("hours"),al=Ie("days"),ol=Ie("months"),ll=Ie("years");function dl(){return J(this.days()/7)}var ye=Math.round,Qe={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function cl(e,t,s,r,i){return i.relativeTime(t||1,!!s,e,r)}function ul(e,t,s,r){var i=ie(e).abs(),l=ye(i.as("s")),f=ye(i.as("m")),v=ye(i.as("h")),T=ye(i.as("d")),O=ye(i.as("M")),j=ye(i.as("w")),we=ye(i.as("y")),Ce=l<=s.ss&&["s",l]||l<s.s&&["ss",l]||f<=1&&["m"]||f<s.m&&["mm",f]||v<=1&&["h"]||v<s.h&&["hh",v]||T<=1&&["d"]||T<s.d&&["dd",T];return s.w!=null&&(Ce=Ce||j<=1&&["w"]||j<s.w&&["ww",j]),Ce=Ce||O<=1&&["M"]||O<s.M&&["MM",O]||we<=1&&["y"]||["yy",we],Ce[2]=t,Ce[3]=+e>0,Ce[4]=r,cl.apply(null,Ce)}function fl(e){return e===void 0?ye:typeof e=="function"?(ye=e,!0):!1}function hl(e,t){return Qe[e]===void 0?!1:t===void 0?Qe[e]:(Qe[e]=t,e==="s"&&(Qe.ss=t-1),!0)}function ml(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,r=Qe,i,l;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(r=Object.assign({},Qe,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),l=ul(this,!s,r,i),s&&(l=i.pastFuture(+this,l)),i.postformat(l)}var Ts=Math.abs;function Ge(e){return(e>0)-(e<0)||+e}function Pt(){if(!this.isValid())return this.localeData().invalidDate();var e=Ts(this._milliseconds)/1e3,t=Ts(this._days),s=Ts(this._months),r,i,l,f,v=this.asSeconds(),T,O,j,we;return v?(r=J(e/60),i=J(r/60),e%=60,r%=60,l=J(s/12),s%=12,f=e?e.toFixed(3).replace(/\.?0+$/,""):"",T=v<0?"-":"",O=Ge(this._months)!==Ge(v)?"-":"",j=Ge(this._days)!==Ge(v)?"-":"",we=Ge(this._milliseconds)!==Ge(v)?"-":"",T+"P"+(l?O+l+"Y":"")+(s?O+s+"M":"")+(t?j+t+"D":"")+(i||r||e?"T":"")+(i?we+i+"H":"")+(r?we+r+"M":"")+(e?we+f+"S":"")):"P0D"}var D=Dt.prototype;D.isValid=ia,D.abs=Ao,D.add=Uo,D.subtract=$o,D.as=Vo,D.asMilliseconds=Qo,D.asSeconds=Go,D.asMinutes=Bo,D.asHours=zo,D.asDays=Ko,D.asWeeks=Zo,D.asMonths=qo,D.asQuarters=Jo,D.asYears=Xo,D.valueOf=jo,D._bubble=Ho,D.clone=el,D.get=tl,D.milliseconds=sl,D.seconds=rl,D.minutes=nl,D.hours=il,D.days=al,D.weeks=dl,D.months=ol,D.years=ll,D.humanize=ml,D.toISOString=Pt,D.toString=Pt,D.toJSON=Pt,D.locale=_r,D.localeData=xr,D.toIsoString=W("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pt),D.lang=vr,_("X",0,0,"unix"),_("x",0,0,"valueOf"),g("x",vt),g("X",Ln),b("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)}),b("x",function(e,t,s){s._d=new Date(C(e))});return n.version="2.29.4",a(Y),n.fn=h,n.min=ta,n.max=sa,n.now=ra,n.utc=k,n.unix=Yo,n.months=Po,n.isDate=x,n.locale=Te,n.invalid=Z,n.duration=ie,n.isMoment=V,n.weekdays=No,n.parseZone=Io,n.localeData=me,n.isDuration=Mt,n.monthsShort=Lo,n.weekdaysMin=Ro,n.defineLocale=us,n.updateLocale=Yi,n.locales=Ii,n.weekdaysShort=Wo,n.normalizeUnits=q,n.relativeTimeRounding=fl,n.relativeTimeThreshold=hl,n.calendarFormat=Ma,n.prototype=h,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Ml={};xl(Ml,{default:()=>Jt});module.exports=Fl(Ml);var pn=require("obsidian");var _e=require("obsidian");var lt=require("obsidian"),dt={state:{source:!1,mode:"source"}},De=/\[\[(.+?)([|#].*?)?\]\] ?/;function I(o,n){let{app:a,settings:d}=o,c=n===void 0?a.workspace.getActiveFile():typeof n=="string"?a.vault.getFileByPath(n):n;return!c||!(c instanceof lt.TFile)||c.extension!=="md"?!1:c.name==="Template.md"?"Template":c.path.startsWith(d.coding.folder+"/")?"Code File":c.path.startsWith(d.extraction.folder+"/")?"Extraction File":"Data File"}function B(o){let n=o.workspace.activeEditor?.editor;return n||new lt.Notice("No active editor."),n}function Me(o){let n=o.getCursor("head").line!==o.getCursor("anchor").line,a=o.listSelections().length>1;return n||a?(new lt.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Nt(o){o.vault.setConfig("useMarkdownLinks",!1)}function Be(o){o.metadataTypeManager.setType("extraction date","datetime"),o.metadataTypeManager.setType("extraction source","text"),o.metadataTypeManager.setType("code description","text")}var Wt={"last used first":(o,n)=>n.stat.mtime-o.stat.mtime,"oldest used first":(o,n)=>o.stat.mtime-n.stat.mtime,"frequently used first":(o,n)=>n.stat.size-o.stat.size,"rarely used first":(o,n)=>o.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(o,n)=>o.basename.localeCompare(n.basename)},Lr={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Nr={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},ce={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:","},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function ks(o,n){return n.path.slice(o.settings.coding.folder.length+1,-3)}function Rt(o,n){return n?n.path===o.settings.coding.folder+"/Template.md":!1}function ct(o,n){let a=o.app.metadataCache.resolvedLinks[n.path]||{},d=0;for(let[c,u]of Object.entries(a))I(o,c)==="Data File"&&(d+=u);return d}function At(o,n,a){let d=o.app;return(a.match(new RegExp(De,"g"))||[]).reduce((p,m)=>{let[y,x]=m.match(De)||[];if(!x)return p;let F=d.metadataCache.getFirstLinkpathDest(x,n.path);return F&&I(o,F)==="Code File"&&p.push({tFile:F,wikilink:m}),p},[])}function Ut(o){let n=o.app.vault.getMarkdownFiles().filter(d=>I(o,d)==="Code File"),a=Wt[o.settings.coding.sortFunc];return n.sort(a),n}function ze(o,n){let a=ks(o,n);if(!o.settings.coding.displayCount)return a;let c=ct(o,n);return`${a} (${c}x)`}function Wr(o,n){let{app:a,settings:d}=o,c=[...n.children];c.sort((p,m)=>p instanceof _e.TFolder&&m instanceof _e.TFile?-1:p instanceof _e.TFile&&m instanceof _e.TFolder?1:p.name.localeCompare(m.name));let u="";for(let p of c)if(p instanceof _e.TFolder){let m=p;if(!m.children.some(F=>F instanceof _e.TFile&&F.extension==="md"))continue;let x=Wr(o,m);u+=`<li>\u{1F4C1} ${m.name} ${x}</li>`}else if(p instanceof _e.TFile){let m=p,y=m.path===d.coding.folder+"/Template.md",x=m.extension!=="md";if(y||x)continue;let F=a.metadataCache.getFileCache(m)?.frontmatter?.["code description"],S=F?": "+F:"",k=`<a href="${m.path}" class="internal-link">${m.basename}</a>`,N=ct(o,m);u+=`<li>\u{1F4C4} ${k} (${N}x)${S}</li>`}return`<ul>${u}</ul>`}function Rr(o){let n=B(o.app);if(!n)return;let a=["```quadro-code-overview","```",""].join(`
`);n?.replaceSelection(a)}function Ar(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.coding.folder);return d?Wr(o,d):`\u26A0\uFE0F Code folder "${a.coding.folder}" not found.`}var Es=require("obsidian");var Ur=Pr(Ds()),Ms=/\^[\w-]+$/,$r=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function $t(o){let[n]=o.match(Ms)||[];if(n){let d=o.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:d}}return{blockId:"^id-"+(0,Ur.default)().format("YYMMDD-HHmmss"),lineWithoutId:o.trim()}}var Ht=require("obsidian"),X=class extends Ht.FuzzySuggestModal{instructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.instructions),this.scope.register([],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Pe=class extends Ht.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){let{contentEl:n}=this;n.empty()}};var Q=require("obsidian");var jt=require("obsidian"),Le=class extends jt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,a){super(n.app,a),this.textInputEl=a,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(d=>d instanceof jt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(a=>a.path.includes(n))}renderSuggestion(n,a){a.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function Hr(o,n){return n.path.slice(o.settings.coding.folder.length+1)+"/"}var Vt=class extends Le{getSuggestions(n){if(!n.includes("/"))return[];let a=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),p=c.path.startsWith(a.coding.folder+"/");return u&&p})}renderSuggestion(n,a){let d=Hr(this.plugin,n);a.createEl("span",{text:d})}selectSuggestion(n){this.textInputEl.value=Hr(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var bs=class extends Pe{fullCode="";codeDesc="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new Q.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(a=>{new Vt(this.plugin,a.inputEl),a.onChange(d=>{this.fullCode=d.trim();let c=this.fullCode===""||this.fullCode.startsWith("/")||this.fullCode.endsWith("/");this.confirmationButton?.setDisabled(c)})}),new Q.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(a=>a.onChange(d=>{this.codeDesc=d.trim()})),new Q.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}},Os=class extends Pe{input="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new Q.Setting(n).setClass("quadro-bulk-code-creation").addTextArea(a=>a.onChange(d=>{this.input=d.trim(),this.confirmationButton?.setDisabled(this.input==="")})),new Q.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};async function Vr(o,n,a){let{app:d,settings:c}=o;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,Q.normalizePath)(`${c.coding.folder}/${n}.md`);if(d.vault.getFileByPath(u))return new Q.Notice(`Code "${n}" already exists, Code File not created.`),!1;let m=n.split("/"),y=m.pop(),x=m.length?"/"+m.join("/"):"",F=c.coding.folder+x;d.vault.getFolderByPath(F)||await d.vault.createFolder(F);let k=`code description: "${a.replaceAll('"',"'")}"`,N=d.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(N){let Z=await d.vault.read(N),{exists:Oe,frontmatter:A}=(0,Q.getFrontMatterInfo)(Z);Oe&&(A=A.match(/^code description:/m)?A.replace(/^code description:.*$/m,k):k+`
`+A,w.push(...A.trim().split(`
`)))}else w.push(k);let ee=["---",...w,"---","",""],te=await d.vault.create(`${F}/${y}.md`,ee.join(`
`));return te?(new Q.Notice(`Created new code file: "${n}"`),te):(new Q.Notice("Failed to create new code file."),!1)}function jr(o,n){new bs(o,async(a,d)=>{let c=await Vr(o,a,d);c&&n(c)}).open()}function Qr(o){new Os(o,async n=>{let a=0,d=[];for(let u of n.split(`
`))await Vr(o,u,"")?a++:d.push(u);let c=`${a} file(s) created`;d.length>0&&(c+=`
Could not create: `+d.join(", ")),new Q.Notice(c,(d.length+2)*1e3)}).open()}var Ys=class extends X{editor;codesInPara;dataFile;constructor(n,a,d,c){super(n),this.editor=a,this.codesInPara=d,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...Ut(this.plugin).filter(d=>!this.codesInPara.find(c=>c.path===d.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":ze(this.plugin,n)}onChooseItem(n){n==="new-code-file"?jr(this.plugin,a=>this.assignCode(this.app,a,this.dataFile)):this.assignCode(this.app,n,this.dataFile)}async assignCode(n,a,d){let c=this.editor.getCursor(),u=ks(this.plugin,a),p=this.editor.getLine(c.line),m=this.editor.getSelection();if(m){let w=m.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");this.editor.replaceSelection(w),p=this.editor.getLine(c.line)}let{blockId:y,lineWithoutId:x}=$t(p);Nt(n);let F=n.fileManager.generateMarkdownLink(a,d.path,"",u),S=`${x} ${F} ${y}`;this.editor.setLine(c.line,S),this.editor.setCursor(c);let N=`![[${d.path.slice(0,-3)}#${y}]]
`;await this.app.vault.append(a,N)}};function Gr(o){let n=o.app,a=B(n);if(!a||Me(a))return;if(I(o)!=="Data File"){new Es.Notice("You must be in a Data File to assign a code.",3e3);return}if(a.getSelection().includes("==")){new Es.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`);return}let c=a.editorComponent.view.file,u=a.getLine(a.getCursor().line),p=At(o,c,u).map(m=>m.tFile);new Ys(o,a,p,c).open()}var Br=require("obsidian");async function zr(o){let n=o.app,a=B(n);if(!a)return;if(I(o)!=="Code File"){new Br.Notice("Must be in Code File to delete the code everywhere.");return}let d=a.editorComponent.view.file;await n.vault.trash(d,!0)}var qe=require("obsidian");function Kr(o,n){let a=Object.keys(n).map(d=>Sl(o,d,n[d]));return a.length===1?a[0]:function(){a.forEach(d=>d())}}function Sl(o,n,a){let d=o[n],c=o.hasOwnProperty(n),u=c?d:function(){return Object.getPrototypeOf(o)[n].apply(this,arguments)},p=a(u);return d&&Object.setPrototypeOf(p,d),Object.setPrototypeOf(m,p),o[n]=m,y;function m(...x){return p===u&&o[n]===m&&y(),p.apply(this,x)}function y(){o[n]===m&&(c?o[n]=u:delete o[n]),p!==u&&(p=u,Object.setPrototypeOf(m,d||Function))}}var qr=require("obsidian");var Ze=require("obsidian");async function Zr(o,n){let a=o.app,d=[],c=0,u=I(o,n),p=a.metadataCache.getFileCache(n)?.embeds||[];for(let y of p){let[x,F]=y.link.split("#");if(!x||!F)continue;let S=a.metadataCache.getFirstLinkpathDest(x,n.path);if(!S||I(o,S)!=="Data File")continue;let N=await Is(a,n,S,F);N?d.push(N):c++}if(c===0&&d.length===0){let y=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new Ze.Notice(y),console.warn(y);return}let m=`${u} "${n.name}" and ${c} references to it deleted.
`;if(d.length>0){let y=[m,`\u26A0\uFE0F ${d.length} references could not be deleted:`,"- "+d.join(`
- `)].join(`
`);console.warn(y),new Ze.Notice(y,0)}else new Ze.Notice(m)}async function Is(o,n,a,d){let c=(await o.vault.read(a)).split(`
`),u=c.findIndex(x=>x.endsWith(d));if(u<0)return`Data File "${a.basename}", has no line with the ID "${d}".`;let p=c[u]||"",y=(p.match(new RegExp(De,"g"))||[]).find(x=>{x=x.trim().slice(2,-2);let F=o.metadataCache.getFirstLinkpathDest(x,a.path);return F instanceof Ze.TFile&&F.path===n.path});return y?(c[u]=p.replace(y,""),await o.vault.modify(a,c.join(`
`)),""):`Data File "${a.basename}", line "${d}" has no valid link to the "${n.name}".`}function Qt(o){let n=o.app.vault;return Kr(n,{trash:d=>async(c,u)=>{let p=I(o,c);if((p==="Code File"||p==="Extraction File")&&c instanceof qr.TFile){let y=`Intercepted deletion of "${c.name}", deleting all references to the ${p} before proceeding with deletion.`;console.info(y),await Zr(o,c)}await d.apply(n,[c,u])}})}var Ps=class extends X{toBeMergedFile;constructor(n,a){super(n),this.toBeMergedFile=a,this.setPlaceholder(`Select Code File to merge "${a.basename}" into`)}getItems(){return Ut(this.plugin).filter(a=>a.path!==this.toBeMergedFile.path)}getItemText(n){return ze(this.plugin,n)}async onChooseItem(n){let a=this.plugin,d=await this.app.vault.cachedRead(this.toBeMergedFile),{contentStart:c}=(0,qe.getFrontMatterInfo)(d),u=d.slice(c).trim(),p=[`## Codes from "${this.toBeMergedFile.basename}"`,u].join(`
`);a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await this.app.fileManager.mergeFile(n,this.toBeMergedFile,p,!1),a.trashWatcherUninstaller=Qt(a),new qe.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function Jr(o){let n=o.app,a=B(n);if(!a||Me(a))return;if(I(o)!=="Code File"){new qe.Notice("You must be in the Code File for this.",3e3);return}let d=a.editorComponent.view.file;if(Rt(o,d)){new qe.Notice("You cannot merge the Template File.",3e3);return}new Ps(o,d).open()}var Ls=require("obsidian");function Xr(o){I(o)!=="Code File"?new Ls.Notice("You must be in a code file."):Rt(o,o.app.workspace.getActiveFile())?new Ls.Notice("You must not rename the template file."):o.app.commands.executeCommandById("workspace:edit-file-title")}var ve=require("obsidian");var Ns=class extends X{codesInParagraph;dataFile;editor;constructor(n,a,d,c){super(n),this.codesInParagraph=c,this.dataFile=d,this.editor=a,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return ze(this.plugin,n.tFile)}onChooseItem(n){en(this.editor,this.dataFile,n)}};async function en(o,n,a){let d=o.editorComponent.app,c=o.getCursor().line,u=o.getLine(c),p=u.replace(a.wikilink,"");o.setLine(c,p);let[m]=u.match(Ms)||[];if(!m){new ve.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`);return}let y=(await d.vault.read(a.tFile)).split(`
`),x=y.findIndex(F=>{if(!F.includes(m))return!1;let S=F.match(new RegExp(De,"g"))||[];for(let k of S){let[N,w]=k.match(De)||[];if(!w)continue;if(d.metadataCache.getFirstLinkpathDest(w,a.tFile.path)?.path===n.path)return!0}return!1});if(x<0){new ve.Notice(`"Code File "${a.tFile.basename}" contains not reference to Data File "${n.basename}" with the ID "${m}". Reference in Code File is thus not deleted.`,7e3);return}y.splice(x,1),await d.vault.modify(a.tFile,y.join(`
`)),new ve.Notice(`Assignment of code "${a.tFile.basename}" removed.`)}async function Tl(o,n){let a=n.getLine(n.getCursor().line),[d,c,u]=a.match($r)||[],p=n.editorComponent.view.file,m=o.metadataCache.getFirstLinkpathDest(c||"",p.path);if(!u||!c||!m){new ve.Notice("Current line has no correct reference.");return}let y=await Is(o,p,m,u);if(y){new ve.Notice(y+`

Aborting removal of Code.`,4e3);return}o.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new ve.Notice(`Assignment of code "${p.basename}" removed.`)}function tn(o){let n=o.app,a=B(n);if(!(!a||Me(a)))if(I(o)==="Code File")Tl(n,a);else if(I(o)==="Data File"){let d=a.editorComponent.view.file,c=a.getLine(a.getCursor().line),u=At(o,d,c);u.length===0?new ve.Notice("Line does not contain any codes to remove."):u.length===1?en(a,d,u[0]):new Ns(o,a,d,u).open()}else new ve.Notice("You must be in a Data File or Code File to unassign a code.",3e3)}var sn=[{id:"assign-code",name:"Assign code to paragraph",func:Gr,hotkeyLetter:"a",ribbonIcon:"plus-circle"},{id:"rename-code",name:"Rename code",func:Xr,hotkeyLetter:"r",ribbonIcon:"circle-slash"},{id:"unassign-code",name:"Delete code from paragraph",func:tn,hotkeyLetter:"d",ribbonIcon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:zr,ribbonIcon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:Jr,ribbonIcon:"radius"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:Qr,ribbonIcon:"circle-dashed"},{id:"insert-code-overview-codeblock",name:"Insert overview of codes at cursor",func:Rr,ribbonIcon:"circle-equal"}];var ft=require("obsidian");var Ws="yyyymmdd",kl="8.15.12",rn={pluginVersion:kl,model:{columns:[{id:"UUID",width:"WIDTH",content:"Source",sortDir:"default",isVisible:!1,type:"source",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Ws,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!1,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null},{id:"UUID",width:"WIDTH",content:"Extraction File",sortDir:"default",isVisible:!0,type:"source-file",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Ws,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"count-all",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null}],rows:[],filters:[{id:"UUID",columnId:"UUID",operator:"or",isEnabled:!0,type:"source-file",condition:"is-not",text:"Template"}],sources:[{id:"UUID",type:"folder",path:"PATH",includeSubfolders:!1}],settings:{numFrozenColumns:1,showCalculationRow:!1},externalRowOrder:[]}},nn={id:"UUID",type:"LOOM_TYPE",frontmatterKey:"DIMENSION",width:"WIDTH",sortDir:"default",isVisible:!0,numberPrefix:"",numberSuffix:"",numberSeparator:"",content:"",numberFormat:"number",currencyType:"USD",dateFormat:Ws,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset"};var xe=require("obsidian");async function ut(o,n){let{app:a,settings:d}=o,c=d.extraction.openingMode,u=a.workspace.getLeaf();if(c==="tab"){let p=u.parent;await a.workspace.createLeafInParent(p,p.children.length).openFile(n,dt)}else{let p=c==="right-split"?"right":"bottom",m=c==="right-split"?"vertical":"horizontal",y=a.workspace.getAdjacentLeafInDirection(u,p)||a.workspace.createLeafBySplit(u,m,!1);await y.openFile(n,dt),y.parent.setDimension(2)}}function Gt(o,n){o.vault.setConfig("propertiesInDocument","visible");let a=`.workspace-leaf.mod-active .metadata-property:first-of-type .metadata-property-${n} :is([contenteditable='true'], input)`,d=activeDocument.querySelector(a);if(d instanceof HTMLElement)if(d instanceof HTMLInputElement)d.focus(),d.getAttribute("type")==="number"?(d.setAttribute("type","text"),d.select(),d.setAttribute("type","number")):d.select();else{let c=activeDocument.createRange(),u=window.getSelection();c.setStart(d,0),c.collapse(!0),u?.removeAllRanges(),u?.addRange(c)}}function Bt(o,n){let a=o.vault.getFileByPath(`${n.path}/Template.md`);if(!a){new xe.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,5e3);return}let d=o.metadataCache.getFileCache(a)?.frontmatter;if(!d){new xe.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,5e3);return}return d}function be(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.extraction.folder);if(!d){new xe.Notice("ERROR: Could not find Extraction Folder.",4e3);return}let c=d.children.filter(u=>u instanceof xe.TFolder&&u.children.find(p=>p.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new xe.Notice(u,0);return}return c}function Ne(o){return o.children.filter(a=>a instanceof xe.TFile&&a.extension==="md"&&a.name!=="Template.md").length}function Cl(o,n){let a={text:"text",number:"number",checkbox:"checkbox",date:"date",datetime:"date",aliases:"multi-tag",tags:"multi-tag",multitext:"multi-tag"},d=o.metadataTypeManager.getPropertyInfo(n.toLowerCase())?.type;return a[d]||"text"}var Rs=class extends X{extractionTypes;constructor(n,a){super(n),this.settings=n.settings,this.extractionTypes=a,this.setPlaceholder("Select extraction type to create aggregation for")}getItems(){return this.extractionTypes}getItemText(n){let a=n.children.length-1;return`${n.name} (${a})`}async onChooseItem(n){Be(this.app);let a=this.settings,d=Bt(this.app,n);if(!d)return;let c=[...Object.keys(d),"extraction source","extraction date"],u=structuredClone(rn);if(!u.model?.filters[0]||!u.model?.sources[0]||!u.model?.columns[0]||!u.model?.columns[1]){new ft.Notice("ERROR: Loom Template invalid.",4e3);return}u.model.sources[0].path=n.path,u.model.sources[0].id=crypto.randomUUID(),u.model.filters[0].id=crypto.randomUUID(),u.model.columns[0].id=crypto.randomUUID();let p=crypto.randomUUID();u.model.filters[0].columnId=p,u.model.columns[1].id=p,u.model.columns[1].width="150px";for(let S of c){let k=structuredClone(nn);k.id=crypto.randomUUID(),k.frontmatterKey=S,k.content=S,k.type=Cl(this.app,S),k.width=S==="extraction date"?"150px":"200px",u.model.columns.push(k)}let m=this.app.vault.getFolderByPath(a.analysis.folder);if(m||(m=await this.app.vault.createFolder(a.analysis.folder)),!m){new ft.Notice("ERROR: Could not create Analysis Folder.",4e3);return}let y=n.name,x;for(;x=`${a.analysis.folder}/${y} (Aggregation).loom`,!!this.app.vault.getFileByPath(x);)y+="_1";let F=await this.app.vault.create(x,JSON.stringify(u));await this.app.workspace.getLeaf().openFile(F,dt),this.app.commands.executeCommandById("file-explorer:reveal-active-file")}};async function an(o){let n=o.app;if(![...n.plugins.enabledPlugins].includes("notion-like-tables")){if(!Object.keys(n.plugins.plugins).includes("notion-like-tables")){new ft.Notice(`Plugin "DataLoom" not installed.

Please install it from the Obsidian Community Store.`,7e3);return}if(!await n.plugins.enablePluginAndSave("dataview")){new ft.Notice("ERROR: DataLoom plugin could not be enabled.",4e3);return}}let d=be(o);d&&new Rs(o,d).open()}var We=require("obsidian");var As=class extends Pe{onSubmit;nameOfNewType="";constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),new We.Setting(n).setName("Name of the new type").addText(a=>a.onChange(d=>{this.nameOfNewType=d.trim(),this.confirmationButton?.setDisabled(this.nameOfNewType==="")})),new We.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.nameOfNewType)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};function on(o){let{app:n,settings:a}=o;new As(o,async d=>{d=d.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,We.normalizePath)(a.extraction.folder+"/"+d);await n.vault.createFolder(c),new We.Notice(`Creating New Template for Extraction Type "${d}"`,6e3);let u=`---
dimension: 
---

`,p=["> [!NOTE] ",'Due to a bug in DataLoom, properties of the type "List" must not have a space in them. You can work around that issue by using underscores or hyphens instead of a space.',"","See <https://github.com/trey-wallis/obsidian-dataloom/issues/932>"].join(`
`),m=await n.vault.create(c+"/Template.md",u+p);await ut(o,m),n.commands.executeCommandById("file-explorer:reveal-active-file"),Gt(n,"key")}).open()}var dn=Pr(Ds()),Fe=require("obsidian");var Dl="-";function ln(o,n){return o.map(d=>`"${d.replaceAll('"','""')}"`).join(n)}async function cn(o){let{app:n,settings:a}=o,d=a.extraction.csvSeparator,c=be(o);if(!c)return;let u;for(let p of c){let m=[],y=Bt(n,p);if(!y){new Fe.Notice(`Export of Extraction Type "${p.name}" is skipped.`,5e3);continue}let x=["File",...Object.keys(y),"extraction date","extraction source"],F=ln(x,d);m.push(F);let S=p.children.filter(A=>A instanceof Fe.TFile&&A.name!=="Template.md");for(let A of S){let ae=n.metadataCache.getFileCache(A)?.frontmatter;if(!ae)continue;let se=[];for(let re of x){if(re==="File"){se.push(A.basename);continue}let W=ae[re]??Dl,Se=typeof W!="object"?W.toString():Array.isArray(W)?W.join("; "):JSON.stringify(W);re==="extraction source"&&(Se=Se.slice(2,-2)),se.push(Se)}let V=ln(se,d);m.push(V)}let k=(0,Fe.normalizePath)(a.analysis.folder+"/CSV Export");n.vault.getFolderByPath(k)||await n.vault.createFolder(k);let w=m.join(`
`),ee=(0,dn.default)().format("YYYY-MM-DD_HH-mm-ss"),te=(0,Fe.normalizePath)(`${k}/${p.name}_${ee}.csv`),Z=await n.vault.create(te,w),Oe=Z?`Successfully exported "${p.name}".`:`ERROR: Export for "${p.name}" failed.`;new Fe.Notice(Oe,5e3),!u&&Z&&(u=Z)}new Fe.Notice("All CSV exports finished.",5e3),u&&n.showInFolder(u.path)}var Re=require("obsidian");var Us=class extends X{extractionTypes;editor;dataFile;constructor(n,a,d,c){super(n),this.extractionTypes=d,this.editor=a,this.dataFile=c,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return $s.name;let d=Ne(n);return`${n.name} (${d}x)`}onChooseItem(n){$s(this.plugin,this.editor,this.dataFile,n)}};async function $s(o,n,a,d){let c=o.app;Be(c);let u=d.name,p=d.path,m=c.vault.getFileByPath(`${p}/Template.md`);if(!m){new Re.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${u}".`);return}let y=await c.vault.cachedRead(m),{exists:x,frontmatter:F}=(0,Re.getFrontMatterInfo)(y);if(!x){new Re.Notice(`The file "Template.md" in the folder "${p}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,6e3),ut(o,m);return}let S,k=Ne(d);for(;k++,S=`${p}/${u} ${k}.md`,!!c.vault.getFileByPath(S););let N=n.getCursor(),w=n.getLine(N.line),ee=n.getSelection();if(ee){let Je=ee.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");n.replaceSelection(Je),w=n.getLine(N.line)}let{blockId:te,lineWithoutId:Z}=$t(w),A=`extraction date: ${new Date().toISOString().slice(0,-5)}`,ae=`${a.path.slice(0,-3)}#${te}`,se=`extraction source: "[[${ae}]]"`,V=["---",...F.split(`
`),A,se,"---","",`**Paragraph extracted from:** ![[${ae}]]`].join(`
`),re=await c.vault.create(S,V);Nt(c);let W=c.fileManager.generateMarkdownLink(re,re.path,"",re.basename),Se=`${Z} ${W} ${te}`;n.setLine(N.line,Se),n.setCursor(N),await ut(o,re),Gt(c,"value")}function un(o){let n=B(o.app);if(!n||Me(n))return;if(I(o)!=="Data File"){new Re.Notice("You must be in a Data File to make an extraction.",3e3);return}if(n.getSelection().includes("==")){new Re.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`);return}let d=be(o);if(!d)return;let c=n.editorComponent.view.file;d.length===1?$s(o,n,c,d[0]):new Us(o,n,d,c).open()}function fn(o){let n=B(o.app);if(!n)return;let a=["```quadro-extractiontypes-overview","```",""].join(`
`);n?.replaceSelection(a)}function hn(o){let n=o.app,a="",d=be(o);if(!d)return"\u26A0\uFE0F No valid extraction templates found.";for(let c of d){let u=n.vault.getFileByPath(c.path+"/Template.md");if(!u)continue;let p=n.metadataCache.getFileCache(u)?.frontmatter;if(!p){a+=`\u26A0\uFE0F Invalid properties in template file for "${c.name}".`;continue}let m=`<a href="${u.path}" class="internal-link">${c.name}</a>`,y=Object.keys(p).map(F=>{let S=n.metadataTypeManager.getPropertyInfo(F)?.type;S==="multitext"&&(S="list");let k=S?`: ${S}`:"";return`<li><b>${F}</b>${k}</li>`}),x=Ne(c);a+=`<b>${m}</b> (${x}x)<ul>`+y.join("")+"</ul><br>"}return a}var mn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:un,hotkeyLetter:"e",ribbonIcon:"plus-square"},{id:"create-new-extraction-type",name:"Create new extraction type",func:on,ribbonIcon:"box-select"},{id:"aggregate-extractions",name:"Aggregate extractions",func:an,ribbonIcon:"sigma-square"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:cn,ribbonIcon:"arrow-up-square"},{id:"insert-extractiontypes-overview-codeblock",name:"Insert overview of extraction types at cursor",func:fn,ribbonIcon:"square-equal"}];function zt(o){let n=o.settings.suppressSuggestionInFields.map(d=>`[data-property-key="${d}"]`).join(", "),a=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!o.styleElSuppressSuggestionsInFields){let d=activeDocument.createElement("style");d.addClass(o.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),o.register(()=>d?.detach()),o.styleElSuppressSuggestionsInFields=d}o.styleElSuppressSuggestionsInFields.textContent=a,o.app.workspace.trigger("css-change")}function Kt(o){let a=`body .metadata-property-key { min-width: ${o.settings.propertiesKeysWidthPercent}% }`;if(!o.styleElPropertyKeyWidth){let d=activeDocument.createElement("style");d.addClass(o.cssclass),d.setAttribute("type","text/css"),activeDocument.head.appendChild(d),o.register(()=>d?.detach()),o.styleElPropertyKeyWidth=d}o.styleElPropertyKeyWidth.textContent=a,o.app.workspace.trigger("css-change")}var G=require("obsidian");function Hs(o){return(0,G.normalizePath)(o).replace(/:/g,"-")}var Zt=class extends G.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n,this.containerEl.addClass(n.cssclass)}display(){let{containerEl:n}=this;n.empty();let a=this.plugin.settings;new G.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(d=>d.setPlaceholder("One property per line").setValue(a.suppressSuggestionInFields.join(`
`)).onChange(async c=>{let u=c.split(`
`).map(p=>p.trim()).filter(p=>p!=="");a.suppressSuggestionInFields=u,await this.plugin.saveSettings(),zt(this.plugin)})).settingEl.addClass("quadro-property-list"),new G.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(d=>d.setLimits(20,60,5).setDynamicTooltip().setValue(a.propertiesKeysWidthPercent).onChange(async c=>{a.propertiesKeysWidthPercent=c,await this.plugin.saveSettings(),Kt(this.plugin)})),n.createEl("h3",{text:"Coding"}),new G.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(d=>{new Le(this.plugin,d.inputEl),d.setPlaceholder(ce.coding.folder).setValue(a.coding.folder).onChange(async c=>{a.coding.folder=Hs(c)||ce.coding.folder,await this.plugin.saveSettings()})}),new G.Setting(n).setName("Code Count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(d=>d.setValue(a.coding.displayCount).onChange(async c=>{a.coding.displayCount=c,await this.plugin.saveSettings()})),new G.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(d=>{for(let c in Wt)d.addOption(c,c);d.setValue(a.coding.sortFunc).onChange(async c=>{a.coding.sortFunc=c,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new G.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(d=>{new Le(this.plugin,d.inputEl),d.setPlaceholder(ce.extraction.folder).setValue(a.extraction.folder).onChange(async c=>{a.extraction.folder=Hs(c)||ce.extraction.folder,await this.plugin.saveSettings()})}),new G.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(d=>d.setValue(a.extraction.displayCount).onChange(async c=>{a.extraction.displayCount=c,await this.plugin.saveSettings()})),new G.Setting(n).setName("Location of Extraction Window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(d=>{d.addOptions(Nr).setValue(a.extraction.openingMode).onChange(async c=>{a.extraction.openingMode=c,await this.plugin.saveSettings()})}),new G.Setting(n).setName("CSV Separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(d=>{d.addOptions(Lr).setValue(a.extraction.csvSeparator).onChange(async c=>{a.extraction.csvSeparator=c,await this.plugin.saveSettings()})}),new G.Setting(n).setName("Analysis folder").setDesc("Location where aggregations and export files are stored.").addSearch(d=>{new Le(this.plugin,d.inputEl),d.setPlaceholder(ce.analysis.folder).setValue(a.analysis.folder).onChange(async c=>{a.analysis.folder=Hs(c)||ce.analysis.folder,await this.plugin.saveSettings()})})}};function qt(o){let{app:n,statusbar:a,settings:d}=o,c=n.workspace.getActiveFile();if(!c){a.setText("");return}let u=[];if(I(o)==="Code File"){let x=ct(o,c);u.push(`Code ${x}x assigned`)}else if(I(o)==="Extraction File"){let x=c.parent;if(x){let F=Ne(x);u.push(`${F}x extracted`)}}else{let x=n.metadataCache.resolvedLinks[c.path]||{},F=0,S=0;for(let[k,N]of Object.entries(x))k.startsWith(d.coding.folder+"/")&&(F+=N),k.startsWith(d.extraction.folder+"/")&&S++;F>0&&u.push(`${F} Codes`),S>0&&u.push(`${S} Extractions`)}let p=n.metadataCache.unresolvedLinks[c.path]||{},m=0;for(let[x,F]of Object.entries(p))m+=F;m>0&&u.push(`${m} invalid links`);let y=u.map(x=>x.replace(/^(1 .*)s$/,"$1")).join(", ");a.setText(y)}var Jt=class extends pn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=ce;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...sn,...mn]){this.addRibbonIcon(n.ribbonIcon,`Quadro: ${n.name}`,()=>n.func(this)).addClass(this.cssclass);let d={id:n.id,name:n.name,editorCallback:()=>n.func(this)};n.hotkeyLetter&&(d.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(d)}this.statusbar.addClass(this.cssclass),qt(this),this.registerEvent(this.app.workspace.on("file-open",()=>qt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>qt(this))),this.trashWatcherUninstaller=Qt(this),await this.loadSettings(),this.addSettingTab(new Zt(this)),zt(this),Kt(this),Be(this.app),this.registerMarkdownCodeBlockProcessor("quadro-code-overview",(n,a)=>{a.innerHTML=Ar(this),a.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor("quadro-extractiontypes-overview",(n,a)=>{a.innerHTML=hn(this),a.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},ce,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
