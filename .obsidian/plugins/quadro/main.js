/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var fl=Object.create;var Et=Object.defineProperty;var hl=Object.getOwnPropertyDescriptor;var ml=Object.getOwnPropertyNames;var pl=Object.getPrototypeOf,gl=Object.prototype.hasOwnProperty;var yl=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),_l=(o,n)=>{for(var a in n)Et(o,a,{get:n[a],enumerable:!0})},Ps=(o,n,a,d)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of ml(n))!gl.call(o,c)&&c!==a&&Et(o,c,{get:()=>n[c],enumerable:!(d=hl(n,c))||d.enumerable});return o};var Ls=(o,n,a)=>(a=o!=null?fl(pl(o)):{},Ps(n||!o||!o.__esModule?Et(a,"default",{value:o,enumerable:!0}):a,o)),wl=o=>Ps(Et({},"__esModule",{value:!0}),o);var Cr=yl((kr,ze)=>{(function(o,n){typeof kr=="object"&&typeof ze<"u"?ze.exports=n():typeof define=="function"&&define.amd?define(n):o.moment=n()})(kr,function(){"use strict";var o;function n(){return o.apply(null,arguments)}function a(e){o=e}function d(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function h(e){return e===void 0}function v(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function y(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){var r=[],s,i=e.length;for(s=0;s<i;++s)r.push(t(e[s],s));return r}function F(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function S(e,t,r,s){return fs(e,t,r,s,!0).utc()}function U(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function T(e){return e._pf==null&&(e._pf=U()),e._pf}var X;Array.prototype.some?X=Array.prototype.some:X=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function ie(e){if(e._isValid==null){var t=T(e),r=X.call(t.parsedDateParts,function(i){return i!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function ee(e){var t=S(NaN);return e!=null?F(T(t),e):T(t).userInvalidated=!0,t}var Fe=n.momentProperties=[],R=!1;function fe(e,t){var r,s,i,l=Fe.length;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=T(t)),h(t._locale)||(e._locale=t._locale),l>0)for(r=0;r<l;r++)s=Fe[r],i=t[s],h(i)||(e[s]=i);return e}function te(e){fe(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R===!1&&(R=!0,n.updateOffset(this),R=!1)}function W(e){return e instanceof te||e!=null&&e._isAMomentObject!=null}function Se(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function L(e,t){var r=!0;return F(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),r){var s=[],i,l,f,w=arguments.length;for(l=0;l<w;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(f in arguments[0])u(arguments[0],f)&&(i+=f+": "+arguments[0][f]+", ");i=i.slice(0,-2)}else i=arguments[l];s.push(i)}Se(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var be={};function Vr(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),be[e]||(Se(t),be[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function ae(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function hn(e){var t,r;for(r in e)u(e,r)&&(t=e[r],ae(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Kt(e,t){var r=F({},e),s;for(s in t)u(t,s)&&(c(e[s])&&c(t[s])?(r[s]={},F(r[s],e[s]),F(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)u(e,s)&&!u(t,s)&&c(e[s])&&(r[s]=F({},r[s]));return r}function Jt(e){e!=null&&this.set(e)}var Xt;Object.keys?Xt=Object.keys:Xt=function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var mn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function pn(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return ae(s)?s.call(t,r):s}function oe(e,t,r){var s=""+Math.abs(e),i=t-s.length,l=e>=0;return(l?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var er=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tr={},Ne={};function _(e,t,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&(Ne[e]=i),t&&(Ne[t[0]]=function(){return oe(i.apply(this,arguments),t[1],t[2])}),r&&(Ne[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function gn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function yn(e){var t=e.match(er),r,s;for(r=0,s=t.length;r<s;r++)Ne[t[r]]?t[r]=Ne[t[r]]:t[r]=gn(t[r]);return function(i){var l="",f;for(f=0;f<s;f++)l+=ae(t[f])?t[f].call(i,e):t[f];return l}}function ct(e,t){return e.isValid()?(t=jr(t,e.localeData()),tr[t]=tr[t]||yn(t),tr[t](e)):e.localeData().invalidDate()}function jr(e,t){var r=5;function s(i){return t.longDateFormat(i)||i}for(dt.lastIndex=0;r>=0&&dt.test(e);)e=e.replace(dt,s),dt.lastIndex=0,r-=1;return e}var _n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function wn(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(er).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var vn="Invalid date";function Tn(){return this._invalidDate}var xn="%d",Fn=/\d{1,2}/;function Sn(e){return this._ordinal.replace("%d",e)}var kn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Cn(e,t,r,s){var i=this._relativeTime[r];return ae(i)?i(e,t,r,s):i.replace(/%d/i,e)}function Dn(e,t){var r=this._relativeTime[e>0?"future":"past"];return ae(r)?r(t):r.replace(/%s/i,t)}var Ke={};function $(e,t){var r=e.toLowerCase();Ke[r]=Ke[r+"s"]=Ke[t]=e}function q(e){return typeof e=="string"?Ke[e]||Ke[e.toLowerCase()]:void 0}function rr(e){var t={},r,s;for(s in e)u(e,s)&&(r=q(s),r&&(t[r]=e[s]));return t}var Gr={};function H(e,t){Gr[e]=t}function Mn(e){var t=[],r;for(r in e)u(e,r)&&t.push({unit:r,priority:Gr[r]});return t.sort(function(s,i){return s.priority-i.priority}),t}function ut(e){return e%4===0&&e%100!==0||e%400===0}function K(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=K(t)),r}function Re(e,t){return function(r){return r!=null?(Br(this,e,r),n.updateOffset(this,t),this):ft(this,e)}}function ft(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Br(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&ut(e.year())&&e.month()===1&&e.date()===29?(r=C(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),wt(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function bn(e){return e=q(e),ae(this[e])?this[e]():this}function On(e,t){if(typeof e=="object"){e=rr(e);var r=Mn(e),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](e[r[s].unit])}else if(e=q(e),ae(this[e]))return this[e](t);return this}var Qr=/\d/,Q=/\d\d/,zr=/\d{3}/,sr=/\d{4}/,ht=/[+-]?\d{6}/,E=/\d\d?/,Zr=/\d\d\d\d?/,qr=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,nr=/\d{1,4}/,pt=/[+-]?\d{1,6}/,We=/\d+/,gt=/[+-]?\d+/,En=/Z|[+-]\d\d:?\d\d/gi,yt=/Z|[+-]\d\d(?::?\d\d)?/gi,Yn=/[+-]?\d+(\.\d{1,3})?/,Je=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_t;_t={};function g(e,t,r){_t[e]=ae(t)?t:function(s,i){return s&&r?r:t}}function In(e,t){return u(_t,e)?_t[e](t._strict,t._locale):new RegExp(Pn(e))}function Pn(e){return z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,i,l){return r||s||i||l}))}function z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ir={};function b(e,t){var r,s=t,i;for(typeof e=="string"&&(e=[e]),v(t)&&(s=function(l,f){f[t]=C(l)}),i=e.length,r=0;r<i;r++)ir[e[r]]=s}function Xe(e,t){b(e,function(r,s,i,l){i._w=i._w||{},t(r,i._w,i,l)})}function Ln(e,t,r){t!=null&&u(ir,e)&&ir[e](t,r._a,r,e)}var V=0,he=1,le=2,N=3,re=4,me=5,Oe=6,Nn=7,Rn=8;function Wn(e,t){return(e%t+t)%t}var P;Array.prototype.indexOf?P=Array.prototype.indexOf:P=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function wt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Wn(t,12);return e+=(t-r)/12,r===1?ut(e)?29:28:31-r%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),H("month",8),g("M",E),g("MM",E,Q),g("MMM",function(e,t){return t.monthsShortRegex(e)}),g("MMMM",function(e,t){return t.monthsRegex(e)}),b(["M","MM"],function(e,t){t[he]=C(e)-1}),b(["MMM","MMMM"],function(e,t,r,s){var i=r._locale.monthsParse(e,s,r._strict);i!=null?t[he]=i:T(r).invalidMonth=e});var An="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Kr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Jr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Un=Je,$n=Je;function Hn(e,t){return e?d(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Jr).test(t)?"format":"standalone"][e.month()]:d(this._months)?this._months:this._months.standalone}function Vn(e,t){return e?d(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Jr.test(t)?"format":"standalone"][e.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function jn(e,t,r){var s,i,l,f=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)l=S([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(l,"").toLocaleLowerCase();return r?t==="MMM"?(i=P.call(this._shortMonthsParse,f),i!==-1?i:null):(i=P.call(this._longMonthsParse,f),i!==-1?i:null):t==="MMM"?(i=P.call(this._shortMonthsParse,f),i!==-1?i:(i=P.call(this._longMonthsParse,f),i!==-1?i:null)):(i=P.call(this._longMonthsParse,f),i!==-1?i:(i=P.call(this._shortMonthsParse,f),i!==-1?i:null))}function Gn(e,t,r){var s,i,l;if(this._monthsParseExact)return jn.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=S([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(l.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function Xr(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=C(t);else if(t=e.localeData().monthsParse(t),!v(t))return e}return r=Math.min(e.date(),wt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function es(e){return e!=null?(Xr(this,e),n.updateOffset(this,!0),this):ft(this,"Month")}function Bn(){return wt(this.year(),this.month())}function Qn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ts.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Un),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function zn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ts.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=$n),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ts(){function e(f,w){return w.length-f.length}var t=[],r=[],s=[],i,l;for(i=0;i<12;i++)l=S([2e3,i]),t.push(this.monthsShort(l,"")),r.push(this.months(l,"")),s.push(this.months(l,"")),s.push(this.monthsShort(l,""));for(t.sort(e),r.sort(e),s.sort(e),i=0;i<12;i++)t[i]=z(t[i]),r[i]=z(r[i]);for(i=0;i<24;i++)s[i]=z(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?oe(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),$("year","y"),H("year",1),g("Y",gt),g("YY",E,Q),g("YYYY",nr,sr),g("YYYYY",pt,ht),g("YYYYYY",pt,ht),b(["YYYYY","YYYYYY"],V),b("YYYY",function(e,t){t[V]=e.length===2?n.parseTwoDigitYear(e):C(e)}),b("YY",function(e,t){t[V]=n.parseTwoDigitYear(e)}),b("Y",function(e,t){t[V]=parseInt(e,10)});function et(e){return ut(e)?366:365}n.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var rs=Re("FullYear",!0);function Zn(){return ut(this.year())}function qn(e,t,r,s,i,l,f){var w;return e<100&&e>=0?(w=new Date(e+400,t,r,s,i,l,f),isFinite(w.getFullYear())&&w.setFullYear(e)):w=new Date(e,t,r,s,i,l,f),w}function tt(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function vt(e,t,r){var s=7+t-r,i=(7+tt(e,0,s).getUTCDay()-t)%7;return-i+s-1}function ss(e,t,r,s,i){var l=(7+r-s)%7,f=vt(e,s,i),w=1+7*(t-1)+l+f,k,O;return w<=0?(k=e-1,O=et(k)+w):w>et(e)?(k=e+1,O=w-et(e)):(k=e,O=w),{year:k,dayOfYear:O}}function rt(e,t,r){var s=vt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1,l,f;return i<1?(f=e.year()-1,l=i+pe(f,t,r)):i>pe(e.year(),t,r)?(l=i-pe(e.year(),t,r),f=e.year()+1):(f=e.year(),l=i),{week:l,year:f}}function pe(e,t,r){var s=vt(e,t,r),i=vt(e+1,t,r);return(et(e)-s+i)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),H("week",5),H("isoWeek",5),g("w",E),g("ww",E,Q),g("W",E),g("WW",E,Q),Xe(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=C(e)});function Kn(e){return rt(e,this._week.dow,this._week.doy).week}var Jn={dow:0,doy:6};function Xn(){return this._week.dow}function ei(){return this._week.doy}function ti(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ri(e){var t=rt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),g("d",E),g("e",E),g("E",E),g("dd",function(e,t){return t.weekdaysMinRegex(e)}),g("ddd",function(e,t){return t.weekdaysShortRegex(e)}),g("dddd",function(e,t){return t.weekdaysRegex(e)}),Xe(["dd","ddd","dddd"],function(e,t,r,s){var i=r._locale.weekdaysParse(e,s,r._strict);i!=null?t.d=i:T(r).invalidWeekday=e}),Xe(["d","e","E"],function(e,t,r,s){t[s]=C(e)});function si(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ni(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ar(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ii="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ns="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ai="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oi=Je,li=Je,di=Je;function ci(e,t){var r=d(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?ar(r,this._week.dow):e?r[e.day()]:r}function ui(e){return e===!0?ar(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function fi(e){return e===!0?ar(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function hi(e,t,r){var s,i,l,f=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)l=S([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(l,"").toLocaleLowerCase();return r?t==="dddd"?(i=P.call(this._weekdaysParse,f),i!==-1?i:null):t==="ddd"?(i=P.call(this._shortWeekdaysParse,f),i!==-1?i:null):(i=P.call(this._minWeekdaysParse,f),i!==-1?i:null):t==="dddd"?(i=P.call(this._weekdaysParse,f),i!==-1||(i=P.call(this._shortWeekdaysParse,f),i!==-1)?i:(i=P.call(this._minWeekdaysParse,f),i!==-1?i:null)):t==="ddd"?(i=P.call(this._shortWeekdaysParse,f),i!==-1||(i=P.call(this._weekdaysParse,f),i!==-1)?i:(i=P.call(this._minWeekdaysParse,f),i!==-1?i:null)):(i=P.call(this._minWeekdaysParse,f),i!==-1||(i=P.call(this._weekdaysParse,f),i!==-1)?i:(i=P.call(this._shortWeekdaysParse,f),i!==-1?i:null))}function mi(e,t,r){var s,i,l;if(this._weekdaysParseExact)return hi.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=S([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(l.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function pi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=si(e,this.localeData()),this.add(e-t,"d")):t}function gi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function yi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=ni(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function _i(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||or.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=oi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function wi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||or.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=li),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function vi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||or.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=di),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function or(){function e(j,ve){return ve.length-j.length}var t=[],r=[],s=[],i=[],l,f,w,k,O;for(l=0;l<7;l++)f=S([2e3,1]).day(l),w=z(this.weekdaysMin(f,"")),k=z(this.weekdaysShort(f,"")),O=z(this.weekdays(f,"")),t.push(w),r.push(k),s.push(O),i.push(w),i.push(k),i.push(O);t.sort(e),r.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function lr(){return this.hours()%12||12}function Ti(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,lr),_("k",["kk",2],0,Ti),_("hmm",0,0,function(){return""+lr.apply(this)+oe(this.minutes(),2)}),_("hmmss",0,0,function(){return""+lr.apply(this)+oe(this.minutes(),2)+oe(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+oe(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+oe(this.minutes(),2)+oe(this.seconds(),2)});function is(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}is("a",!0),is("A",!1),$("hour","h"),H("hour",13);function as(e,t){return t._meridiemParse}g("a",as),g("A",as),g("H",E),g("h",E),g("k",E),g("HH",E,Q),g("hh",E,Q),g("kk",E,Q),g("hmm",Zr),g("hmmss",qr),g("Hmm",Zr),g("Hmmss",qr),b(["H","HH"],N),b(["k","kk"],function(e,t,r){var s=C(e);t[N]=s===24?0:s}),b(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),b(["h","hh"],function(e,t,r){t[N]=C(e),T(r).bigHour=!0}),b("hmm",function(e,t,r){var s=e.length-2;t[N]=C(e.substr(0,s)),t[re]=C(e.substr(s)),T(r).bigHour=!0}),b("hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[N]=C(e.substr(0,s)),t[re]=C(e.substr(s,2)),t[me]=C(e.substr(i)),T(r).bigHour=!0}),b("Hmm",function(e,t,r){var s=e.length-2;t[N]=C(e.substr(0,s)),t[re]=C(e.substr(s))}),b("Hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[N]=C(e.substr(0,s)),t[re]=C(e.substr(s,2)),t[me]=C(e.substr(i))});function xi(e){return(e+"").toLowerCase().charAt(0)==="p"}var Fi=/[ap]\.?m?\.?/i,Si=Re("Hours",!0);function ki(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var os={calendar:mn,longDateFormat:_n,invalidDate:vn,ordinal:xn,dayOfMonthOrdinalParse:Fn,relativeTime:kn,months:An,monthsShort:Kr,week:Jn,weekdays:ii,weekdaysMin:ai,weekdaysShort:ns,meridiemParse:Fi},I={},st={},nt;function Ci(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function ls(e){return e&&e.toLowerCase().replace("_","-")}function Di(e){for(var t=0,r,s,i,l;t<e.length;){for(l=ls(e[t]).split("-"),r=l.length,s=ls(e[t+1]),s=s?s.split("-"):null;r>0;){if(i=Tt(l.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&Ci(l,s)>=r-1)break;r--}t++}return nt}function Mi(e){return e.match("^[^/\\\\]*$")!=null}function Tt(e){var t=null,r;if(I[e]===void 0&&typeof ze<"u"&&ze&&ze.exports&&Mi(e))try{t=nt._abbr,r=require,r("./locale/"+e),ke(t)}catch{I[e]=null}return I[e]}function ke(e,t){var r;return e&&(h(t)?r=ge(e):r=dr(e,t),r?nt=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nt._abbr}function dr(e,t){if(t!==null){var r,s=os;if(t.abbr=e,I[e]!=null)Vr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=I[e]._config;else if(t.parentLocale!=null)if(I[t.parentLocale]!=null)s=I[t.parentLocale]._config;else if(r=Tt(t.parentLocale),r!=null)s=r._config;else return st[t.parentLocale]||(st[t.parentLocale]=[]),st[t.parentLocale].push({name:e,config:t}),null;return I[e]=new Jt(Kt(s,t)),st[e]&&st[e].forEach(function(i){dr(i.name,i.config)}),ke(e),I[e]}else return delete I[e],null}function bi(e,t){if(t!=null){var r,s,i=os;I[e]!=null&&I[e].parentLocale!=null?I[e].set(Kt(I[e]._config,t)):(s=Tt(e),s!=null&&(i=s._config),t=Kt(i,t),s==null&&(t.abbr=e),r=new Jt(t),r.parentLocale=I[e],I[e]=r),ke(e)}else I[e]!=null&&(I[e].parentLocale!=null?(I[e]=I[e].parentLocale,e===ke()&&ke(e)):I[e]!=null&&delete I[e]);return I[e]}function ge(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!d(e)){if(t=Tt(e),t)return t;e=[e]}return Di(e)}function Oi(){return Xt(I)}function cr(e){var t,r=e._a;return r&&T(e).overflow===-2&&(t=r[he]<0||r[he]>11?he:r[le]<1||r[le]>wt(r[V],r[he])?le:r[N]<0||r[N]>24||r[N]===24&&(r[re]!==0||r[me]!==0||r[Oe]!==0)?N:r[re]<0||r[re]>59?re:r[me]<0||r[me]>59?me:r[Oe]<0||r[Oe]>999?Oe:-1,T(e)._overflowDayOfYear&&(t<V||t>le)&&(t=le),T(e)._overflowWeeks&&t===-1&&(t=Nn),T(e)._overflowWeekday&&t===-1&&(t=Rn),T(e).overflow=t),e}var Ei=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,xt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ur=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pi=/^\/?Date\((-?\d+)/i,Li=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ni={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ds(e){var t,r,s=e._i,i=Ei.exec(s)||Yi.exec(s),l,f,w,k,O=xt.length,j=ur.length;if(i){for(T(e).iso=!0,t=0,r=O;t<r;t++)if(xt[t][1].exec(i[1])){f=xt[t][0],l=xt[t][2]!==!1;break}if(f==null){e._isValid=!1;return}if(i[3]){for(t=0,r=j;t<r;t++)if(ur[t][1].exec(i[3])){w=(i[2]||" ")+ur[t][0];break}if(w==null){e._isValid=!1;return}}if(!l&&w!=null){e._isValid=!1;return}if(i[4])if(Ii.exec(i[4]))k="Z";else{e._isValid=!1;return}e._f=f+(w||"")+(k||""),hr(e)}else e._isValid=!1}function Ri(e,t,r,s,i,l){var f=[Wi(e),Kr.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return l&&f.push(parseInt(l,10)),f}function Wi(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Ai(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ui(e,t,r){if(e){var s=ns.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return T(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function $i(e,t,r){if(e)return Ni[e];if(t)return 0;var s=parseInt(r,10),i=s%100,l=(s-i)/100;return l*60+i}function cs(e){var t=Li.exec(Ai(e._i)),r;if(t){if(r=Ri(t[4],t[3],t[2],t[5],t[6],t[7]),!Ui(t[1],r,e))return;e._a=r,e._tzm=$i(t[8],t[9],t[10]),e._d=tt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),T(e).rfc2822=!0}else e._isValid=!1}function Hi(e){var t=Pi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ds(e),e._isValid===!1)delete e._isValid;else return;if(cs(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ae(e,t,r){return e??t??r}function Vi(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function fr(e){var t,r,s=[],i,l,f;if(!e._d){for(i=Vi(e),e._w&&e._a[le]==null&&e._a[he]==null&&ji(e),e._dayOfYear!=null&&(f=Ae(e._a[V],i[V]),(e._dayOfYear>et(f)||e._dayOfYear===0)&&(T(e)._overflowDayOfYear=!0),r=tt(f,0,e._dayOfYear),e._a[he]=r.getUTCMonth(),e._a[le]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[N]===24&&e._a[re]===0&&e._a[me]===0&&e._a[Oe]===0&&(e._nextDay=!0,e._a[N]=0),e._d=(e._useUTC?tt:qn).apply(null,s),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[N]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==l&&(T(e).weekdayMismatch=!0)}}function ji(e){var t,r,s,i,l,f,w,k,O;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(l=1,f=4,r=Ae(t.GG,e._a[V],rt(Y(),1,4).year),s=Ae(t.W,1),i=Ae(t.E,1),(i<1||i>7)&&(k=!0)):(l=e._locale._week.dow,f=e._locale._week.doy,O=rt(Y(),l,f),r=Ae(t.gg,e._a[V],O.year),s=Ae(t.w,O.week),t.d!=null?(i=t.d,(i<0||i>6)&&(k=!0)):t.e!=null?(i=t.e+l,(t.e<0||t.e>6)&&(k=!0)):i=l),s<1||s>pe(r,l,f)?T(e)._overflowWeeks=!0:k!=null?T(e)._overflowWeekday=!0:(w=ss(r,s,i,l,f),e._a[V]=w.year,e._dayOfYear=w.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function hr(e){if(e._f===n.ISO_8601){ds(e);return}if(e._f===n.RFC_2822){cs(e);return}e._a=[],T(e).empty=!0;var t=""+e._i,r,s,i,l,f,w=t.length,k=0,O,j;for(i=jr(e._f,e._locale).match(er)||[],j=i.length,r=0;r<j;r++)l=i[r],s=(t.match(In(l,e))||[])[0],s&&(f=t.substr(0,t.indexOf(s)),f.length>0&&T(e).unusedInput.push(f),t=t.slice(t.indexOf(s)+s.length),k+=s.length),Ne[l]?(s?T(e).empty=!1:T(e).unusedTokens.push(l),Ln(l,s,e)):e._strict&&!s&&T(e).unusedTokens.push(l);T(e).charsLeftOver=w-k,t.length>0&&T(e).unusedInput.push(t),e._a[N]<=12&&T(e).bigHour===!0&&e._a[N]>0&&(T(e).bigHour=void 0),T(e).parsedDateParts=e._a.slice(0),T(e).meridiem=e._meridiem,e._a[N]=Gi(e._locale,e._a[N],e._meridiem),O=T(e).era,O!==null&&(e._a[V]=e._locale.erasConvertYear(O,e._a[V])),fr(e),cr(e)}function Gi(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function Bi(e){var t,r,s,i,l,f,w=!1,k=e._f.length;if(k===0){T(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<k;i++)l=0,f=!1,t=fe({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],hr(t),ie(t)&&(f=!0),l+=T(t).charsLeftOver,l+=T(t).unusedTokens.length*10,T(t).score=l,w?l<s&&(s=l,r=t):(s==null||l<s||f)&&(s=l,r=t,f&&(w=!0));F(e,r||t)}function Qi(e){if(!e._d){var t=rr(e._i),r=t.day===void 0?t.date:t.day;e._a=x([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),fr(e)}}function zi(e){var t=new te(cr(us(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function us(e){var t=e._i,r=e._f;return e._locale=e._locale||ge(e._l),t===null||r===void 0&&t===""?ee({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),W(t)?new te(cr(t)):(y(t)?e._d=t:d(r)?Bi(e):r?hr(e):Zi(e),ie(e)||(e._d=null),e))}function Zi(e){var t=e._i;h(t)?e._d=new Date(n.now()):y(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Hi(e):d(t)?(e._a=x(t.slice(0),function(r){return parseInt(r,10)}),fr(e)):c(t)?Qi(e):v(t)?e._d=new Date(t):n.createFromInputFallback(e)}function fs(e,t,r,s,i){var l={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(c(e)&&p(e)||d(e)&&e.length===0)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=r,l._i=e,l._f=t,l._strict=s,zi(l)}function Y(e,t,r,s){return fs(e,t,r,s,!1)}var qi=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ee()}),Ki=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ee()});function hs(e,t){var r,s;if(t.length===1&&d(t[0])&&(t=t[0]),!t.length)return Y();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function Ji(){var e=[].slice.call(arguments,0);return hs("isBefore",e)}function Xi(){var e=[].slice.call(arguments,0);return hs("isAfter",e)}var ea=function(){return Date.now?Date.now():+new Date},it=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ta(e){var t,r=!1,s,i=it.length;for(t in e)if(u(e,t)&&!(P.call(it,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[it[s]]){if(r)return!1;parseFloat(e[it[s]])!==C(e[it[s]])&&(r=!0)}return!0}function ra(){return this._isValid}function sa(){return se(NaN)}function Ft(e){var t=rr(e),r=t.year||0,s=t.quarter||0,i=t.month||0,l=t.week||t.isoWeek||0,f=t.day||0,w=t.hour||0,k=t.minute||0,O=t.second||0,j=t.millisecond||0;this._isValid=ta(t),this._milliseconds=+j+O*1e3+k*6e4+w*1e3*60*60,this._days=+f+l*7,this._months=+i+s*3+r*12,this._data={},this._locale=ge(),this._bubble()}function St(e){return e instanceof Ft}function mr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function na(e,t,r){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),l=0,f;for(f=0;f<s;f++)(r&&e[f]!==t[f]||!r&&C(e[f])!==C(t[f]))&&l++;return l+i}function ms(e,t){_(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+oe(~~(r/60),2)+t+oe(~~r%60,2)})}ms("Z",":"),ms("ZZ",""),g("Z",yt),g("ZZ",yt),b(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=pr(yt,e)});var ia=/([\+\-]|\d\d)/gi;function pr(e,t){var r=(t||"").match(e),s,i,l;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(ia)||["-",0,0],l=+(i[1]*60)+C(i[2]),l===0?0:i[0]==="+"?l:-l)}function gr(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(W(e)||y(e)?e.valueOf():Y(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),n.updateOffset(r,!1),r):Y(e).local()}function yr(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function aa(e,t,r){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=pr(yt,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=yr(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?_s(this,se(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:yr(this)}function oa(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function la(e){return this.utcOffset(0,e)}function da(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(yr(this),"m")),this}function ca(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=pr(En,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ua(e){return this.isValid()?(e=e?Y(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function fa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ha(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={},t;return fe(e,this),e=us(e),e._a?(t=e._isUTC?S(e._a):Y(e._a),this._isDSTShifted=this.isValid()&&na(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ma(){return this.isValid()?!this._isUTC:!1}function pa(){return this.isValid()?this._isUTC:!1}function ps(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ga=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ya=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function se(e,t){var r=e,s=null,i,l,f;return St(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:v(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=ga.exec(e))?(i=s[1]==="-"?-1:1,r={y:0,d:C(s[le])*i,h:C(s[N])*i,m:C(s[re])*i,s:C(s[me])*i,ms:C(mr(s[Oe]*1e3))*i}):(s=ya.exec(e))?(i=s[1]==="-"?-1:1,r={y:Ee(s[2],i),M:Ee(s[3],i),w:Ee(s[4],i),d:Ee(s[5],i),h:Ee(s[6],i),m:Ee(s[7],i),s:Ee(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(f=_a(Y(r.from),Y(r.to)),r={},r.ms=f.milliseconds,r.M=f.months),l=new Ft(r),St(e)&&u(e,"_locale")&&(l._locale=e._locale),St(e)&&u(e,"_isValid")&&(l._isValid=e._isValid),l}se.fn=Ft.prototype,se.invalid=sa;function Ee(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function gs(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function _a(e,t){var r;return e.isValid()&&t.isValid()?(t=gr(t,e),e.isBefore(t)?r=gs(e,t):(r=gs(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function ys(e,t){return function(r,s){var i,l;return s!==null&&!isNaN(+s)&&(Vr(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=r,r=s,s=l),i=se(r,s),_s(this,i,e),this}}function _s(e,t,r,s){var i=t._milliseconds,l=mr(t._days),f=mr(t._months);e.isValid()&&(s=s??!0,f&&Xr(e,ft(e,"Month")+f*r),l&&Br(e,"Date",ft(e,"Date")+l*r),i&&e._d.setTime(e._d.valueOf()+i*r),s&&n.updateOffset(e,l||f))}var wa=ys(1,"add"),va=ys(-1,"subtract");function ws(e){return typeof e=="string"||e instanceof String}function Ta(e){return W(e)||y(e)||ws(e)||v(e)||Fa(e)||xa(e)||e===null||e===void 0}function xa(e){var t=c(e)&&!p(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,f=s.length;for(i=0;i<f;i+=1)l=s[i],r=r||u(e,l);return t&&r}function Fa(e){var t=d(e),r=!1;return t&&(r=e.filter(function(s){return!v(s)&&ws(e)}).length===0),t&&r}function Sa(e){var t=c(e)&&!p(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<s.length;i+=1)l=s[i],r=r||u(e,l);return t&&r}function ka(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Ca(e,t){arguments.length===1&&(arguments[0]?Ta(arguments[0])?(e=arguments[0],t=void 0):Sa(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Y(),s=gr(r,this).startOf("day"),i=n.calendarFormat(this,s)||"sameElse",l=t&&(ae(t[i])?t[i].call(this,r):t[i]);return this.format(l||this.localeData().calendar(i,this,Y(r)))}function Da(){return new te(this)}function Ma(e,t){var r=W(e)?e:Y(e);return this.isValid()&&r.isValid()?(t=q(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function ba(e,t){var r=W(e)?e:Y(e);return this.isValid()&&r.isValid()?(t=q(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Oa(e,t,r,s){var i=W(e)?e:Y(e),l=W(t)?t:Y(t);return this.isValid()&&i.isValid()&&l.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(l,r):!this.isAfter(l,r))):!1}function Ea(e,t){var r=W(e)?e:Y(e),s;return this.isValid()&&r.isValid()?(t=q(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function Ya(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ia(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Pa(e,t,r){var s,i,l;if(!this.isValid())return NaN;if(s=gr(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=q(t),t){case"year":l=kt(this,s)/12;break;case"month":l=kt(this,s);break;case"quarter":l=kt(this,s)/3;break;case"second":l=(this-s)/1e3;break;case"minute":l=(this-s)/6e4;break;case"hour":l=(this-s)/36e5;break;case"day":l=(this-s-i)/864e5;break;case"week":l=(this-s-i)/6048e5;break;default:l=this-s}return r?l:K(l)}function kt(e,t){if(e.date()<t.date())return-kt(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),i,l;return t-s<0?(i=e.clone().add(r-1,"months"),l=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),l=(t-s)/(i-s)),-(r+l)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function La(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Na(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?ct(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ae(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ct(r,"Z")):ct(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ra(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,i,l;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=t+'[")]',this.format(r+s+i+l)}function Wa(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=ct(this,e);return this.localeData().postformat(t)}function Aa(e,t){return this.isValid()&&(W(e)&&e.isValid()||Y(e).isValid())?se({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ua(e){return this.from(Y(),e)}function $a(e,t){return this.isValid()&&(W(e)&&e.isValid()||Y(e).isValid())?se({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ha(e){return this.to(Y(),e)}function vs(e){var t;return e===void 0?this._locale._abbr:(t=ge(e),t!=null&&(this._locale=t),this)}var Ts=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function xs(){return this._locale}var Ct=1e3,Ue=60*Ct,Dt=60*Ue,Fs=(365*400+97)*24*Dt;function $e(e,t){return(e%t+t)%t}function Ss(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Fs:new Date(e,t,r).valueOf()}function ks(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Fs:Date.UTC(e,t,r)}function Va(e){var t,r;if(e=q(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ks:Ss,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=$e(t+(this._isUTC?0:this.utcOffset()*Ue),Dt);break;case"minute":t=this._d.valueOf(),t-=$e(t,Ue);break;case"second":t=this._d.valueOf(),t-=$e(t,Ct);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function ja(e){var t,r;if(e=q(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ks:Ss,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Dt-$e(t+(this._isUTC?0:this.utcOffset()*Ue),Dt)-1;break;case"minute":t=this._d.valueOf(),t+=Ue-$e(t,Ue)-1;break;case"second":t=this._d.valueOf(),t+=Ct-$e(t,Ct)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ga(){return this._d.valueOf()-(this._offset||0)*6e4}function Ba(){return Math.floor(this.valueOf()/1e3)}function Qa(){return new Date(this.valueOf())}function za(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Za(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function qa(){return this.isValid()?this.toISOString():null}function Ka(){return ie(this)}function Ja(){return F({},T(this))}function Xa(){return T(this).overflow}function eo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),g("N",_r),g("NN",_r),g("NNN",_r),g("NNNN",fo),g("NNNNN",ho),b(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var i=r._locale.erasParse(e,s,r._strict);i?T(r).era=i:T(r).invalidEra=e}),g("y",We),g("yy",We),g("yyy",We),g("yyyy",We),g("yo",mo),b(["y","yy","yyy","yyyy"],V),b(["yo"],function(e,t,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[V]=r._locale.eraYearOrdinalParse(e,i):t[V]=parseInt(e,10)});function to(e,t){var r,s,i,l=this._eras||ge("en")._eras;for(r=0,s=l.length;r<s;++r){switch(typeof l[r].since){case"string":i=n(l[r].since).startOf("day"),l[r].since=i.valueOf();break}switch(typeof l[r].until){case"undefined":l[r].until=1/0;break;case"string":i=n(l[r].until).startOf("day").valueOf(),l[r].until=i.valueOf();break}}return l}function ro(e,t,r){var s,i,l=this.eras(),f,w,k;for(e=e.toUpperCase(),s=0,i=l.length;s<i;++s)if(f=l[s].name.toUpperCase(),w=l[s].abbr.toUpperCase(),k=l[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(w===e)return l[s];break;case"NNNN":if(f===e)return l[s];break;case"NNNNN":if(k===e)return l[s];break}else if([f,w,k].indexOf(e)>=0)return l[s]}function so(e,t){var r=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function no(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function io(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function ao(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function oo(){var e,t,r,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()}function lo(e){return u(this,"_erasNameRegex")||wr.call(this),e?this._erasNameRegex:this._erasRegex}function co(e){return u(this,"_erasAbbrRegex")||wr.call(this),e?this._erasAbbrRegex:this._erasRegex}function uo(e){return u(this,"_erasNarrowRegex")||wr.call(this),e?this._erasNarrowRegex:this._erasRegex}function _r(e,t){return t.erasAbbrRegex(e)}function fo(e,t){return t.erasNameRegex(e)}function ho(e,t){return t.erasNarrowRegex(e)}function mo(e,t){return t._eraYearOrdinalRegex||We}function wr(){var e=[],t=[],r=[],s=[],i,l,f=this.eras();for(i=0,l=f.length;i<l;++i)t.push(z(f[i].name)),e.push(z(f[i].abbr)),r.push(z(f[i].narrow)),s.push(z(f[i].name)),s.push(z(f[i].abbr)),s.push(z(f[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Mt(e,t){_(0,[e,e.length],0,t)}Mt("gggg","weekYear"),Mt("ggggg","weekYear"),Mt("GGGG","isoWeekYear"),Mt("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),g("G",gt),g("g",gt),g("GG",E,Q),g("gg",E,Q),g("GGGG",nr,sr),g("gggg",nr,sr),g("GGGGG",pt,ht),g("ggggg",pt,ht),Xe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=C(e)}),Xe(["gg","GG"],function(e,t,r,s){t[s]=n.parseTwoDigitYear(e)});function po(e){return Cs.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function go(e){return Cs.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function yo(){return pe(this.year(),1,4)}function _o(){return pe(this.isoWeekYear(),1,4)}function wo(){var e=this.localeData()._week;return pe(this.year(),e.dow,e.doy)}function vo(){var e=this.localeData()._week;return pe(this.weekYear(),e.dow,e.doy)}function Cs(e,t,r,s,i){var l;return e==null?rt(this,s,i).year:(l=pe(e,s,i),t>l&&(t=l),To.call(this,e,t,r,s,i))}function To(e,t,r,s,i){var l=ss(e,t,r,s,i),f=tt(l.year,0,l.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}_("Q",0,"Qo","quarter"),$("quarter","Q"),H("quarter",7),g("Q",Qr),b("Q",function(e,t){t[he]=(C(e)-1)*3});function xo(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),$("date","D"),H("date",9),g("D",E),g("DD",E,Q),g("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),b(["D","DD"],le),b("Do",function(e,t){t[le]=C(e.match(E)[0])});var Ds=Re("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),H("dayOfYear",4),g("DDD",mt),g("DDDD",zr),b(["DDD","DDDD"],function(e,t,r){r._dayOfYear=C(e)});function Fo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),$("minute","m"),H("minute",14),g("m",E),g("mm",E,Q),b(["m","mm"],re);var So=Re("Minutes",!1);_("s",["ss",2],0,"second"),$("second","s"),H("second",15),g("s",E),g("ss",E,Q),b(["s","ss"],me);var ko=Re("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("millisecond","ms"),H("millisecond",16),g("S",mt,Qr),g("SS",mt,Q),g("SSS",mt,zr);var Ce,Ms;for(Ce="SSSS";Ce.length<=9;Ce+="S")g(Ce,We);function Co(e,t){t[Oe]=C(("0."+e)*1e3)}for(Ce="S";Ce.length<=9;Ce+="S")b(Ce,Co);Ms=Re("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Do(){return this._isUTC?"UTC":""}function Mo(){return this._isUTC?"Coordinated Universal Time":""}var m=te.prototype;m.add=wa,m.calendar=Ca,m.clone=Da,m.diff=Pa,m.endOf=ja,m.format=Wa,m.from=Aa,m.fromNow=Ua,m.to=$a,m.toNow=Ha,m.get=bn,m.invalidAt=Xa,m.isAfter=Ma,m.isBefore=ba,m.isBetween=Oa,m.isSame=Ea,m.isSameOrAfter=Ya,m.isSameOrBefore=Ia,m.isValid=Ka,m.lang=Ts,m.locale=vs,m.localeData=xs,m.max=Ki,m.min=qi,m.parsingFlags=Ja,m.set=On,m.startOf=Va,m.subtract=va,m.toArray=za,m.toObject=Za,m.toDate=Qa,m.toISOString=Na,m.inspect=Ra,typeof Symbol<"u"&&Symbol.for!=null&&(m[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),m.toJSON=qa,m.toString=La,m.unix=Ba,m.valueOf=Ga,m.creationData=eo,m.eraName=no,m.eraNarrow=io,m.eraAbbr=ao,m.eraYear=oo,m.year=rs,m.isLeapYear=Zn,m.weekYear=po,m.isoWeekYear=go,m.quarter=m.quarters=xo,m.month=es,m.daysInMonth=Bn,m.week=m.weeks=ti,m.isoWeek=m.isoWeeks=ri,m.weeksInYear=wo,m.weeksInWeekYear=vo,m.isoWeeksInYear=yo,m.isoWeeksInISOWeekYear=_o,m.date=Ds,m.day=m.days=pi,m.weekday=gi,m.isoWeekday=yi,m.dayOfYear=Fo,m.hour=m.hours=Si,m.minute=m.minutes=So,m.second=m.seconds=ko,m.millisecond=m.milliseconds=Ms,m.utcOffset=aa,m.utc=la,m.local=da,m.parseZone=ca,m.hasAlignedHourOffset=ua,m.isDST=fa,m.isLocal=ma,m.isUtcOffset=pa,m.isUtc=ps,m.isUTC=ps,m.zoneAbbr=Do,m.zoneName=Mo,m.dates=L("dates accessor is deprecated. Use date instead.",Ds),m.months=L("months accessor is deprecated. Use month instead",es),m.years=L("years accessor is deprecated. Use year instead",rs),m.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",oa),m.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ha);function bo(e){return Y(e*1e3)}function Oo(){return Y.apply(null,arguments).parseZone()}function bs(e){return e}var M=Jt.prototype;M.calendar=pn,M.longDateFormat=wn,M.invalidDate=Tn,M.ordinal=Sn,M.preparse=bs,M.postformat=bs,M.relativeTime=Cn,M.pastFuture=Dn,M.set=hn,M.eras=to,M.erasParse=ro,M.erasConvertYear=so,M.erasAbbrRegex=co,M.erasNameRegex=lo,M.erasNarrowRegex=uo,M.months=Hn,M.monthsShort=Vn,M.monthsParse=Gn,M.monthsRegex=zn,M.monthsShortRegex=Qn,M.week=Kn,M.firstDayOfYear=ei,M.firstDayOfWeek=Xn,M.weekdays=ci,M.weekdaysMin=fi,M.weekdaysShort=ui,M.weekdaysParse=mi,M.weekdaysRegex=_i,M.weekdaysShortRegex=wi,M.weekdaysMinRegex=vi,M.isPM=xi,M.meridiem=ki;function bt(e,t,r,s){var i=ge(),l=S().set(s,t);return i[r](l,e)}function Os(e,t,r){if(v(e)&&(t=e,e=void 0),e=e||"",t!=null)return bt(e,t,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=bt(e,s,r,"month");return i}function vr(e,t,r,s){typeof e=="boolean"?(v(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,v(t)&&(r=t,t=void 0),t=t||"");var i=ge(),l=e?i._week.dow:0,f,w=[];if(r!=null)return bt(t,(r+l)%7,s,"day");for(f=0;f<7;f++)w[f]=bt(t,(f+l)%7,s,"day");return w}function Eo(e,t){return Os(e,t,"months")}function Yo(e,t){return Os(e,t,"monthsShort")}function Io(e,t,r){return vr(e,t,r,"weekdays")}function Po(e,t,r){return vr(e,t,r,"weekdaysShort")}function Lo(e,t,r){return vr(e,t,r,"weekdaysMin")}ke("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=C(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}}),n.lang=L("moment.lang is deprecated. Use moment.locale instead.",ke),n.langData=L("moment.langData is deprecated. Use moment.localeData instead.",ge);var ye=Math.abs;function No(){var e=this._data;return this._milliseconds=ye(this._milliseconds),this._days=ye(this._days),this._months=ye(this._months),e.milliseconds=ye(e.milliseconds),e.seconds=ye(e.seconds),e.minutes=ye(e.minutes),e.hours=ye(e.hours),e.months=ye(e.months),e.years=ye(e.years),this}function Es(e,t,r,s){var i=se(t,r);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Ro(e,t){return Es(this,e,t,1)}function Wo(e,t){return Es(this,e,t,-1)}function Ys(e){return e<0?Math.floor(e):Math.ceil(e)}function Ao(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,i,l,f,w,k;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Ys(Tr(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,i=K(e/1e3),s.seconds=i%60,l=K(i/60),s.minutes=l%60,f=K(l/60),s.hours=f%24,t+=K(f/24),k=K(Is(t)),r+=k,t-=Ys(Tr(k)),w=K(r/12),r%=12,s.days=t,s.months=r,s.years=w,this}function Is(e){return e*4800/146097}function Tr(e){return e*146097/4800}function Uo(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=q(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+Is(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Tr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function $o(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+C(this._months/12)*31536e6:NaN}function _e(e){return function(){return this.as(e)}}var Ho=_e("ms"),Vo=_e("s"),jo=_e("m"),Go=_e("h"),Bo=_e("d"),Qo=_e("w"),zo=_e("M"),Zo=_e("Q"),qo=_e("y");function Ko(){return se(this)}function Jo(e){return e=q(e),this.isValid()?this[e+"s"]():NaN}function Ye(e){return function(){return this.isValid()?this._data[e]:NaN}}var Xo=Ye("milliseconds"),el=Ye("seconds"),tl=Ye("minutes"),rl=Ye("hours"),sl=Ye("days"),nl=Ye("months"),il=Ye("years");function al(){return K(this.days()/7)}var we=Math.round,He={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ol(e,t,r,s,i){return i.relativeTime(t||1,!!r,e,s)}function ll(e,t,r,s){var i=se(e).abs(),l=we(i.as("s")),f=we(i.as("m")),w=we(i.as("h")),k=we(i.as("d")),O=we(i.as("M")),j=we(i.as("w")),ve=we(i.as("y")),De=l<=r.ss&&["s",l]||l<r.s&&["ss",l]||f<=1&&["m"]||f<r.m&&["mm",f]||w<=1&&["h"]||w<r.h&&["hh",w]||k<=1&&["d"]||k<r.d&&["dd",k];return r.w!=null&&(De=De||j<=1&&["w"]||j<r.w&&["ww",j]),De=De||O<=1&&["M"]||O<r.M&&["MM",O]||ve<=1&&["y"]||["yy",ve],De[2]=t,De[3]=+e>0,De[4]=s,ol.apply(null,De)}function dl(e){return e===void 0?we:typeof e=="function"?(we=e,!0):!1}function cl(e,t){return He[e]===void 0?!1:t===void 0?He[e]:(He[e]=t,e==="s"&&(He.ss=t-1),!0)}function ul(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=He,i,l;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},He,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),l=ll(this,!r,s,i),r&&(l=i.pastFuture(+this,l)),i.postformat(l)}var xr=Math.abs;function Ve(e){return(e>0)-(e<0)||+e}function Ot(){if(!this.isValid())return this.localeData().invalidDate();var e=xr(this._milliseconds)/1e3,t=xr(this._days),r=xr(this._months),s,i,l,f,w=this.asSeconds(),k,O,j,ve;return w?(s=K(e/60),i=K(s/60),e%=60,s%=60,l=K(r/12),r%=12,f=e?e.toFixed(3).replace(/\.?0+$/,""):"",k=w<0?"-":"",O=Ve(this._months)!==Ve(w)?"-":"",j=Ve(this._days)!==Ve(w)?"-":"",ve=Ve(this._milliseconds)!==Ve(w)?"-":"",k+"P"+(l?O+l+"Y":"")+(r?O+r+"M":"")+(t?j+t+"D":"")+(i||s||e?"T":"")+(i?ve+i+"H":"")+(s?ve+s+"M":"")+(e?ve+f+"S":"")):"P0D"}var D=Ft.prototype;D.isValid=ra,D.abs=No,D.add=Ro,D.subtract=Wo,D.as=Uo,D.asMilliseconds=Ho,D.asSeconds=Vo,D.asMinutes=jo,D.asHours=Go,D.asDays=Bo,D.asWeeks=Qo,D.asMonths=zo,D.asQuarters=Zo,D.asYears=qo,D.valueOf=$o,D._bubble=Ao,D.clone=Ko,D.get=Jo,D.milliseconds=Xo,D.seconds=el,D.minutes=tl,D.hours=rl,D.days=sl,D.weeks=al,D.months=nl,D.years=il,D.humanize=ul,D.toISOString=Ot,D.toString=Ot,D.toJSON=Ot,D.locale=vs,D.localeData=xs,D.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ot),D.lang=Ts,_("X",0,0,"unix"),_("x",0,0,"valueOf"),g("x",gt),g("X",Yn),b("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}),b("x",function(e,t,r){r._d=new Date(C(e))});return n.version="2.29.4",a(Y),n.fn=m,n.min=Ji,n.max=Xi,n.now=ea,n.utc=S,n.unix=bo,n.months=Eo,n.isDate=y,n.locale=ke,n.invalid=ee,n.duration=se,n.isMoment=W,n.weekdays=Io,n.parseZone=Oo,n.localeData=ge,n.isDuration=St,n.monthsShort=Yo,n.weekdaysMin=Lo,n.defineLocale=dr,n.updateLocale=bi,n.locales=Oi,n.weekdaysShort=Po,n.normalizeUnits=q,n.relativeTimeRounding=dl,n.relativeTimeThreshold=cl,n.calendarFormat=ka,n.prototype=m,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Dl={};_l(Dl,{default:()=>qt});module.exports=wl(Dl);var fn=require("obsidian");var Te=require("obsidian");var Fr=require("obsidian");function A(o,n){let{app:a,settings:d}=o,c=n==="Codes"?d.coding.folder:d.extraction.folder,u=a.workspace.getActiveFile();return u?!!u.path.startsWith(c+"/"):!1}function B(o){let n=o.workspace.activeEditor?.editor;return n||new Fr.Notice("No active editor."),n}function Yt(o,n){o.vault.setConfig("propertiesInDocument","visible");let a=`.workspace-leaf.mod-active .metadata-property:first-of-type .metadata-property-${n} :is([contenteditable='true'], input)`,d=activeDocument.querySelector(a);d instanceof HTMLElement&&vl(d,0),d instanceof HTMLInputElement&&d.select()}function vl(o,n){if(o instanceof HTMLInputElement){o.focus();let a=o.getAttribute("type")==="number";a&&o.setAttribute("type","text"),o.setSelectionRange(n,n),a&&o.setAttribute("type","number")}else{let a=activeDocument.createRange(),d=window.getSelection();a.setStart(o,n),a.collapse(!0),d?.removeAllRanges(),d?.addRange(a)}}var Sr={state:{source:!1,mode:"source"}};async function at(o,n){let a=o.workspace.getLeaf();await(o.workspace.getAdjacentLeafInDirection(a,"right")||o.workspace.createLeafBySplit(a,"vertical",!1)).openFile(n,Sr)}function Me(o){let n=o.getCursor("head").line!==o.getCursor("anchor").line,a=o.listSelections().length>1;return n||a?(new Fr.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function It(o){o.vault.setConfig("useMarkdownLinks",!1)}function je(o){o.metadataTypeManager.setType("extraction date","datetime"),o.metadataTypeManager.setType("extraction source","text"),o.metadataTypeManager.setType("code description","text")}var ot=require("obsidian");var Pt={"last used first":(o,n)=>n.stat.mtime-o.stat.mtime,"oldest used first":(o,n)=>o.stat.mtime-n.stat.mtime,"frequently used first":(o,n)=>n.stat.size-o.stat.size,"rarely used first":(o,n)=>o.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(o,n)=>o.basename.localeCompare(n.basename)},Ns={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},de={coding:{folder:"Codes",sortFunc:"last used first",minigraph:{enabled:!0,char:"\u{1FB0B}",charsPerBlock:100,maxLength:100}},extraction:{folder:"Extractions",csvSeparator:",",countForExtractionType:{enabled:!0}},suppressSuggestionFields:[],analysis:{folder:"Analysis"}};function Be(o,n){let a=n.path.slice(o.settings.coding.folder.length+1);return n instanceof ot.TFolder?a:a.slice(0,-3)}function Lt(o,n){return n?n.path===o.settings.coding.folder+"/Template.md":!1}function Nt(o,n){let{app:a,settings:d}=o,c=a.metadataCache.resolvedLinks[n.path]||{},u=0;for(let[p,h]of Object.entries(c)){let v=p.startsWith(d.coding.folder+"/"),y=p.startsWith(d.extraction.folder+"/");p.endsWith(".md")&&!y&&!v&&(u+=h)}return u}var Ge=/\[\[(.+?)([|#].*?)?\]\] ?/;function Rt(o,n,a){let{app:d,settings:c}=o;return(a.match(new RegExp(Ge,"g"))||[]).reduce((h,v)=>{let[y,x]=v.match(Ge)||[];if(!x)return h;let F=d.metadataCache.getFirstLinkpathDest(x,n.path);return F instanceof ot.TFile&&F.path.startsWith(c.coding.folder+"/")&&h.push({tFile:F,wikilink:v}),h},[])}function Wt(o){let n=o.settings,d=o.app.vault.getMarkdownFiles().filter(c=>{let u=c.path.startsWith(n.coding.folder+"/"),p=c instanceof ot.TFile&&c.extension==="md",h=c.name!=="Template.md";return p&&h&&u});return d.sort(Pt[n.coding.sortFunc]),d}function Qe(o,n){let a=Be(o,n),{char:d,charsPerBlock:c,maxLength:u,enabled:p}=o.settings.coding.minigraph,h=p?"    "+d.repeat(Math.min(u,n.stat.size/c)):"";return a+h}function Rs(o,n){let{app:a,settings:d}=o,c=[...n.children];c.sort((p,h)=>p instanceof Te.TFolder&&h instanceof Te.TFile?-1:p instanceof Te.TFile&&h instanceof Te.TFolder?1:p.name.localeCompare(h.name));let u="";for(let p of c)if(p instanceof Te.TFolder){let h=p;if(!h.children.some(x=>x instanceof Te.TFile&&x.extension==="md"))continue;let y=Rs(o,h);u+=`<li>\u{1F4C1} ${h.name} ${y}</li>`}else if(p instanceof Te.TFile){let h=p,v=h.path===d.coding.folder+"/Template.md",y=h.extension!=="md";if(v||y)continue;let x=a.metadataCache.getFileCache(h)?.frontmatter?.["code description"],F=x?": "+x:"",S=`<a href="${h.path}" class="internal-link">${h.basename}</a>`,U=Nt(o,h);u+=`<li>\u{1F4C4} ${S} (${U}x)${F}</li>`}return`<ul>${u}</ul>`}function Ws(o){let n=B(o.app);if(!n)return;let a=["```quadro-code-overview","```",""].join(`
`);n?.replaceSelection(a)}function As(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.coding.folder);return d?Rs(o,d):`\u26A0\uFE0F Code folder "${a.coding.folder}" not found.`}var Or=require("obsidian");var Us=Ls(Cr()),Dr=/\^[\w-]+$/,$s=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function At(o){let[n]=o.match(Dr)||[];if(n){let d=o.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:d}}return{blockId:"^id-"+(0,Us.default)().format("YYMMDD-HHmmss"),lineWithoutId:o.trim()}}var Ut=require("obsidian"),J=class extends Ut.FuzzySuggestModal{instructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.instructions),this.scope.register([],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Ie=class extends Ut.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){let{contentEl:n}=this;n.empty()}};var G=require("obsidian");var Ht=require("obsidian");var Pe=class extends Ht.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,a){super(n.app,a),this.textInputEl=a,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(d=>d instanceof Ht.TFolder)}getSuggestions(n){return this.foldersInVault.filter(a=>a.path.includes(n))}renderSuggestion(n,a){a.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}},$t=class extends Pe{getSuggestions(n){if(!n.includes("/"))return[];let a=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),p=c.path.startsWith(a.coding.folder+"/");return u&&p})}renderSuggestion(n,a){let d=Be(this.plugin,n)+"/";a.createEl("span",{text:d})}selectSuggestion(n){this.textInputEl.value=Be(this.plugin,n)+"/",this.textInputEl.trigger("input"),this.close()}};var Mr=class extends Ie{fullCode="";codeDesc="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new G.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(a=>{new $t(this.plugin,a.inputEl),a.onChange(d=>{this.fullCode=d.trim();let c=this.fullCode===""||this.fullCode.startsWith("/")||this.fullCode.endsWith("/");this.confirmationButton?.setDisabled(c)})}),new G.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(a=>a.onChange(d=>{this.codeDesc=d.trim()})),new G.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}},br=class extends Ie{input="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new G.Setting(n).setClass("quadro-bulk-code-creation").addTextArea(a=>a.onChange(d=>{this.input=d.trim(),this.confirmationButton?.setDisabled(this.input==="")})),new G.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};async function Hs(o,n,a){let{app:d,settings:c}=o;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,G.normalizePath)(`${c.coding.folder}/${n}.md`);if(d.vault.getFileByPath(u))return new G.Notice(`Code "${n}" already exists, Code File not created.`),!1;let h=n.split("/"),v=h.pop(),y=h.length?"/"+h.join("/"):"",x=c.coding.folder+y;d.vault.getFolderByPath(x)||await d.vault.createFolder(x);let S=`code description: "${a.replaceAll('"',"'")}"`,U=d.vault.getFileByPath(c.coding.folder+"/Template.md"),T=[];if(U){let ee=await d.vault.read(U),{exists:Fe,frontmatter:R}=(0,G.getFrontMatterInfo)(ee);Fe&&(R=R.match(/^code description:/m)?R.replace(/^code description:.*$/m,S):S+`
`+R,T.push(...R.trim().split(`
`)))}else T.push(S);let X=["---",...T,"---","",""],ie=await d.vault.create(`${x}/${v}.md`,X.join(`
`));return ie?(new G.Notice(`Created new code file: "${n}"`),ie):(new G.Notice("Failed to create new code file."),!1)}function Vs(o,n){new Mr(o,async(a,d)=>{let c=await Hs(o,a,d);c&&n(c)}).open()}function js(o){new br(o,async n=>{let a=0,d=[];for(let u of n.split(`
`))await Hs(o,u,"")?a++:d.push(u);let c=`${a} file(s) created`;d.length>0&&(c+=`
Could not create: `+d.join(", ")),new G.Notice(c,(d.length+2)*1e3)}).open()}var Er=class extends J{editor;codesInPara;dataFile;constructor(n,a,d,c){super(n),this.editor=a,this.codesInPara=d,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(this.close(),this.onChooseItem("new-code-file"))})}getItems(){let a=Wt(this.plugin).filter(d=>!this.codesInPara.find(u=>u.path===d.path));return a.push("new-code-file"),a}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":Qe(this.plugin,n)}onChooseItem(n){n==="new-code-file"?Vs(this.plugin,a=>this.assignCode(this.app,a,this.dataFile)):this.assignCode(this.app,n,this.dataFile)}async assignCode(n,a,d){let c=this.editor.getCursor(),u=Be(this.plugin,a),p=this.editor.getLine(c.line),h=this.editor.getSelection();if(h){let T=h.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");this.editor.replaceSelection(T),p=this.editor.getLine(c.line)}let{blockId:v,lineWithoutId:y}=await At(p);It(n);let x=n.fileManager.generateMarkdownLink(a,d.path,"",u),F=`${y} ${x} ${v}`;this.editor.setLine(c.line,F),this.editor.setCursor(c);let U=`![[${d.path.slice(0,-3)}#${v}]]
`;await this.app.vault.append(a,U)}};function Gs(o){let n=o.app,a=B(n);if(!a||Me(a))return;if(A(o,"Codes")||A(o,"Extractions")){new Or.Notice("You must be in a Data File to assign a code.",3e3);return}if(a.getSelection().includes("==")){new Or.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`);return}let c=a.editorComponent.view.file,u=a.getLine(a.getCursor().line),p=Rt(o,c,u).map(h=>h.tFile);new Er(o,a,p,c).open()}function Bs(o,n){let a=Object.keys(n).map(d=>Tl(o,d,n[d]));return a.length===1?a[0]:function(){a.forEach(d=>d())}}function Tl(o,n,a){let d=o[n],c=o.hasOwnProperty(n),u=c?d:function(){return Object.getPrototypeOf(o)[n].apply(this,arguments)},p=a(u);return d&&Object.setPrototypeOf(p,d),Object.setPrototypeOf(h,p),o[n]=h,v;function h(...y){return p===u&&o[n]===h&&v(),p.apply(this,y)}function v(){o[n]===h&&(c?o[n]=u:delete o[n]),p!==u&&(p=u,Object.setPrototypeOf(h,d||Function))}}var Ze=require("obsidian");var ce=require("obsidian");var Yr=class extends J{codesInParagraph;dataFile;editor;constructor(n,a,d,c){super(n),this.codesInParagraph=c,this.dataFile=d,this.editor=a,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return Qe(this.plugin,n.tFile)}onChooseItem(n){Qs(this.editor,this.dataFile,n)}};async function Ir(o,n,a,d){let c=(await o.vault.read(a)).split(`
`),u=c.findIndex(y=>y.endsWith(d));if(u<0)return`Data File "${a.basename}", has no line with the ID "${d}".`;let p=c[u]||"",v=(p.match(new RegExp(Ge,"g"))||[]).find(y=>{y=y.trim().slice(2,-2);let x=o.metadataCache.getFirstLinkpathDest(y,a.path);return x instanceof ce.TFile&&x.path===n.path});return v?(c[u]=p.replace(v,""),await o.vault.modify(a,c.join(`
`)),""):`Data File "${a.basename}", line "${d}" has no valid link to the Code File.`}async function Qs(o,n,a){let d=o.editorComponent.app,c=o.getCursor().line,u=o.getLine(c),p=u.replace(a.wikilink,"");o.setLine(c,p);let[h]=u.match(Dr)||[];if(!h){new ce.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`);return}let v=(await d.vault.read(a.tFile)).split(`
`),y=v.findIndex(x=>{if(!x.includes(h))return!1;let F=x.match(new RegExp(Ge,"g"))||[];for(let S of F){let[U,T]=S.match(Ge)||[];if(!T)continue;if(d.metadataCache.getFirstLinkpathDest(T,a.tFile.path)?.path===n.path)return!0}return!1});if(y<0){new ce.Notice(`"Code File "${a.tFile.basename}" contains not reference to Data File "${n.basename}" with the ID "${h}". Reference in Code File is thus not deleted.`,7e3);return}v.splice(y,1),await d.vault.modify(a.tFile,v.join(`
`)),new ce.Notice(`Assignment of code "${a.tFile.basename}" removed.`)}async function xl(o,n){let a=n.getLine(n.getCursor().line),[d,c,u]=a.match($s)||[],p=n.editorComponent.view.file,h=o.metadataCache.getFirstLinkpathDest(c||"",p.path);if(!u||!c||!h){new ce.Notice("Current line has no correct reference.");return}let v=await Ir(o,p,h,u);if(v){new ce.Notice(v+`

Aborting removal of Code.`,4e3);return}o.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new ce.Notice(`Assignment of code "${p.basename}" removed.`)}function zs(o){let n=o.app,a=B(n);if(!(!a||Me(a)))if(A(o,"Codes"))xl(n,a);else{let d=a.editorComponent.view.file,c=a.getLine(a.getCursor().line),u=Rt(o,d,c);u.length===0?new ce.Notice("Line does not contain any codes to remove."):u.length===1?Qs(a,d,u[0]):new Yr(o,a,d,u).open()}}function Vt(o){let{app:n,settings:a}=o;return Bs(n.vault,{trash:c=>async(u,p)=>{u instanceof Ze.TFile&&u.path.startsWith(a.coding.folder+"/")&&u.path.endsWith(".md")&&(console.info(`"Intercepted deletion of "${u.name}", deleting all references to the Code File before proceeding with deletion.`),await Fl(n,u)),await c.apply(n.vault,[u,p])}})}async function Zs(o){let n=o.app,a=B(n);if(!a)return;if(!A(o,"Codes")){new Ze.Notice("Must be in Code File to delete the code everywhere.");return}let d=a.editorComponent.view.file;await n.vault.trash(d,!0)}async function Fl(o,n){let d=(o.metadataCache.getFileCache(n)?.embeds||[]).map(h=>h.link).reduce((h,v)=>{let[y,x]=v.split("#");if(!y||!x)return h;let F=o.metadataCache.getFirstLinkpathDest(y,n.path);return F instanceof Ze.TFile&&h.push({dataFile:F,blockId:x}),h},[]),c=[];for(let{dataFile:h,blockId:v}of d){let y=await Ir(o,n,h,v);y&&c.push(y)}let u=d.length-c.length,p=`Code File "${n.basename}" and ${u} references to it deleted.
`;c.length>0&&(p+=`
\u26A0\uFE0F ${c.length} references could not be deleted:
- `+c.join(`
- `)),new Ze.Notice(p,(5+c.length)*1700)}var qe=require("obsidian");var Pr=class extends J{toBeMergedFile;constructor(n,a){super(n),this.toBeMergedFile=a,this.setPlaceholder(`Select Code File to merge "${a.basename}" into`)}getItems(){return Wt(this.plugin).filter(a=>a.path!==this.toBeMergedFile.path)}getItemText(n){return Qe(this.plugin,n)}async onChooseItem(n){let a=this.plugin,d=await this.app.vault.cachedRead(this.toBeMergedFile),{contentStart:c}=(0,qe.getFrontMatterInfo)(d),u=d.slice(c).trim(),p=[`## Codes from "${this.toBeMergedFile.basename}"`,u].join(`
`);a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await this.app.fileManager.mergeFile(n,this.toBeMergedFile,p,!1),a.trashWatcherUninstaller=Vt(a),new qe.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function qs(o){let n=o.app,a=B(n);if(!a||Me(a))return;if(!A(o,"Codes")){new qe.Notice("You must be in the Code File for this.",3e3);return}let d=a.editorComponent.view.file;if(Lt(o,d)){new qe.Notice("You cannot merge the Template File.",3e3);return}new Pr(o,d).open()}var Lr=require("obsidian");function Ks(o){A(o,"Codes")?Lt(o,o.app.workspace.getActiveFile())?new Lr.Notice("You must not rename the template file."):o.app.commands.executeCommandById("workspace:edit-file-title"):new Lr.Notice("You must be in a code file.")}var Js=[{id:"assign-code",name:"Assign code to paragraph",func:Gs,hotkeyLetter:"a",ribbonIcon:"plus-circle"},{id:"rename-code",name:"Rename code",func:Ks,hotkeyLetter:"r",ribbonIcon:"circle-slash"},{id:"unassign-code",name:"Delete code from paragraph",func:zs,hotkeyLetter:"d",ribbonIcon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:Zs,ribbonIcon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:qs,ribbonIcon:"radius"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:js,ribbonIcon:"circle-dashed"},{id:"insert-code-overview-codeblock",name:"Insert overview of codes at cursor",func:Ws,ribbonIcon:"circle-equal"}];var lt=require("obsidian");var Nr="yyyymmdd",Sl="8.15.12",Xs={pluginVersion:Sl,model:{columns:[{id:"UUID",width:"WIDTH",content:"Source",sortDir:"default",isVisible:!1,type:"source",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Nr,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!1,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null},{id:"UUID",width:"WIDTH",content:"Extraction File",sortDir:"default",isVisible:!0,type:"source-file",numberPrefix:"",numberSuffix:"",numberSeparator:"",numberFormat:"number",currencyType:"USD",dateFormat:Nr,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"count-all",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset",frontmatterKey:null}],rows:[],filters:[{id:"UUID",columnId:"UUID",operator:"or",isEnabled:!0,type:"source-file",condition:"is-not",text:"Template"}],sources:[{id:"UUID",type:"folder",path:"PATH",includeSubfolders:!1}],settings:{numFrozenColumns:1,showCalculationRow:!1},externalRowOrder:[]}},en={id:"UUID",type:"LOOM_TYPE",frontmatterKey:"DIMENSION",width:"WIDTH",sortDir:"default",isVisible:!0,numberPrefix:"",numberSuffix:"",numberSeparator:"",content:"",numberFormat:"number",currencyType:"USD",dateFormat:Nr,dateFormatSeparator:"-",hour12:!1,includeTime:!1,shouldWrapOverflow:!0,tags:[],calculationType:"none",aspectRatio:"unset",horizontalPadding:"unset",verticalPadding:"unset"};var Le=require("obsidian");function jt(o,n){let a=o.vault.getFileByPath(`${n.path}/Template.md`);if(!a){new Le.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,5e3);return}let d=o.metadataCache.getFileCache(a)?.frontmatter;if(!d){new Le.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,5e3);return}return d}function Gt(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.extraction.folder);if(!d){new Le.Notice("ERROR: Could not find Extraction Folder.",4e3);return}let c=d.children.filter(u=>u instanceof Le.TFolder);if(c.length===0){new Le.Notice("ERROR: Could not find any Extraction Types.",4e3);return}return c}function kl(o,n){let a={text:"text",number:"number",checkbox:"checkbox",date:"date",datetime:"date",multitext:"multi-tag",aliases:"multi-tag",tags:"multi-tag"},d=o.metadataTypeManager.getPropertyInfo(n.toLowerCase())?.type;return a[d]||"text"}var Rr=class extends J{extractionTypes;constructor(n,a){super(n),this.settings=n.settings,this.extractionTypes=a,this.setPlaceholder("Select extraction type to create aggregation for")}getItems(){return this.extractionTypes}getItemText(n){let a=n.children.length-1;return`${n.name} (${a})`}async onChooseItem(n){je(this.app);let a=this.settings,d=jt(this.app,n);if(!d)return;let c=[...Object.keys(d),"extraction source","extraction date"],u=structuredClone(Xs);if(!u.model?.filters[0]||!u.model?.sources[0]||!u.model?.columns[0]||!u.model?.columns[1]){new lt.Notice("ERROR: Loom Template invalid.",4e3);return}u.model.sources[0].path=n.path,u.model.sources[0].id=crypto.randomUUID(),u.model.filters[0].id=crypto.randomUUID(),u.model.columns[0].id=crypto.randomUUID();let p=crypto.randomUUID();u.model.filters[0].columnId=p,u.model.columns[1].id=p,u.model.columns[1].width="150px";for(let F of c){let S=structuredClone(en);S.id=crypto.randomUUID(),S.frontmatterKey=F,S.content=F,S.type=kl(this.app,F),S.width=F==="extraction date"?"150px":"200px",u.model.columns.push(S)}let h=this.app.vault.getFolderByPath(a.analysis.folder);if(h||(h=await this.app.vault.createFolder(a.analysis.folder)),!h){new lt.Notice("ERROR: Could not create Analysis Folder.",4e3);return}let v=n.name,y;for(;y=`${a.analysis.folder}/${v} (Aggregation).loom`,!!this.app.vault.getFileByPath(y);)v+="_1";let x=await this.app.vault.create(y,JSON.stringify(u));await this.app.workspace.getLeaf().openFile(x,Sr),this.app.commands.executeCommandById("file-explorer:reveal-active-file")}};async function tn(o){let n=o.app;if(![...n.plugins.enabledPlugins].includes("notion-like-tables")){if(!Object.keys(n.plugins.plugins).includes("notion-like-tables")){new lt.Notice(`Plugin "DataLoom" not installed.

Please install it from the Obsidian Community Store.`,7e3);return}if(!await n.plugins.enablePluginAndSave("dataview")){new lt.Notice("ERROR: DataLoom plugin could not be enabled.",4e3);return}}let d=Gt(o);d&&new Rr(o,d).open()}var ne=require("obsidian");var Wr=class extends Ie{onSubmit;nameOfNewType="";constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),new ne.Setting(n).setName("Name of the new type").addText(a=>a.onChange(d=>{this.nameOfNewType=d.trim(),this.confirmationButton?.setDisabled(this.nameOfNewType==="")})),new ne.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.nameOfNewType)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};function Ar(o){let{app:n,settings:a}=o;new Wr(o,async d=>{d=d.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,ne.normalizePath)(a.extraction.folder+"/"+d);if(!(await n.vault.createFolder(c)instanceof ne.TFolder)){new ne.Notice("ERROR: Could not create Extraction Type Folder.",3e3);return}Ur(o,d)}).open()}async function Ur(o,n){let{app:a,settings:d}=o;new ne.Notice(`Creating New Template for Extraction Type "${n}"`,6e3);let c=(0,ne.normalizePath)(`${d.extraction.folder}/${n}/Template.md`),u=`---
dimension: 
---

`,p=["> [!NOTE] ",'Due to a bug in DataLoom, properties of the type "List" must not have a space in them. You can work around that issue by using underscores or hyphens instead of a space.',"","See <https://github.com/trey-wallis/obsidian-dataloom/issues/932>"].join(`
`),h=await a.vault.create(c,u+p);await at(a,h),a.commands.executeCommandById("file-explorer:reveal-active-file"),Yt(a,"key")}function rn(o){Ar(o)}var nn=Ls(Cr()),xe=require("obsidian");var Cl="-";function sn(o,n){return o.map(d=>`"${d.replaceAll('"','""')}"`).join(n)}async function an(o){let{app:n,settings:a}=o,d=a.extraction.csvSeparator,c=Gt(o);if(!c)return;let u;for(let p of c){let h=[],v=jt(n,p);if(!v){new xe.Notice(`Export of Extraction Type "${p.name}" is skipped.`,5e3);continue}let y=["File",...Object.keys(v),"extraction date","extraction source"],x=sn(y,d);h.push(x);let F=p.children.filter(R=>R instanceof xe.TFile&&R.name!=="Template.md");for(let R of F){let fe=n.metadataCache.getFileCache(R)?.frontmatter;if(!fe)continue;let te=[];for(let Se of y){if(Se==="File"){te.push(R.basename);continue}let L=fe[Se]??Cl,be=typeof L!="object"?L.toString():Array.isArray(L)?L.join("; "):JSON.stringify(L);Se==="extraction source"&&(be=be.slice(2,-2)),te.push(be)}let W=sn(te,d);h.push(W)}let S=(0,xe.normalizePath)(a.analysis.folder+"/CSV Export");n.vault.getFolderByPath(S)||await n.vault.createFolder(S);let T=h.join(`
`),X=(0,nn.default)().format("YYYY-MM-DD_HH-mm-ss"),ie=(0,xe.normalizePath)(`${S}/${p.name}_${X}.csv`),ee=await n.vault.create(ie,T),Fe=ee?`Successfully exported "${p.name}".`:`ERROR: Export for "${p.name}" failed.`;new xe.Notice(Fe,5e3),!u&&ee&&(u=ee)}new xe.Notice("All CSV exports finished.",5e3),u&&n.showInFolder(u.path)}var ue=require("obsidian");var $r=class extends J{extractionTypes;editor;dataFile;constructor(n,a,d,c){super(n),this.extractionTypes=d,this.editor=a,this.dataFile=c,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes}getItemText(n){let a=this.plugin.settings,d=n.children.find(p=>p instanceof ue.TFile&&p.name==="Template.md"),c=n.children.length-1,u=d?a.extraction.countForExtractionType.enabled?` (${c})`:"":'  [Select to create "Template.md"]';return n.name+u}onChooseItem(n){on(this.plugin,this.editor,this.dataFile,n)}};async function on(o,n,a,d){let c=o.app;je(c);let u=d.name,p=d.path,h=c.vault.getFileByPath(`${p}/Template.md`);if(!h){Ur(o,u);return}let v=await c.vault.cachedRead(h),{exists:y,frontmatter:x}=(0,ue.getFrontMatterInfo)(v);if(!y){new ue.Notice(`The file "Template.md" in the folder "${p}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,6e3),at(c,h);return}let F,S=d.children.length-1;for(;S++,F=`${p}/${u} ${S}.md`,!!c.vault.getFileByPath(F););let U=n.getCursor(),T=n.getLine(U.line),{blockId:X,lineWithoutId:ie}=At(T),Fe=`extraction date: ${new Date().toISOString().slice(0,-5)}`,R=`${a.path.slice(0,-3)}#${X}`,fe=`extraction source: "[[${R}]]"`,te=["---",...x.split(`
`),Fe,fe,"---","",`**Paragraph extracted from:** ![[${R}]]`].join(`
`),W=await c.vault.create(F,te);It(c);let Se=c.fileManager.generateMarkdownLink(W,W.path,"",W.basename),L=`${ie} ${Se} ${X}`;n.setLine(U.line,L),n.setCursor(U),await at(c,W),Yt(c,"value")}async function ln(o){let{app:n,settings:a}=o,d=B(n);if(!d||Me(d))return;if(A(o,"Codes")||A(o,"Extractions")){new ue.Notice("You must be in a Data File to make an extraction.",3e3);return}let c=n.vault.getFolderByPath(a.extraction.folder);if(c||(c=await n.vault.createFolder(a.extraction.folder)),!c){new ue.Notice("ERROR: Could not create Extraction Folder.",4e3);return}let u=c.children.filter(h=>h instanceof ue.TFolder),p=d.editorComponent.view.file;u.length===0?Ar(o):u.length===1?on(o,d,p,u[0]):new $r(o,d,u,p).open()}var Bt=require("obsidian");function dn(o){let n=B(o.app);if(!n)return;let a=["```quadro-extractiontypes-overview","```",""].join(`
`);n?.replaceSelection(a)}function cn(o){let{app:n,settings:a}=o,d=n.vault.getFolderByPath(a.extraction.folder);if(!d)return`\u26A0\uFE0F Extraction folder "${a.extraction.folder}" not found.`;let c=d.children.reduce((p,h)=>{if(!(h instanceof Bt.TFolder))return p;let v=(0,Bt.normalizePath)(h.path+"/Template.md"),y=n.vault.getFileByPath(v);return y&&p.push(y),p},[]);if(c.length===0)return"\u26A0\uFE0F No valid extraction templates found.";let u="";for(let p of c){let h=p.parent?.name,v=n.metadataCache.getFileCache(p)?.frontmatter;if(!v){u+=`\u26A0\uFE0F Invalid properties in template file for "${h}".`;continue}let y=`<a href="${p.path}" class="internal-link">${h}</a>`,x=Object.keys(v).map(F=>{let S=n.metadataTypeManager.getPropertyInfo(F)?.type||"unknown";return S==="multitext"&&(S="list"),`<li><b>${F}</b>: ${S}</li>`});u+="<b>"+y+"</b><ul>"+x.join("")+"</ul><br>"}return u}var un=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:ln,hotkeyLetter:"e",ribbonIcon:"plus-square"},{id:"create-new-extraction-type",name:"Create new extraction type",func:rn,ribbonIcon:"box-select"},{id:"aggregate-extractions",name:"Aggregate extractions",func:tn,ribbonIcon:"sigma-square"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:an,ribbonIcon:"arrow-up-square"},{id:"insert-extractiontypes-overview-codeblock",name:"Insert overview of extraction types at cursor",func:dn,ribbonIcon:"square-equal"}];var Z=require("obsidian");function Qt(o){let a=`.app-container:has(.metadata-property:is(${(o.settings.suppressSuggestionFields||[]).map(d=>`[data-property-key="${d}"]`).join(", ")}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`;o.styleEl||(o.styleEl=activeDocument.createElement("style"),o.styleEl.addClass(o.cssclass),o.styleEl.setAttribute("type","text/css"),activeDocument.head.appendChild(o.styleEl),o.register(()=>o.styleEl?.detach())),o.styleEl.textContent=a,o.app.workspace.trigger("css-change")}function Hr(o){return(0,Z.normalizePath)(o).replace(/:/g,"-")}var zt=class extends Z.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n,this.containerEl.addClass(n.cssclass)}display(){let{containerEl:n}=this;n.empty();let a=this.plugin.settings;new Z.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(d=>d.setPlaceholder("One property per line").setValue(a.suppressSuggestionFields?.join(`
`)||"").onChange(async c=>{let u=c.split(`
`).map(p=>p.trim()).filter(p=>p!=="");a.suppressSuggestionFields=u,await this.plugin.saveSettings(),Qt(this.plugin)})).settingEl.addClass("quadro-property-list"),n.createEl("h3",{text:"Coding"}),new Z.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(d=>{new Pe(this.plugin,d.inputEl),d.setPlaceholder(de.coding.folder).setValue(a.coding.folder).onChange(async c=>{a.coding.folder=Hr(c)||de.coding.folder,await this.plugin.saveSettings()})}),new Z.Setting(n).setName("Bar chart").setDesc("When selecting a code to assign, display a small bar chart showing the frequency with which the code has been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(d=>d.setValue(a.coding.minigraph.enabled).onChange(async c=>{a.coding.minigraph.enabled=c,await this.plugin.saveSettings()})),new Z.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(d=>{for(let c in Pt)d.addOption(c,c);d.setValue(a.coding.sortFunc).onChange(async c=>{a.coding.sortFunc=c,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new Z.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(d=>{new Pe(this.plugin,d.inputEl),d.setPlaceholder(de.extraction.folder).setValue(a.extraction.folder).onChange(async c=>{a.extraction.folder=Hr(c)||de.extraction.folder,await this.plugin.saveSettings()})}),new Z.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.").addToggle(d=>d.setValue(a.extraction.countForExtractionType.enabled).onChange(async c=>{a.extraction.countForExtractionType.enabled=c,await this.plugin.saveSettings()})),new Z.Setting(n).setName("CSV Separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(d=>{d.addOptions(Ns).setValue(a.extraction.csvSeparator).onChange(async c=>{a.extraction.csvSeparator=c,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new Z.Setting(n).setName("Analysis folder").setDesc("Location where aggregations, overview files, and export files, etc. are stored.").addSearch(d=>{new Pe(this.plugin,d.inputEl),d.setPlaceholder(de.analysis.folder).setValue(a.analysis.folder).onChange(async c=>{a.analysis.folder=Hr(c)||de.analysis.folder,await this.plugin.saveSettings()})})}};function Zt(o){let{app:n,statusbar:a,settings:d}=o,c=n.workspace.getActiveFile();if(!c){a.setText("");return}let u=[];if(A(o,"Codes")){let y=Nt(o,c);u.push(`Code ${y}x assigned`)}else if(A(o,"Extractions")){let x=c.parent.children.length-1;u.push(`${x}x extracted`)}else{let y=n.metadataCache.resolvedLinks[c.path]||{},x=0,F=0;for(let[S,U]of Object.entries(y))S.startsWith(d.coding.folder+"/")&&(x+=U),S.startsWith(d.extraction.folder+"/")&&F++;x>0&&u.push(`${x} Codes`),F>0&&u.push(`${F} Extractions`)}let p=n.metadataCache.unresolvedLinks[c.path]||{},h=0;for(let[y,x]of Object.entries(p))h+=x;h>0&&u.push(`${h} invalid links`);let v=u.map(y=>y.replace(/^(1 .*)s$/,"$1")).join(", ");a.setText(v)}var qt=class extends fn.Plugin{styleEl;statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=de;cssclass=this.manifest.id;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...Js,...un]){this.addRibbonIcon(n.ribbonIcon,`Quadro: ${n.name}`,()=>n.func(this)).addClass(this.cssclass);let d={id:n.id,name:n.name,editorCallback:()=>n.func(this)};n.hotkeyLetter&&(d.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(d)}this.statusbar.addClass(this.cssclass),Zt(this),this.registerEvent(this.app.workspace.on("file-open",()=>Zt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>Zt(this))),this.trashWatcherUninstaller=Vt(this),await this.loadSettings(),this.addSettingTab(new zt(this)),Qt(this),je(this.app),this.registerMarkdownCodeBlockProcessor("quadro-code-overview",(n,a)=>{a.innerHTML=As(this),a.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor("quadro-extractiontypes-overview",(n,a)=>{a.innerHTML=cn(this),a.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},de,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
