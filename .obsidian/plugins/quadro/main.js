/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var bl=Object.create;var Gt=Object.defineProperty;var Ol=Object.getOwnPropertyDescriptor;var El=Object.getOwnPropertyNames;var Yl=Object.getPrototypeOf,Pl=Object.prototype.hasOwnProperty;var Il=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),Nl=(a,n)=>{for(var o in n)Gt(a,o,{get:n[o],enumerable:!0})},zr=(a,n,o,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of El(n))!Pl.call(a,c)&&c!==o&&Gt(a,c,{get:()=>n[c],enumerable:!(l=Ol(n,c))||l.enumerable});return a};var Bt=(a,n,o)=>(o=a!=null?bl(Yl(a)):{},zr(n||!a||!a.__esModule?Gt(o,"default",{value:a,enumerable:!0}):o,a)),Ll=a=>zr(Gt({},"__esModule",{value:!0}),a);var yt=Il((Rs,tt)=>{(function(a,n){typeof Rs=="object"&&typeof tt<"u"?tt.exports=n():typeof define=="function"&&define.amd?define(n):a.moment=n()})(Rs,function(){"use strict";var a;function n(){return a.apply(null,arguments)}function o(e){a=e}function l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function p(e){return e===void 0}function g(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function x(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function F(e,t){var s=[],r,i=e.length;for(r=0;r<i;++r)s.push(t(e[r],r));return s}function k(e,t){for(var s in t)u(t,s)&&(e[s]=t[s]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function S(e,t,s,r){return Sr(e,t,s,r,!0).utc()}function P(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=P()),e._pf}var Q;Array.prototype.some?Q=Array.prototype.some:Q=function(e){var t=Object(this),s=t.length>>>0,r;for(r=0;r<s;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function te(e){if(e._isValid==null){var t=w(e),s=Q.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function V(e){var t=S(NaN);return e!=null?k(w(t),e):w(t).userInvalidated=!0,t}var j=n.momentProperties=[],L=!1;function G(e,t){var s,r,i,d=j.length;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=w(t)),p(t._locale)||(e._locale=t._locale),d>0)for(s=0;s<d;s++)r=j[s],i=t[r],p(i)||(e[r]=i);return e}function $(e){G(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),L===!1&&(L=!0,n.updateOffset(this),L=!1)}function H(e){return e instanceof $||e!=null&&e._isAMomentObject!=null}function pe(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function R(e,t){var s=!0;return k(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),s){var r=[],i,d,f,_=arguments.length;for(d=0;d<_;d++){if(i="",typeof arguments[d]=="object"){i+=`
[`+d+"] ";for(f in arguments[0])u(arguments[0],f)&&(i+=f+": "+arguments[0][f]+", ");i=i.slice(0,-2)}else i=arguments[d];r.push(i)}pe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var ce={};function ne(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),ce[e]||(pe(t),ce[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function Y(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function B(e){var t,s;for(s in e)u(e,s)&&(t=e[s],Y(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function se(e,t){var s=k({},e),r;for(r in t)u(t,r)&&(c(e[r])&&c(t[r])?(s[r]={},k(s[r],e[r]),k(s[r],t[r])):t[r]!=null?s[r]=t[r]:delete s[r]);for(r in e)u(e,r)&&!u(t,r)&&c(e[r])&&(s[r]=k({},s[r]));return s}function _e(e){e!=null&&this.set(e)}var We;Object.keys?We=Object.keys:We=function(e){var t,s=[];for(t in e)u(e,t)&&s.push(t);return s};var Ft={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kt(e,t,s){var r=this._calendar[e]||this._calendar.sameElse;return Y(r)?r.call(t,s):r}function oe(e,t,s){var r=""+Math.abs(e),i=t-r.length,d=e>=0;return(d?s?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var ps=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ct=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,gs={},je={};function v(e,t,s,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(je[e]=i),t&&(je[t[0]]=function(){return oe(i.apply(this,arguments),t[1],t[2])}),s&&(je[s]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Pn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function In(e){var t=e.match(ps),s,r;for(s=0,r=t.length;s<r;s++)je[t[s]]?t[s]=je[t[s]]:t[s]=Pn(t[s]);return function(i){var d="",f;for(f=0;f<r;f++)d+=Y(t[f])?t[f].call(i,e):t[f];return d}}function Tt(e,t){return e.isValid()?(t=nr(t,e.localeData()),gs[t]=gs[t]||In(t),gs[t](e)):e.localeData().invalidDate()}function nr(e,t){var s=5;function r(i){return t.longDateFormat(i)||i}for(Ct.lastIndex=0;s>=0&&Ct.test(e);)e=e.replace(Ct,r),Ct.lastIndex=0,s-=1;return e}var Nn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ln(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(ps).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Wn="Invalid date";function Rn(){return this._invalidDate}var An="%d",$n=/\d{1,2}/;function Hn(e){return this._ordinal.replace("%d",e)}var Un={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Vn(e,t,s,r){var i=this._relativeTime[s];return Y(i)?i(e,t,s,r):i.replace(/%d/i,e)}function Qn(e,t){var s=this._relativeTime[e>0?"future":"past"];return Y(s)?s(t):s.replace(/%s/i,t)}var at={};function Z(e,t){var s=e.toLowerCase();at[s]=at[s+"s"]=at[t]=e}function le(e){return typeof e=="string"?at[e]||at[e.toLowerCase()]:void 0}function ys(e){var t={},s,r;for(r in e)u(e,r)&&(s=le(r),s&&(t[s]=e[r]));return t}var ir={};function q(e,t){ir[e]=t}function jn(e){var t=[],s;for(s in e)u(e,s)&&t.push({unit:s,priority:ir[s]});return t.sort(function(r,i){return r.priority-i.priority}),t}function St(e){return e%4===0&&e%100!==0||e%400===0}function de(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function T(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=de(t)),s}function Ge(e,t){return function(s){return s!=null?(ar(this,e,s),n.updateOffset(this,t),this):Dt(this,e)}}function Dt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ar(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&St(e.year())&&e.month()===1&&e.date()===29?(s=T(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),It(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function Gn(e){return e=le(e),Y(this[e])?this[e]():this}function Bn(e,t){if(typeof e=="object"){e=ys(e);var s=jn(e),r,i=s.length;for(r=0;r<i;r++)this[s[r].unit](e[s[r].unit])}else if(e=le(e),Y(this[e]))return this[e](t);return this}var or=/\d/,ie=/\d\d/,lr=/\d{3}/,ws=/\d{4}/,Mt=/[+-]?\d{6}/,I=/\d\d?/,dr=/\d\d\d\d?/,cr=/\d\d\d\d\d\d?/,bt=/\d{1,3}/,vs=/\d{1,4}/,Ot=/[+-]?\d{1,6}/,Be=/\d+/,Et=/[+-]?\d+/,zn=/Z|[+-]\d\d:?\d\d/gi,Yt=/Z|[+-]\d\d(?::?\d\d)?/gi,Kn=/[+-]?\d+(\.\d{1,3})?/,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pt;Pt={};function y(e,t,s){Pt[e]=Y(t)?t:function(r,i){return r&&s?s:t}}function Zn(e,t){return u(Pt,e)?Pt[e](t._strict,t._locale):new RegExp(qn(e))}function qn(e){return ae(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,r,i,d){return s||r||i||d}))}function ae(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _s={};function O(e,t){var s,r=t,i;for(typeof e=="string"&&(e=[e]),g(t)&&(r=function(d,f){f[t]=T(d)}),i=e.length,s=0;s<i;s++)_s[e[s]]=r}function lt(e,t){O(e,function(s,r,i,d){i._w=i._w||{},t(s,i._w,i,d)})}function Jn(e,t,s){t!=null&&u(_s,e)&&_s[e](t,s._a,s,e)}var J=0,xe=1,ge=2,U=3,ue=4,Fe=5,Re=6,Xn=7,ei=8;function ti(e,t){return(e%t+t)%t}var A;Array.prototype.indexOf?A=Array.prototype.indexOf:A=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function It(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=ti(t,12);return e+=(t-s)/12,s===1?St(e)?29:28:31-s%7%2}v("M",["MM",2],"Mo",function(){return this.month()+1}),v("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),v("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Z("month","M"),q("month",8),y("M",I),y("MM",I,ie),y("MMM",function(e,t){return t.monthsShortRegex(e)}),y("MMMM",function(e,t){return t.monthsRegex(e)}),O(["M","MM"],function(e,t){t[xe]=T(e)-1}),O(["MMM","MMMM"],function(e,t,s,r){var i=s._locale.monthsParse(e,r,s._strict);i!=null?t[xe]=i:w(s).invalidMonth=e});var si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ur="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ri=ot,ni=ot;function ii(e,t){return e?l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fr).test(t)?"format":"standalone"][e.month()]:l(this._months)?this._months:this._months.standalone}function ai(e,t){return e?l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fr.test(t)?"format":"standalone"][e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oi(e,t,s){var r,i,d,f=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)d=S([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(d,"").toLocaleLowerCase();return s?t==="MMM"?(i=A.call(this._shortMonthsParse,f),i!==-1?i:null):(i=A.call(this._longMonthsParse,f),i!==-1?i:null):t==="MMM"?(i=A.call(this._shortMonthsParse,f),i!==-1?i:(i=A.call(this._longMonthsParse,f),i!==-1?i:null)):(i=A.call(this._longMonthsParse,f),i!==-1?i:(i=A.call(this._shortMonthsParse,f),i!==-1?i:null))}function li(e,t,s){var r,i,d;if(this._monthsParseExact)return oi.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=S([2e3,r]),s&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!s&&!this._monthsParse[r]&&(d="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(d.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(s&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!s&&this._monthsParse[r].test(e))return r}}function hr(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=T(t);else if(t=e.localeData().monthsParse(t),!g(t))return e}return s=Math.min(e.date(),It(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function mr(e){return e!=null?(hr(this,e),n.updateOffset(this,!0),this):Dt(this,"Month")}function di(){return It(this.year(),this.month())}function ci(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ri),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ui(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=ni),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pr(){function e(f,_){return _.length-f.length}var t=[],s=[],r=[],i,d;for(i=0;i<12;i++)d=S([2e3,i]),t.push(this.monthsShort(d,"")),s.push(this.months(d,"")),r.push(this.months(d,"")),r.push(this.monthsShort(d,""));for(t.sort(e),s.sort(e),r.sort(e),i=0;i<12;i++)t[i]=ae(t[i]),s[i]=ae(s[i]);for(i=0;i<24;i++)r[i]=ae(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}v("Y",0,0,function(){var e=this.year();return e<=9999?oe(e,4):"+"+e}),v(0,["YY",2],0,function(){return this.year()%100}),v(0,["YYYY",4],0,"year"),v(0,["YYYYY",5],0,"year"),v(0,["YYYYYY",6,!0],0,"year"),Z("year","y"),q("year",1),y("Y",Et),y("YY",I,ie),y("YYYY",vs,ws),y("YYYYY",Ot,Mt),y("YYYYYY",Ot,Mt),O(["YYYYY","YYYYYY"],J),O("YYYY",function(e,t){t[J]=e.length===2?n.parseTwoDigitYear(e):T(e)}),O("YY",function(e,t){t[J]=n.parseTwoDigitYear(e)}),O("Y",function(e,t){t[J]=parseInt(e,10)});function dt(e){return St(e)?366:365}n.parseTwoDigitYear=function(e){return T(e)+(T(e)>68?1900:2e3)};var gr=Ge("FullYear",!0);function fi(){return St(this.year())}function hi(e,t,s,r,i,d,f){var _;return e<100&&e>=0?(_=new Date(e+400,t,s,r,i,d,f),isFinite(_.getFullYear())&&_.setFullYear(e)):_=new Date(e,t,s,r,i,d,f),_}function ct(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Nt(e,t,s){var r=7+t-s,i=(7+ct(e,0,r).getUTCDay()-t)%7;return-i+r-1}function yr(e,t,s,r,i){var d=(7+s-r)%7,f=Nt(e,r,i),_=1+7*(t-1)+d+f,C,E;return _<=0?(C=e-1,E=dt(C)+_):_>dt(e)?(C=e+1,E=_-dt(e)):(C=e,E=_),{year:C,dayOfYear:E}}function ut(e,t,s){var r=Nt(e.year(),t,s),i=Math.floor((e.dayOfYear()-r-1)/7)+1,d,f;return i<1?(f=e.year()-1,d=i+ke(f,t,s)):i>ke(e.year(),t,s)?(d=i-ke(e.year(),t,s),f=e.year()+1):(f=e.year(),d=i),{week:d,year:f}}function ke(e,t,s){var r=Nt(e,t,s),i=Nt(e+1,t,s);return(dt(e)-r+i)/7}v("w",["ww",2],"wo","week"),v("W",["WW",2],"Wo","isoWeek"),Z("week","w"),Z("isoWeek","W"),q("week",5),q("isoWeek",5),y("w",I),y("ww",I,ie),y("W",I),y("WW",I,ie),lt(["w","ww","W","WW"],function(e,t,s,r){t[r.substr(0,1)]=T(e)});function mi(e){return ut(e,this._week.dow,this._week.doy).week}var pi={dow:0,doy:6};function gi(){return this._week.dow}function yi(){return this._week.doy}function wi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function vi(e){var t=ut(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}v("d",0,"do","day"),v("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),v("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),v("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),v("e",0,0,"weekday"),v("E",0,0,"isoWeekday"),Z("day","d"),Z("weekday","e"),Z("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),y("d",I),y("e",I),y("E",I),y("dd",function(e,t){return t.weekdaysMinRegex(e)}),y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),y("dddd",function(e,t){return t.weekdaysRegex(e)}),lt(["dd","ddd","dddd"],function(e,t,s,r){var i=s._locale.weekdaysParse(e,r,s._strict);i!=null?t.d=i:w(s).invalidWeekday=e}),lt(["d","e","E"],function(e,t,s,r){t[r]=T(e)});function _i(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function xi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xs(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Fi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ki="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ci=ot,Ti=ot,Si=ot;function Di(e,t){var s=l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?xs(s,this._week.dow):e?s[e.day()]:s}function Mi(e){return e===!0?xs(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function bi(e){return e===!0?xs(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Oi(e,t,s){var r,i,d,f=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)d=S([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(d,"").toLocaleLowerCase();return s?t==="dddd"?(i=A.call(this._weekdaysParse,f),i!==-1?i:null):t==="ddd"?(i=A.call(this._shortWeekdaysParse,f),i!==-1?i:null):(i=A.call(this._minWeekdaysParse,f),i!==-1?i:null):t==="dddd"?(i=A.call(this._weekdaysParse,f),i!==-1||(i=A.call(this._shortWeekdaysParse,f),i!==-1)?i:(i=A.call(this._minWeekdaysParse,f),i!==-1?i:null)):t==="ddd"?(i=A.call(this._shortWeekdaysParse,f),i!==-1||(i=A.call(this._weekdaysParse,f),i!==-1)?i:(i=A.call(this._minWeekdaysParse,f),i!==-1?i:null)):(i=A.call(this._minWeekdaysParse,f),i!==-1||(i=A.call(this._weekdaysParse,f),i!==-1)?i:(i=A.call(this._shortWeekdaysParse,f),i!==-1?i:null))}function Ei(e,t,s){var r,i,d;if(this._weekdaysParseExact)return Oi.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=S([2e3,1]).day(r),s&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(d="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(d.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(s&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(s&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!s&&this._weekdaysParse[r].test(e))return r}}function Yi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=_i(e,this.localeData()),this.add(e-t,"d")):t}function Pi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ii(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=xi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ni(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Fs.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ci),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Li(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Fs.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ti),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Fs.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Si),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Fs(){function e(X,Me){return Me.length-X.length}var t=[],s=[],r=[],i=[],d,f,_,C,E;for(d=0;d<7;d++)f=S([2e3,1]).day(d),_=ae(this.weekdaysMin(f,"")),C=ae(this.weekdaysShort(f,"")),E=ae(this.weekdays(f,"")),t.push(_),s.push(C),r.push(E),i.push(_),i.push(C),i.push(E);t.sort(e),s.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ks(){return this.hours()%12||12}function Ri(){return this.hours()||24}v("H",["HH",2],0,"hour"),v("h",["hh",2],0,ks),v("k",["kk",2],0,Ri),v("hmm",0,0,function(){return""+ks.apply(this)+oe(this.minutes(),2)}),v("hmmss",0,0,function(){return""+ks.apply(this)+oe(this.minutes(),2)+oe(this.seconds(),2)}),v("Hmm",0,0,function(){return""+this.hours()+oe(this.minutes(),2)}),v("Hmmss",0,0,function(){return""+this.hours()+oe(this.minutes(),2)+oe(this.seconds(),2)});function vr(e,t){v(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}vr("a",!0),vr("A",!1),Z("hour","h"),q("hour",13);function _r(e,t){return t._meridiemParse}y("a",_r),y("A",_r),y("H",I),y("h",I),y("k",I),y("HH",I,ie),y("hh",I,ie),y("kk",I,ie),y("hmm",dr),y("hmmss",cr),y("Hmm",dr),y("Hmmss",cr),O(["H","HH"],U),O(["k","kk"],function(e,t,s){var r=T(e);t[U]=r===24?0:r}),O(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e}),O(["h","hh"],function(e,t,s){t[U]=T(e),w(s).bigHour=!0}),O("hmm",function(e,t,s){var r=e.length-2;t[U]=T(e.substr(0,r)),t[ue]=T(e.substr(r)),w(s).bigHour=!0}),O("hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[U]=T(e.substr(0,r)),t[ue]=T(e.substr(r,2)),t[Fe]=T(e.substr(i)),w(s).bigHour=!0}),O("Hmm",function(e,t,s){var r=e.length-2;t[U]=T(e.substr(0,r)),t[ue]=T(e.substr(r))}),O("Hmmss",function(e,t,s){var r=e.length-4,i=e.length-2;t[U]=T(e.substr(0,r)),t[ue]=T(e.substr(r,2)),t[Fe]=T(e.substr(i))});function Ai(e){return(e+"").toLowerCase().charAt(0)==="p"}var $i=/[ap]\.?m?\.?/i,Hi=Ge("Hours",!0);function Ui(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var xr={calendar:Ft,longDateFormat:Nn,invalidDate:Wn,ordinal:An,dayOfMonthOrdinalParse:$n,relativeTime:Un,months:si,monthsShort:ur,week:pi,weekdays:Fi,weekdaysMin:ki,weekdaysShort:wr,meridiemParse:$i},W={},ft={},ht;function Vi(e,t){var s,r=Math.min(e.length,t.length);for(s=0;s<r;s+=1)if(e[s]!==t[s])return s;return r}function Fr(e){return e&&e.toLowerCase().replace("_","-")}function Qi(e){for(var t=0,s,r,i,d;t<e.length;){for(d=Fr(e[t]).split("-"),s=d.length,r=Fr(e[t+1]),r=r?r.split("-"):null;s>0;){if(i=Lt(d.slice(0,s).join("-")),i)return i;if(r&&r.length>=s&&Vi(d,r)>=s-1)break;s--}t++}return ht}function ji(e){return e.match("^[^/\\\\]*$")!=null}function Lt(e){var t=null,s;if(W[e]===void 0&&typeof tt<"u"&&tt&&tt.exports&&ji(e))try{t=ht._abbr,s=require,s("./locale/"+e),Ye(t)}catch{W[e]=null}return W[e]}function Ye(e,t){var s;return e&&(p(t)?s=Ce(e):s=Cs(e,t),s?ht=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ht._abbr}function Cs(e,t){if(t!==null){var s,r=xr;if(t.abbr=e,W[e]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=W[e]._config;else if(t.parentLocale!=null)if(W[t.parentLocale]!=null)r=W[t.parentLocale]._config;else if(s=Lt(t.parentLocale),s!=null)r=s._config;else return ft[t.parentLocale]||(ft[t.parentLocale]=[]),ft[t.parentLocale].push({name:e,config:t}),null;return W[e]=new _e(se(r,t)),ft[e]&&ft[e].forEach(function(i){Cs(i.name,i.config)}),Ye(e),W[e]}else return delete W[e],null}function Gi(e,t){if(t!=null){var s,r,i=xr;W[e]!=null&&W[e].parentLocale!=null?W[e].set(se(W[e]._config,t)):(r=Lt(e),r!=null&&(i=r._config),t=se(i,t),r==null&&(t.abbr=e),s=new _e(t),s.parentLocale=W[e],W[e]=s),Ye(e)}else W[e]!=null&&(W[e].parentLocale!=null?(W[e]=W[e].parentLocale,e===Ye()&&Ye(e)):W[e]!=null&&delete W[e]);return W[e]}function Ce(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ht;if(!l(e)){if(t=Lt(e),t)return t;e=[e]}return Qi(e)}function Bi(){return We(W)}function Ts(e){var t,s=e._a;return s&&w(e).overflow===-2&&(t=s[xe]<0||s[xe]>11?xe:s[ge]<1||s[ge]>It(s[J],s[xe])?ge:s[U]<0||s[U]>24||s[U]===24&&(s[ue]!==0||s[Fe]!==0||s[Re]!==0)?U:s[ue]<0||s[ue]>59?ue:s[Fe]<0||s[Fe]>59?Fe:s[Re]<0||s[Re]>999?Re:-1,w(e)._overflowDayOfYear&&(t<J||t>ge)&&(t=ge),w(e)._overflowWeeks&&t===-1&&(t=Xn),w(e)._overflowWeekday&&t===-1&&(t=ei),w(e).overflow=t),e}var zi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ki=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zi=/Z|[+-]\d\d(?::?\d\d)?/,Wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ss=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qi=/^\/?Date\((-?\d+)/i,Ji=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kr(e){var t,s,r=e._i,i=zi.exec(r)||Ki.exec(r),d,f,_,C,E=Wt.length,X=Ss.length;if(i){for(w(e).iso=!0,t=0,s=E;t<s;t++)if(Wt[t][1].exec(i[1])){f=Wt[t][0],d=Wt[t][2]!==!1;break}if(f==null){e._isValid=!1;return}if(i[3]){for(t=0,s=X;t<s;t++)if(Ss[t][1].exec(i[3])){_=(i[2]||" ")+Ss[t][0];break}if(_==null){e._isValid=!1;return}}if(!d&&_!=null){e._isValid=!1;return}if(i[4])if(Zi.exec(i[4]))C="Z";else{e._isValid=!1;return}e._f=f+(_||"")+(C||""),Ms(e)}else e._isValid=!1}function ea(e,t,s,r,i,d){var f=[ta(e),ur.indexOf(t),parseInt(s,10),parseInt(r,10),parseInt(i,10)];return d&&f.push(parseInt(d,10)),f}function ta(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function sa(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ra(e,t,s){if(e){var r=wr.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return w(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function na(e,t,s){if(e)return Xi[e];if(t)return 0;var r=parseInt(s,10),i=r%100,d=(r-i)/100;return d*60+i}function Cr(e){var t=Ji.exec(sa(e._i)),s;if(t){if(s=ea(t[4],t[3],t[2],t[5],t[6],t[7]),!ra(t[1],s,e))return;e._a=s,e._tzm=na(t[8],t[9],t[10]),e._d=ct.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function ia(e){var t=qi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(kr(e),e._isValid===!1)delete e._isValid;else return;if(Cr(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ze(e,t,s){return e??t??s}function aa(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ds(e){var t,s,r=[],i,d,f;if(!e._d){for(i=aa(e),e._w&&e._a[ge]==null&&e._a[xe]==null&&oa(e),e._dayOfYear!=null&&(f=ze(e._a[J],i[J]),(e._dayOfYear>dt(f)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),s=ct(f,0,e._dayOfYear),e._a[xe]=s.getUTCMonth(),e._a[ge]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[U]===24&&e._a[ue]===0&&e._a[Fe]===0&&e._a[Re]===0&&(e._nextDay=!0,e._a[U]=0),e._d=(e._useUTC?ct:hi).apply(null,r),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[U]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(w(e).weekdayMismatch=!0)}}function oa(e){var t,s,r,i,d,f,_,C,E;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,f=4,s=ze(t.GG,e._a[J],ut(N(),1,4).year),r=ze(t.W,1),i=ze(t.E,1),(i<1||i>7)&&(C=!0)):(d=e._locale._week.dow,f=e._locale._week.doy,E=ut(N(),d,f),s=ze(t.gg,e._a[J],E.year),r=ze(t.w,E.week),t.d!=null?(i=t.d,(i<0||i>6)&&(C=!0)):t.e!=null?(i=t.e+d,(t.e<0||t.e>6)&&(C=!0)):i=d),r<1||r>ke(s,d,f)?w(e)._overflowWeeks=!0:C!=null?w(e)._overflowWeekday=!0:(_=yr(s,r,i,d,f),e._a[J]=_.year,e._dayOfYear=_.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function Ms(e){if(e._f===n.ISO_8601){kr(e);return}if(e._f===n.RFC_2822){Cr(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,s,r,i,d,f,_=t.length,C=0,E,X;for(i=nr(e._f,e._locale).match(ps)||[],X=i.length,s=0;s<X;s++)d=i[s],r=(t.match(Zn(d,e))||[])[0],r&&(f=t.substr(0,t.indexOf(r)),f.length>0&&w(e).unusedInput.push(f),t=t.slice(t.indexOf(r)+r.length),C+=r.length),je[d]?(r?w(e).empty=!1:w(e).unusedTokens.push(d),Jn(d,r,e)):e._strict&&!r&&w(e).unusedTokens.push(d);w(e).charsLeftOver=_-C,t.length>0&&w(e).unusedInput.push(t),e._a[U]<=12&&w(e).bigHour===!0&&e._a[U]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[U]=la(e._locale,e._a[U],e._meridiem),E=w(e).era,E!==null&&(e._a[J]=e._locale.erasConvertYear(E,e._a[J])),Ds(e),Ts(e)}function la(e,t,s){var r;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(r=e.isPM(s),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function da(e){var t,s,r,i,d,f,_=!1,C=e._f.length;if(C===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<C;i++)d=0,f=!1,t=G({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Ms(t),te(t)&&(f=!0),d+=w(t).charsLeftOver,d+=w(t).unusedTokens.length*10,w(t).score=d,_?d<r&&(r=d,s=t):(r==null||d<r||f)&&(r=d,s=t,f&&(_=!0));k(e,s||t)}function ca(e){if(!e._d){var t=ys(e._i),s=t.day===void 0?t.date:t.day;e._a=F([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Ds(e)}}function ua(e){var t=new $(Ts(Tr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Tr(e){var t=e._i,s=e._f;return e._locale=e._locale||Ce(e._l),t===null||s===void 0&&t===""?V({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),H(t)?new $(Ts(t)):(x(t)?e._d=t:l(s)?da(e):s?Ms(e):fa(e),te(e)||(e._d=null),e))}function fa(e){var t=e._i;p(t)?e._d=new Date(n.now()):x(t)?e._d=new Date(t.valueOf()):typeof t=="string"?ia(e):l(t)?(e._a=F(t.slice(0),function(s){return parseInt(s,10)}),Ds(e)):c(t)?ca(e):g(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Sr(e,t,s,r,i){var d={};return(t===!0||t===!1)&&(r=t,t=void 0),(s===!0||s===!1)&&(r=s,s=void 0),(c(e)&&h(e)||l(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=i,d._l=s,d._i=e,d._f=t,d._strict=r,ua(d)}function N(e,t,s,r){return Sr(e,t,s,r,!1)}var ha=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=N.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:V()}),ma=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=N.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:V()});function Dr(e,t){var s,r;if(t.length===1&&l(t[0])&&(t=t[0]),!t.length)return N();for(s=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](s))&&(s=t[r]);return s}function pa(){var e=[].slice.call(arguments,0);return Dr("isBefore",e)}function ga(){var e=[].slice.call(arguments,0);return Dr("isAfter",e)}var ya=function(){return Date.now?Date.now():+new Date},mt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wa(e){var t,s=!1,r,i=mt.length;for(t in e)if(u(e,t)&&!(A.call(mt,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[mt[r]]){if(s)return!1;parseFloat(e[mt[r]])!==T(e[mt[r]])&&(s=!0)}return!0}function va(){return this._isValid}function _a(){return fe(NaN)}function Rt(e){var t=ys(e),s=t.year||0,r=t.quarter||0,i=t.month||0,d=t.week||t.isoWeek||0,f=t.day||0,_=t.hour||0,C=t.minute||0,E=t.second||0,X=t.millisecond||0;this._isValid=wa(t),this._milliseconds=+X+E*1e3+C*6e4+_*1e3*60*60,this._days=+f+d*7,this._months=+i+r*3+s*12,this._data={},this._locale=Ce(),this._bubble()}function At(e){return e instanceof Rt}function bs(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function xa(e,t,s){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),d=0,f;for(f=0;f<r;f++)(s&&e[f]!==t[f]||!s&&T(e[f])!==T(t[f]))&&d++;return d+i}function Mr(e,t){v(e,0,0,function(){var s=this.utcOffset(),r="+";return s<0&&(s=-s,r="-"),r+oe(~~(s/60),2)+t+oe(~~s%60,2)})}Mr("Z",":"),Mr("ZZ",""),y("Z",Yt),y("ZZ",Yt),O(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=Os(Yt,e)});var Fa=/([\+\-]|\d\d)/gi;function Os(e,t){var s=(t||"").match(e),r,i,d;return s===null?null:(r=s[s.length-1]||[],i=(r+"").match(Fa)||["-",0,0],d=+(i[1]*60)+T(i[2]),d===0?0:i[0]==="+"?d:-d)}function Es(e,t){var s,r;return t._isUTC?(s=t.clone(),r=(H(e)||x(e)?e.valueOf():N(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+r),n.updateOffset(s,!1),s):N(e).local()}function Ys(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function ka(e,t,s){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Os(Yt,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(i=Ys(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Yr(this,fe(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Ys(this)}function Ca(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ta(e){return this.utcOffset(0,e)}function Sa(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ys(this),"m")),this}function Da(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Os(zn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ma(e){return this.isValid()?(e=e?N(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ba(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oa(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={},t;return G(e,this),e=Tr(e),e._a?(t=e._isUTC?S(e._a):N(e._a),this._isDSTShifted=this.isValid()&&xa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ea(){return this.isValid()?!this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC:!1}function br(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pa=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ia=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fe(e,t){var s=e,r=null,i,d,f;return At(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:g(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(r=Pa.exec(e))?(i=r[1]==="-"?-1:1,s={y:0,d:T(r[ge])*i,h:T(r[U])*i,m:T(r[ue])*i,s:T(r[Fe])*i,ms:T(bs(r[Re]*1e3))*i}):(r=Ia.exec(e))?(i=r[1]==="-"?-1:1,s={y:Ae(r[2],i),M:Ae(r[3],i),w:Ae(r[4],i),d:Ae(r[5],i),h:Ae(r[6],i),m:Ae(r[7],i),s:Ae(r[8],i)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(f=Na(N(s.from),N(s.to)),s={},s.ms=f.milliseconds,s.M=f.months),d=new Rt(s),At(e)&&u(e,"_locale")&&(d._locale=e._locale),At(e)&&u(e,"_isValid")&&(d._isValid=e._isValid),d}fe.fn=Rt.prototype,fe.invalid=_a;function Ae(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function Or(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function Na(e,t){var s;return e.isValid()&&t.isValid()?(t=Es(t,e),e.isBefore(t)?s=Or(e,t):(s=Or(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function Er(e,t){return function(s,r){var i,d;return r!==null&&!isNaN(+r)&&(ne(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=s,s=r,r=d),i=fe(s,r),Yr(this,i,e),this}}function Yr(e,t,s,r){var i=t._milliseconds,d=bs(t._days),f=bs(t._months);e.isValid()&&(r=r??!0,f&&hr(e,Dt(e,"Month")+f*s),d&&ar(e,"Date",Dt(e,"Date")+d*s),i&&e._d.setTime(e._d.valueOf()+i*s),r&&n.updateOffset(e,d||f))}var La=Er(1,"add"),Wa=Er(-1,"subtract");function Pr(e){return typeof e=="string"||e instanceof String}function Ra(e){return H(e)||x(e)||Pr(e)||g(e)||$a(e)||Aa(e)||e===null||e===void 0}function Aa(e){var t=c(e)&&!h(e),s=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,d,f=r.length;for(i=0;i<f;i+=1)d=r[i],s=s||u(e,d);return t&&s}function $a(e){var t=l(e),s=!1;return t&&(s=e.filter(function(r){return!g(r)&&Pr(e)}).length===0),t&&s}function Ha(e){var t=c(e)&&!h(e),s=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,d;for(i=0;i<r.length;i+=1)d=r[i],s=s||u(e,d);return t&&s}function Ua(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Va(e,t){arguments.length===1&&(arguments[0]?Ra(arguments[0])?(e=arguments[0],t=void 0):Ha(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||N(),r=Es(s,this).startOf("day"),i=n.calendarFormat(this,r)||"sameElse",d=t&&(Y(t[i])?t[i].call(this,s):t[i]);return this.format(d||this.localeData().calendar(i,this,N(s)))}function Qa(){return new $(this)}function ja(e,t){var s=H(e)?e:N(e);return this.isValid()&&s.isValid()?(t=le(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ga(e,t){var s=H(e)?e:N(e);return this.isValid()&&s.isValid()?(t=le(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function Ba(e,t,s,r){var i=H(e)?e:N(e),d=H(t)?t:N(t);return this.isValid()&&i.isValid()&&d.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,s):!this.isBefore(i,s))&&(r[1]===")"?this.isBefore(d,s):!this.isAfter(d,s))):!1}function za(e,t){var s=H(e)?e:N(e),r;return this.isValid()&&s.isValid()?(t=le(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(r=s.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Ka(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Za(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function qa(e,t,s){var r,i,d;if(!this.isValid())return NaN;if(r=Es(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=le(t),t){case"year":d=$t(this,r)/12;break;case"month":d=$t(this,r);break;case"quarter":d=$t(this,r)/3;break;case"second":d=(this-r)/1e3;break;case"minute":d=(this-r)/6e4;break;case"hour":d=(this-r)/36e5;break;case"day":d=(this-r-i)/864e5;break;case"week":d=(this-r-i)/6048e5;break;default:d=this-r}return s?d:de(d)}function $t(e,t){if(e.date()<t.date())return-$t(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(s,"months"),i,d;return t-r<0?(i=e.clone().add(s-1,"months"),d=(t-r)/(r-i)):(i=e.clone().add(s+1,"months"),d=(t-r)/(i-r)),-(s+d)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ja(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xa(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Tt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Y(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Tt(s,"Z")):Tt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,r,i,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(s+r+i+d)}function to(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=Tt(this,e);return this.localeData().postformat(t)}function so(e,t){return this.isValid()&&(H(e)&&e.isValid()||N(e).isValid())?fe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ro(e){return this.from(N(),e)}function no(e,t){return this.isValid()&&(H(e)&&e.isValid()||N(e).isValid())?fe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function io(e){return this.to(N(),e)}function Ir(e){var t;return e===void 0?this._locale._abbr:(t=Ce(e),t!=null&&(this._locale=t),this)}var Nr=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Lr(){return this._locale}var Ht=1e3,Ke=60*Ht,Ut=60*Ke,Wr=(365*400+97)*24*Ut;function Ze(e,t){return(e%t+t)%t}function Rr(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-Wr:new Date(e,t,s).valueOf()}function Ar(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-Wr:Date.UTC(e,t,s)}function ao(e){var t,s;if(e=le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Ar:Rr,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ze(t+(this._isUTC?0:this.utcOffset()*Ke),Ut);break;case"minute":t=this._d.valueOf(),t-=Ze(t,Ke);break;case"second":t=this._d.valueOf(),t-=Ze(t,Ht);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function oo(e){var t,s;if(e=le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Ar:Rr,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ut-Ze(t+(this._isUTC?0:this.utcOffset()*Ke),Ut)-1;break;case"minute":t=this._d.valueOf(),t+=Ke-Ze(t,Ke)-1;break;case"second":t=this._d.valueOf(),t+=Ht-Ze(t,Ht)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function lo(){return this._d.valueOf()-(this._offset||0)*6e4}function co(){return Math.floor(this.valueOf()/1e3)}function uo(){return new Date(this.valueOf())}function fo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ho(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function mo(){return this.isValid()?this.toISOString():null}function po(){return te(this)}function go(){return k({},w(this))}function yo(){return w(this).overflow}function wo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}v("N",0,0,"eraAbbr"),v("NN",0,0,"eraAbbr"),v("NNN",0,0,"eraAbbr"),v("NNNN",0,0,"eraName"),v("NNNNN",0,0,"eraNarrow"),v("y",["y",1],"yo","eraYear"),v("y",["yy",2],0,"eraYear"),v("y",["yyy",3],0,"eraYear"),v("y",["yyyy",4],0,"eraYear"),y("N",Ps),y("NN",Ps),y("NNN",Ps),y("NNNN",bo),y("NNNNN",Oo),O(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,r){var i=s._locale.erasParse(e,r,s._strict);i?w(s).era=i:w(s).invalidEra=e}),y("y",Be),y("yy",Be),y("yyy",Be),y("yyyy",Be),y("yo",Eo),O(["y","yy","yyy","yyyy"],J),O(["yo"],function(e,t,s,r){var i;s._locale._eraYearOrdinalRegex&&(i=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[J]=s._locale.eraYearOrdinalParse(e,i):t[J]=parseInt(e,10)});function vo(e,t){var s,r,i,d=this._eras||Ce("en")._eras;for(s=0,r=d.length;s<r;++s){switch(typeof d[s].since){case"string":i=n(d[s].since).startOf("day"),d[s].since=i.valueOf();break}switch(typeof d[s].until){case"undefined":d[s].until=1/0;break;case"string":i=n(d[s].until).startOf("day").valueOf(),d[s].until=i.valueOf();break}}return d}function _o(e,t,s){var r,i,d=this.eras(),f,_,C;for(e=e.toUpperCase(),r=0,i=d.length;r<i;++r)if(f=d[r].name.toUpperCase(),_=d[r].abbr.toUpperCase(),C=d[r].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(_===e)return d[r];break;case"NNNN":if(f===e)return d[r];break;case"NNNNN":if(C===e)return d[r];break}else if([f,_,C].indexOf(e)>=0)return d[r]}function xo(e,t){var s=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*s}function Fo(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].name;return""}function ko(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].narrow;return""}function Co(){var e,t,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return r[e].abbr;return""}function To(){var e,t,s,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(s=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-n(i[e].since).year())*s+i[e].offset;return this.year()}function So(e){return u(this,"_erasNameRegex")||Is.call(this),e?this._erasNameRegex:this._erasRegex}function Do(e){return u(this,"_erasAbbrRegex")||Is.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mo(e){return u(this,"_erasNarrowRegex")||Is.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ps(e,t){return t.erasAbbrRegex(e)}function bo(e,t){return t.erasNameRegex(e)}function Oo(e,t){return t.erasNarrowRegex(e)}function Eo(e,t){return t._eraYearOrdinalRegex||Be}function Is(){var e=[],t=[],s=[],r=[],i,d,f=this.eras();for(i=0,d=f.length;i<d;++i)t.push(ae(f[i].name)),e.push(ae(f[i].abbr)),s.push(ae(f[i].narrow)),r.push(ae(f[i].name)),r.push(ae(f[i].abbr)),r.push(ae(f[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}v(0,["gg",2],0,function(){return this.weekYear()%100}),v(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vt(e,t){v(0,[e,e.length],0,t)}Vt("gggg","weekYear"),Vt("ggggg","weekYear"),Vt("GGGG","isoWeekYear"),Vt("GGGGG","isoWeekYear"),Z("weekYear","gg"),Z("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),y("G",Et),y("g",Et),y("GG",I,ie),y("gg",I,ie),y("GGGG",vs,ws),y("gggg",vs,ws),y("GGGGG",Ot,Mt),y("ggggg",Ot,Mt),lt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,r){t[r.substr(0,2)]=T(e)}),lt(["gg","GG"],function(e,t,s,r){t[r]=n.parseTwoDigitYear(e)});function Yo(e){return $r.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Po(e){return $r.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Io(){return ke(this.year(),1,4)}function No(){return ke(this.isoWeekYear(),1,4)}function Lo(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function Wo(){var e=this.localeData()._week;return ke(this.weekYear(),e.dow,e.doy)}function $r(e,t,s,r,i){var d;return e==null?ut(this,r,i).year:(d=ke(e,r,i),t>d&&(t=d),Ro.call(this,e,t,s,r,i))}function Ro(e,t,s,r,i){var d=yr(e,t,s,r,i),f=ct(d.year,0,d.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}v("Q",0,"Qo","quarter"),Z("quarter","Q"),q("quarter",7),y("Q",or),O("Q",function(e,t){t[xe]=(T(e)-1)*3});function Ao(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}v("D",["DD",2],"Do","date"),Z("date","D"),q("date",9),y("D",I),y("DD",I,ie),y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),O(["D","DD"],ge),O("Do",function(e,t){t[ge]=T(e.match(I)[0])});var Hr=Ge("Date",!0);v("DDD",["DDDD",3],"DDDo","dayOfYear"),Z("dayOfYear","DDD"),q("dayOfYear",4),y("DDD",bt),y("DDDD",lr),O(["DDD","DDDD"],function(e,t,s){s._dayOfYear=T(e)});function $o(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}v("m",["mm",2],0,"minute"),Z("minute","m"),q("minute",14),y("m",I),y("mm",I,ie),O(["m","mm"],ue);var Ho=Ge("Minutes",!1);v("s",["ss",2],0,"second"),Z("second","s"),q("second",15),y("s",I),y("ss",I,ie),O(["s","ss"],Fe);var Uo=Ge("Seconds",!1);v("S",0,0,function(){return~~(this.millisecond()/100)}),v(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),v(0,["SSS",3],0,"millisecond"),v(0,["SSSS",4],0,function(){return this.millisecond()*10}),v(0,["SSSSS",5],0,function(){return this.millisecond()*100}),v(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),v(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),v(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),v(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Z("millisecond","ms"),q("millisecond",16),y("S",bt,or),y("SS",bt,ie),y("SSS",bt,lr);var Pe,Ur;for(Pe="SSSS";Pe.length<=9;Pe+="S")y(Pe,Be);function Vo(e,t){t[Re]=T(("0."+e)*1e3)}for(Pe="S";Pe.length<=9;Pe+="S")O(Pe,Vo);Ur=Ge("Milliseconds",!1),v("z",0,0,"zoneAbbr"),v("zz",0,0,"zoneName");function Qo(){return this._isUTC?"UTC":""}function jo(){return this._isUTC?"Coordinated Universal Time":""}var m=$.prototype;m.add=La,m.calendar=Va,m.clone=Qa,m.diff=qa,m.endOf=oo,m.format=to,m.from=so,m.fromNow=ro,m.to=no,m.toNow=io,m.get=Gn,m.invalidAt=yo,m.isAfter=ja,m.isBefore=Ga,m.isBetween=Ba,m.isSame=za,m.isSameOrAfter=Ka,m.isSameOrBefore=Za,m.isValid=po,m.lang=Nr,m.locale=Ir,m.localeData=Lr,m.max=ma,m.min=ha,m.parsingFlags=go,m.set=Bn,m.startOf=ao,m.subtract=Wa,m.toArray=fo,m.toObject=ho,m.toDate=uo,m.toISOString=Xa,m.inspect=eo,typeof Symbol<"u"&&Symbol.for!=null&&(m[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),m.toJSON=mo,m.toString=Ja,m.unix=co,m.valueOf=lo,m.creationData=wo,m.eraName=Fo,m.eraNarrow=ko,m.eraAbbr=Co,m.eraYear=To,m.year=gr,m.isLeapYear=fi,m.weekYear=Yo,m.isoWeekYear=Po,m.quarter=m.quarters=Ao,m.month=mr,m.daysInMonth=di,m.week=m.weeks=wi,m.isoWeek=m.isoWeeks=vi,m.weeksInYear=Lo,m.weeksInWeekYear=Wo,m.isoWeeksInYear=Io,m.isoWeeksInISOWeekYear=No,m.date=Hr,m.day=m.days=Yi,m.weekday=Pi,m.isoWeekday=Ii,m.dayOfYear=$o,m.hour=m.hours=Hi,m.minute=m.minutes=Ho,m.second=m.seconds=Uo,m.millisecond=m.milliseconds=Ur,m.utcOffset=ka,m.utc=Ta,m.local=Sa,m.parseZone=Da,m.hasAlignedHourOffset=Ma,m.isDST=ba,m.isLocal=Ea,m.isUtcOffset=Ya,m.isUtc=br,m.isUTC=br,m.zoneAbbr=Qo,m.zoneName=jo,m.dates=R("dates accessor is deprecated. Use date instead.",Hr),m.months=R("months accessor is deprecated. Use month instead",mr),m.years=R("years accessor is deprecated. Use year instead",gr),m.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ca),m.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oa);function Go(e){return N(e*1e3)}function Bo(){return N.apply(null,arguments).parseZone()}function Vr(e){return e}var M=_e.prototype;M.calendar=kt,M.longDateFormat=Ln,M.invalidDate=Rn,M.ordinal=Hn,M.preparse=Vr,M.postformat=Vr,M.relativeTime=Vn,M.pastFuture=Qn,M.set=B,M.eras=vo,M.erasParse=_o,M.erasConvertYear=xo,M.erasAbbrRegex=Do,M.erasNameRegex=So,M.erasNarrowRegex=Mo,M.months=ii,M.monthsShort=ai,M.monthsParse=li,M.monthsRegex=ui,M.monthsShortRegex=ci,M.week=mi,M.firstDayOfYear=yi,M.firstDayOfWeek=gi,M.weekdays=Di,M.weekdaysMin=bi,M.weekdaysShort=Mi,M.weekdaysParse=Ei,M.weekdaysRegex=Ni,M.weekdaysShortRegex=Li,M.weekdaysMinRegex=Wi,M.isPM=Ai,M.meridiem=Ui;function Qt(e,t,s,r){var i=Ce(),d=S().set(r,t);return i[s](d,e)}function Qr(e,t,s){if(g(e)&&(t=e,e=void 0),e=e||"",t!=null)return Qt(e,t,s,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Qt(e,r,s,"month");return i}function Ns(e,t,s,r){typeof e=="boolean"?(g(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,g(t)&&(s=t,t=void 0),t=t||"");var i=Ce(),d=e?i._week.dow:0,f,_=[];if(s!=null)return Qt(t,(s+d)%7,r,"day");for(f=0;f<7;f++)_[f]=Qt(t,(f+d)%7,r,"day");return _}function zo(e,t){return Qr(e,t,"months")}function Ko(e,t){return Qr(e,t,"monthsShort")}function Zo(e,t,s){return Ns(e,t,s,"weekdays")}function qo(e,t,s){return Ns(e,t,s,"weekdaysShort")}function Jo(e,t,s){return Ns(e,t,s,"weekdaysMin")}Ye("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=T(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}}),n.lang=R("moment.lang is deprecated. Use moment.locale instead.",Ye),n.langData=R("moment.langData is deprecated. Use moment.localeData instead.",Ce);var Te=Math.abs;function Xo(){var e=this._data;return this._milliseconds=Te(this._milliseconds),this._days=Te(this._days),this._months=Te(this._months),e.milliseconds=Te(e.milliseconds),e.seconds=Te(e.seconds),e.minutes=Te(e.minutes),e.hours=Te(e.hours),e.months=Te(e.months),e.years=Te(e.years),this}function jr(e,t,s,r){var i=fe(t,s);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function el(e,t){return jr(this,e,t,1)}function tl(e,t){return jr(this,e,t,-1)}function Gr(e){return e<0?Math.floor(e):Math.ceil(e)}function sl(){var e=this._milliseconds,t=this._days,s=this._months,r=this._data,i,d,f,_,C;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Gr(Ls(s)+t)*864e5,t=0,s=0),r.milliseconds=e%1e3,i=de(e/1e3),r.seconds=i%60,d=de(i/60),r.minutes=d%60,f=de(d/60),r.hours=f%24,t+=de(f/24),C=de(Br(t)),s+=C,t-=Gr(Ls(C)),_=de(s/12),s%=12,r.days=t,r.months=s,r.years=_,this}function Br(e){return e*4800/146097}function Ls(e){return e*146097/4800}function rl(e){if(!this.isValid())return NaN;var t,s,r=this._milliseconds;if(e=le(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,s=this._months+Br(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Ls(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function nl(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+T(this._months/12)*31536e6:NaN}function Se(e){return function(){return this.as(e)}}var il=Se("ms"),al=Se("s"),ol=Se("m"),ll=Se("h"),dl=Se("d"),cl=Se("w"),ul=Se("M"),fl=Se("Q"),hl=Se("y");function ml(){return fe(this)}function pl(e){return e=le(e),this.isValid()?this[e+"s"]():NaN}function $e(e){return function(){return this.isValid()?this._data[e]:NaN}}var gl=$e("milliseconds"),yl=$e("seconds"),wl=$e("minutes"),vl=$e("hours"),_l=$e("days"),xl=$e("months"),Fl=$e("years");function kl(){return de(this.days()/7)}var De=Math.round,qe={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Cl(e,t,s,r,i){return i.relativeTime(t||1,!!s,e,r)}function Tl(e,t,s,r){var i=fe(e).abs(),d=De(i.as("s")),f=De(i.as("m")),_=De(i.as("h")),C=De(i.as("d")),E=De(i.as("M")),X=De(i.as("w")),Me=De(i.as("y")),Ie=d<=s.ss&&["s",d]||d<s.s&&["ss",d]||f<=1&&["m"]||f<s.m&&["mm",f]||_<=1&&["h"]||_<s.h&&["hh",_]||C<=1&&["d"]||C<s.d&&["dd",C];return s.w!=null&&(Ie=Ie||X<=1&&["w"]||X<s.w&&["ww",X]),Ie=Ie||E<=1&&["M"]||E<s.M&&["MM",E]||Me<=1&&["y"]||["yy",Me],Ie[2]=t,Ie[3]=+e>0,Ie[4]=r,Cl.apply(null,Ie)}function Sl(e){return e===void 0?De:typeof e=="function"?(De=e,!0):!1}function Dl(e,t){return qe[e]===void 0?!1:t===void 0?qe[e]:(qe[e]=t,e==="s"&&(qe.ss=t-1),!0)}function Ml(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,r=qe,i,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(r=Object.assign({},qe,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),d=Tl(this,!s,r,i),s&&(d=i.pastFuture(+this,d)),i.postformat(d)}var Ws=Math.abs;function Je(e){return(e>0)-(e<0)||+e}function jt(){if(!this.isValid())return this.localeData().invalidDate();var e=Ws(this._milliseconds)/1e3,t=Ws(this._days),s=Ws(this._months),r,i,d,f,_=this.asSeconds(),C,E,X,Me;return _?(r=de(e/60),i=de(r/60),e%=60,r%=60,d=de(s/12),s%=12,f=e?e.toFixed(3).replace(/\.?0+$/,""):"",C=_<0?"-":"",E=Je(this._months)!==Je(_)?"-":"",X=Je(this._days)!==Je(_)?"-":"",Me=Je(this._milliseconds)!==Je(_)?"-":"",C+"P"+(d?E+d+"Y":"")+(s?E+s+"M":"")+(t?X+t+"D":"")+(i||r||e?"T":"")+(i?Me+i+"H":"")+(r?Me+r+"M":"")+(e?Me+f+"S":"")):"P0D"}var D=Rt.prototype;D.isValid=va,D.abs=Xo,D.add=el,D.subtract=tl,D.as=rl,D.asMilliseconds=il,D.asSeconds=al,D.asMinutes=ol,D.asHours=ll,D.asDays=dl,D.asWeeks=cl,D.asMonths=ul,D.asQuarters=fl,D.asYears=hl,D.valueOf=nl,D._bubble=sl,D.clone=ml,D.get=pl,D.milliseconds=gl,D.seconds=yl,D.minutes=wl,D.hours=vl,D.days=_l,D.weeks=kl,D.months=xl,D.years=Fl,D.humanize=Ml,D.toISOString=jt,D.toString=jt,D.toJSON=jt,D.locale=Ir,D.localeData=Lr,D.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jt),D.lang=Nr,v("X",0,0,"unix"),v("x",0,0,"valueOf"),y("x",Et),y("X",Kn),O("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)}),O("x",function(e,t,s){s._d=new Date(T(e))});return n.version="2.29.4",o(N),n.fn=m,n.min=pa,n.max=ga,n.now=ya,n.utc=S,n.unix=Go,n.months=zo,n.isDate=x,n.locale=Ye,n.invalid=V,n.duration=fe,n.isMoment=H,n.weekdays=Zo,n.parseZone=Bo,n.localeData=Ce,n.isDuration=At,n.monthsShort=Ko,n.weekdaysMin=Jo,n.defineLocale=Cs,n.updateLocale=Gi,n.locales=Bi,n.weekdaysShort=qo,n.normalizeUnits=le,n.relativeTimeRounding=Sl,n.relativeTimeThreshold=Dl,n.calendarFormat=Ua,n.prototype=m,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Ql={};Nl(Ql,{default:()=>ms});module.exports=Ll(Ql);var Yn=require("obsidian");var be=require("obsidian");var ye=require("obsidian"),zt={state:{source:!1,mode:"source"}},Ne=/\[\[(.+?)([|#].*?)?\]\] ?/;async function Wl(a,n){await a.workspace.getLeaf().openFile(n,zt),a.commands.executeCommandById("file-explorer:reveal-active-file")}function b(a,n){let{app:o,settings:l}=a,c=n===void 0?o.workspace.getActiveFile():typeof n=="string"?o.vault.getFileByPath(n):n;return!c||!(c instanceof ye.TFile)||c.extension!=="md"?"Not Markdown":c.name==="Template.md"?"Template":c.path.includes(a.backupDirName)?"Backup":c.path.startsWith(l.coding.folder+"/")?"Code File":c.path.startsWith(l.extraction.folder+"/")?"Extraction File":"Data File"}async function Kt(a,n,o){let{app:l,settings:c}=a,u=c.analysis.folder;l.vault.getFolderByPath(u)||l.vault.createFolder(u);let p=(0,ye.normalizePath)(u+`/${n}.md`),g=l.vault.getFileByPath(p);g?await l.vault.modify(g,o.join(`
`)):g=await l.vault.create(p,o.join(`
`)),await Wl(l,g),z(l)?.setCursor({line:0,ch:0})}function z(a){let n=a.workspace.activeEditor?.editor;return n||new ye.Notice("No active editor."),n}function Le(a){if(a.getLine(a.getCursor().line).trim()===""&&!a.somethingSelected())return new ye.Notice(`Current line is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let o=a.getCursor("head").line!==a.getCursor("anchor").line,l=a.listSelections().length>1;return o||l?(new ye.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Xe(a){let n=a.getSelection().includes("==");return n&&new ye.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`,4e3),n}var Rl=/[|^#]/;function Zt(a){let n=a.workspace.getActiveFile();if(!n)return!1;let o=n.basename.match(Rl)?.[0];if(!o)return!1;let l=`The current file contains an invalid character: ${o}

Rename the file and try again.`;return new ye.Notice(l,0),!0}function qt(a){a.metadataTypeManager.setType("extraction-date","datetime"),a.metadataTypeManager.setType("merge-date","datetime"),a.metadataTypeManager.setType("extraction-source","multitext"),a.metadataTypeManager.setType("code description","text")}var Jt={"last used first":(a,n)=>n.stat.mtime-a.stat.mtime,"oldest used first":(a,n)=>a.stat.mtime-n.stat.mtime,"frequently used first":(a,n)=>n.stat.size-a.stat.size,"rarely used first":(a,n)=>a.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(a,n)=>a.basename.localeCompare(n.basename)},Kr={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Zr={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},we={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:",",ignorePropertyOnMerge:[],displayProperty:[]},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function pt(a,n){return n.path.slice(a.settings.coding.folder.length+1,-3)}function qr(a,n){return n?n.path===a.settings.coding.folder+"/Template.md":!1}function gt(a,n){let o=a.app.metadataCache.resolvedLinks[n.path]||{},l=0;for(let[c,u]of Object.entries(o))b(a,c)==="Data File"&&(l+=u);return l}function Xt(a,n,o){let l=a.app;return(o.match(new RegExp(Ne,"g"))||[]).reduce((h,p)=>{let[g,x]=p.match(Ne)||[];if(!x)return h;let F=l.metadataCache.getFirstLinkpathDest(x,n.path);return F&&b(a,F)==="Code File"&&h.push({tFile:F,wikilink:p}),h},[])}function es(a){let n=a.app.vault.getMarkdownFiles().filter(l=>b(a,l)==="Code File"),o=Jt[a.settings.coding.sortFunc];return n.sort(o),n}function et(a,n){let o=pt(a,n);if(!a.settings.coding.displayCount)return o;let c=gt(a,n);return`${o} (${c}x)`}async function Jr(a){let n=["*This file updates automatically, any manual changes to it will be lost.*","","```"+a.codeblockLabels.codeOverview,"```",""];await Kt(a,"Code Overview",n)}function Xr(a,n){let{app:o,settings:l}=a,c=[...n.children];c.sort((h,p)=>h instanceof be.TFolder&&p instanceof be.TFile?-1:h instanceof be.TFile&&p instanceof be.TFolder?1:h.name.localeCompare(p.name));let u="";for(let h of c)if(h instanceof be.TFolder){let p=h;if(!p.children.some(F=>F instanceof be.TFile&&F.extension==="md"))continue;let x=Xr(a,p);u+=`<li>\u{1F4C1} ${p.name} ${x}</li>`}else if(h instanceof be.TFile){let p=h,g=p.path===l.coding.folder+"/Template.md",x=p.extension!=="md";if(g||x)continue;let F=o.metadataCache.getFileCache(p)?.frontmatter?.["code description"],k=F?": "+F:"",S=`<a href="${p.path}" class="internal-link">${p.basename}</a>`,P=gt(a,p);u+=`<li>\u{1F4C4} ${S} (${P}x)${k}</li>`}return`<ul>${u}</ul>`}function en(a){let{app:n,settings:o}=a,l=n.vault.getFolderByPath(o.coding.folder);return l?Xr(a,l):`\u26A0\uFE0F Code folder "${o.coding.folder}" not found.`}var Us=require("obsidian");var tn=Bt(yt()),As=/\^[\w-]+$/,sn=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function Al(a){let[n]=a.match(As)||[];if(n){let l=a.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:l}}return{blockId:"^id-"+(0,tn.default)().format("YYMMDD-HHmmss"),lineWithoutId:a.trim()}}function st(a){let n=a.getCursor(),o=a.getLine(n.line),l=a.getSelection();if(l){let h=l.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");a.replaceSelection(h),o=a.getLine(n.line)}let{blockId:c,lineWithoutId:u}=Al(o);return{blockId:c,lineWithoutId:u}}function rt(a,n,o,l,c){let u=a.editorComponent.view.file;if(!u)return;let h=a.editorComponent.app;h.vault.setConfig("useMarkdownLinks",!1);let p=h.fileManager.generateMarkdownLink(n,u.path,"",o),g=`${l} ${p} ${c}`,x=a.getCursor();a.setLine(x.line,g),a.setCursor(x)}var ts=require("obsidian"),re=class extends ts.FuzzySuggestModal{hotkeyInstructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.hotkeyInstructions),this.scope.register([],"Tab",()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))}),this.scope.register(["Shift"],"Tab",()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowUp"}))})}},He=class extends ts.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){this.contentEl.empty()}};var ee=require("obsidian");var rs=require("obsidian"),Ue=class extends rs.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,o){super(n.app,o),this.textInputEl=o,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(l=>l instanceof rs.TFolder)}getSuggestions(n){return this.foldersInVault.filter(o=>o.path.includes(n))}renderSuggestion(n,o){o.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function rn(a,n){return n.path.slice(a.settings.coding.folder.length+1)+"/"}var ss=class extends Ue{getSuggestions(n){if(!n.includes("/"))return[];let o=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),h=c.path.startsWith(o.coding.folder+"/"),p=!c.path.includes(this.plugin.backupDirName);return u&&h&&p})}renderSuggestion(n,o){let l=rn(this.plugin,n);o.createEl("span",{text:l})}selectSuggestion(n){this.textInputEl.value=rn(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var $s=class extends He{fullCode="";codeDesc="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let o=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),l=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new ee.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new ss(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!o(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),l())})}),new ee.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),l())})}),new ee.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},Hs=class extends He{input="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new ee.Setting(n).addTextArea(o=>{o.onChange(l=>{this.input=l.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new ee.Setting(n).addButton(o=>{this.confirmationButton=o.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(o=>o.setButtonText("Cancel").onClick(()=>this.close()))}};async function nn(a,n,o){let{app:l,settings:c}=a;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,ee.normalizePath)(`${c.coding.folder}/${n}.md`);if(l.vault.getFileByPath(u))return new ee.Notice(`Code "${n}" already exists, Code File not created.`,0),!1;let p=n.split("/"),g=p.pop(),x=p.length>0?"/"+p.join("/"):"",F=c.coding.folder+x;l.vault.getFolderByPath(F)||await l.vault.createFolder(F);let S=`code description: "${o.replaceAll('"',"'")}"`,P=l.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(P){let V=/^code description: (.*)$/m,j=await l.vault.read(P),{exists:L,frontmatter:G}=(0,ee.getFrontMatterInfo)(j);L&&(G=G.match(V)?G.replace(V,S):S+`
`+G,w.push(...G.trim().split(`
`)))}else w.push(S);let Q=["---",...w,"---","",""],te=await l.vault.create(`${F}/${g}.md`,Q.join(`
`));return te?(new ee.Notice(`Created new code file: "${n}"`,3500),te):(new ee.Notice("Failed to create new code file.",0),!1)}function an(a,n){new $s(a,async(o,l)=>{let c=await nn(a,o,l);c&&n(c)}).open()}function on(a){new Hs(a,async n=>{let o=0,l=[];for(let u of n.split(`
`))await nn(a,u,"")?o++:l.push(u);let c=`${o} file(s) created`;l.length>0&&(c+=`
Could not create: `+l.join(", ")),new ee.Notice(c,l.length>0?0:3e3)}).open()}var Vs=class extends re{editor;codesInPara;dataFile;constructor(n,o,l,c){super(n),this.editor=o,this.codesInPara=l,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([...this.hotkeyInstructions,{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(u.preventDefault(),this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...es(this.plugin).filter(l=>!this.codesInPara.find(c=>c.path===l.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u2B51 Create new code":et(this.plugin,n)}onChooseItem(n){n==="new-code-file"?an(this.plugin,o=>this.assignCode(o,this.dataFile)):this.assignCode(n,this.dataFile)}async assignCode(n,o){let l=this.editor,c=pt(this.plugin,n),{blockId:u,lineWithoutId:h}=st(l);rt(l,n,c,h,u);let p=`![[${o.path.slice(0,-3)}#${u}]]
`;await this.app.vault.append(n,p)}};function ln(a){let{app:n}=a,o=z(n);if(!o||Le(o))return;if(b(a)!=="Data File"){new Us.Notice("You must be in a Data File to assign a code.",4e3);return}if(Xe(o)||Zt(n))return;let l=o.editorComponent.view.file;if(!l){new Us.Notice("No file open.",4e3);return}let c=o.getLine(o.getCursor().line),u=Xt(a,l,c).map(h=>h.tFile);new Vs(a,o,u,l).open()}var Qs=require("obsidian");async function dn(a){let n=a.app,o=z(n);if(!o)return;if(b(a)!=="Code File"){new Qs.Notice("Must be in a Code File to delete the code everywhere.",4e3);return}let l=o.editorComponent.view.file;if(!l){new Qs.Notice("No file open.",4e3);return}await n.vault.trash(l,!0)}var is=require("obsidian");var js=Bt(yt()),ve=require("obsidian");function $l(a){a.workspace.activeEditor?.editor?.editorComponent?.view?.currentMode?.cleanupLivePreview?.()}async function ns(a,n,o,l,c){let{app:u,settings:h}=a;l=(0,ve.normalizePath)(l+"/"+a.backupDirName),u.vault.getFolderByPath(l)||await u.vault.createFolder(l);let p=(0,js.default)().format("YY-MM-DD_HH-mm-ss");await u.vault.copy(n,`${l}/${n.basename} ${p}.md`),await u.vault.copy(o,`${l}/${o.basename} ${p}.md`);let g=[...h.extraction.ignorePropertyOnMerge,"extraction-date","merge-date"],x=u.metadataCache.getFileCache(o)?.frontmatter||{},F={};await u.fileManager.processFrontMatter(n,ne=>{for(let Y in x){let B=ne[Y],se=x[Y],_e=!B&&B!==0&&B!==!1,We=!se&&se!==0&&se!==!1;if(!(g.includes(Y)||B===se||We)){if(_e){ne[Y]=se;continue}if(Array.isArray(B)&&Array.isArray(se)){ne[Y]=[...new Set([...B,...se])];continue}ne[Y]=B,F[Y]=se}}ne["merge-date"]=(0,js.default)().format("YYYY-MM-DDTHH:mm")});let k=await u.vault.read(n),S=await u.vault.read(o),P=k.slice((0,ve.getFrontMatterInfo)(k).contentStart),w=S.slice((0,ve.getFrontMatterInfo)(S).contentStart),Q="";Object.keys(F).length>0&&(Q=`
`+["#### Properties that could be not be automatically merged",...(0,ve.stringifyYaml)(F).trim().split(`
`).map(B=>"- "+B),"","---"].join(`
`)+`

`);let V=(P+`
`+w).replaceAll(`**Paragraph extracted from:**
`,"").replace(/\n{2,}/g,`
`),j=k.slice(0,(0,ve.getFrontMatterInfo)(k).contentStart);await u.vault.modify(n,j+Q+V),$l(u),z(u)?.setCursor({line:0,ch:0});let L=[];for(let[ne,Y]of Object.entries(u.metadataCache.resolvedLinks))Object.keys(Y).includes(o.path)&&L.push(ne);let G=[...new Set(L)],$=0,H=0;for(let ne of G){let Y=u.vault.getFileByPath(ne);if(!Y)continue;let B=await u.vault.read(Y),se=u.metadataCache.getFileCache(Y)?.links||[];for(let _e of se){if(_e.link!==o.basename&&_e.link!==o.path)continue;let We=c?"|"+pt(a,n):"",Ft=`[[${n.basename}${We}]]`,{start:kt,end:oe}=_e.position;B=B.slice(0,kt.offset)+Ft+B.slice(oe.offset),H++}await u.vault.modify(Y,B),$++}u.vault.delete(o);let pe=H===1?"":"s",R=$===1?"":"s",ce=[`"${o.basename}" merged into "${n.basename}".`,`${H} reference${pe} in ${$} file${R} updated.`,`A backup of the original files has been saved in the subfolder "${a.backupDirName}."`].join(`

`);new ve.Notice(ce,12e3)}var Gs=class extends re{mergeKeepFile;constructor(n,o){super(n),this.setPlaceholder(`Select Code File to merge into "${o.basename}":`),this.mergeKeepFile=o}getItems(){let n=es(this.plugin).filter(o=>o.path!==this.mergeKeepFile.path);return n.length===0&&(new is.Notice("No other codes have been created yet.",4e3),this.close()),n}getItemText(n){return et(this.plugin,n)}async onChooseItem(n){let o=this.plugin.settings.coding.folder;await ns(this.plugin,this.mergeKeepFile,n,o,!0)}};function cn(a){let n=z(a.app);if(!n)return;if(b(a)!=="Code File"){new is.Notice("You must be in a Code File for this.",3500);return}let o=n.editorComponent.view.file;if(!o){new is.Notice("No file open.",4e3);return}new Gs(a,o).open()}var Bs=require("obsidian");function un(a){b(a)!=="Code File"?new Bs.Notice("You must be in a Code File.",4e3):qr(a,a.app.workspace.getActiveFile())?new Bs.Notice("You cannot rename the template file.",5e3):a.app.commands.executeCommandById("workspace:edit-file-title")}var he=require("obsidian");var nt=require("obsidian");async function fn(a,n){let o=a.app,l=[],c=0,u=b(a,n),h=o.metadataCache.getFileCache(n)?.embeds||[];for(let g of h){let[x,F]=g.link.split("#");if(!x||!F)continue;let k=o.metadataCache.getFirstLinkpathDest(x,n.path);if(!k||b(a,k)!=="Data File")continue;let P=await zs(o,n,k,F);P?l.push(P):c++}if(c===0&&l.length===0){let g=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new nt.Notice(g,0);return}let p=`${u} "${n.name}" and ${c} references to it deleted.
`;if(l.length>0){let g=[p,`\u26A0\uFE0F ${l.length} references could not be deleted:`,"- "+l.join(`
- `)].join(`
`);new nt.Notice(g,0)}else new nt.Notice(p)}async function zs(a,n,o,l){let c=(await a.vault.read(o)).split(`
`),u=c.findIndex(x=>x.endsWith(l));if(u<0)return`Data File "${o.basename}", has no line with the ID "${l}".`;let h=c[u]||"",g=(h.match(new RegExp(Ne,"g"))||[]).find(x=>{x=x.trim().slice(2,-2);let F=a.metadataCache.getFirstLinkpathDest(x,o.path);return F instanceof nt.TFile&&F.path===n.path});return g?(c[u]=h.replace(g,""),await a.vault.modify(o,c.join(`
`)),""):`Data File "${o.basename}", line "${l}" has no valid link to the "${n.name}".`}var Ks=class extends re{codesInParagraph;dataFile;editor;constructor(n,o,l,c){super(n),this.codesInParagraph=c,this.dataFile=l,this.editor=o,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return et(this.plugin,n.tFile)}onChooseItem(n){hn(this.editor,this.dataFile,n)}};async function hn(a,n,o){let l=a.editorComponent.app,c=a.getCursor().line,u=a.getLine(c),h=u.replace(o.wikilink,"");a.setLine(c,h);let[p]=u.match(As)||[];if(!p){new he.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`,0);return}let g=(await l.vault.read(o.tFile)).split(`
`),x=g.findIndex(F=>{if(!F.includes(p))return!1;let k=F.match(new RegExp(Ne,"g"))||[];for(let S of k){let[P,w]=S.match(Ne)||[];if(!w)continue;if(l.metadataCache.getFirstLinkpathDest(w,o.tFile.path)?.path===n.path)return!0}return!1});if(x<0){new he.Notice(`"Code File "${o.tFile.basename}" contains no reference to Data File "${n.basename}" with the ID "${p}". Reference in Code File is thus not deleted.`,0);return}g.splice(x,1),await l.vault.modify(o.tFile,g.join(`
`)),new he.Notice(`Assignment of code "${o.tFile.basename}" removed.`,3500)}async function Hl(a,n){let o=n.getLine(n.getCursor().line),[l,c,u]=o.match(sn)||[],h=n.editorComponent.view.file;if(!h){new he.Notice("No file open.",4e3);return}let p=a.metadataCache.getFirstLinkpathDest(c||"",h.path);if(!u||!c||!p){new he.Notice("Current line has no correct reference.",0);return}let g=await zs(a,h,p,u);if(g){new he.Notice(g+`

Aborting removal of Code.`,0);return}a.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new he.Notice(`Assignment of code "${h.basename}" removed.`,3500)}function mn(a){let n=a.app,o=z(n);if(!o||Le(o))return;if(b(a)==="Code File"&&Hl(n,o),b(a)!=="Data File"){new he.Notice("You must be in a Data File or Code File to unassign a code.",4e3);return}let l=o.editorComponent.view.file;if(!l){new he.Notice("No file open.",4e3);return}let c=o.getLine(o.getCursor().line),u=Xt(a,l,c);u.length===0?new he.Notice("Line does not contain any codes to remove.",3500):u.length===1?hn(o,l,u[0]):new Ks(a,o,l,u).open()}var pn=[{id:"assign-code",name:"Assign code to paragraph",func:ln,hotkeyLetter:"a",icon:"plus-circle"},{id:"rename-code",name:"Rename code",func:un,hotkeyLetter:"r",icon:"circle-slash"},{id:"unassign-code",name:"Remove code from paragraph",func:mn,hotkeyLetter:"d",icon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:dn,icon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:cn,icon:"circle-dot"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:on,icon:"circle-dashed"},{id:"code-overview-codeblock",name:"Show code overview",func:Jr,icon:"circle-equal"}];var _t=require("obsidian");var Oe=require("obsidian");async function wt(a,n){let{app:o,settings:l}=a,c=l.extraction.openingMode,u=o.workspace.getLeaf();if(c==="tab"){let h=u.parent;await o.workspace.createLeafInParent(h,h.children.length).openFile(n,zt)}else{let h=c==="right-split"?"right":"bottom",p=c==="right-split"?"vertical":"horizontal",g=o.workspace.getAdjacentLeafInDirection(u,h)||o.workspace.createLeafBySplit(u,p,!1);await g.openFile(n,zt),g.parent.setDimension(2)}}function as(a,n){a.vault.setConfig("propertiesInDocument","visible"),setTimeout(()=>{let o=a.workspace.getActiveViewOfType(Oe.MarkdownView)?.metadataEditor.rendered[0];if(!o)return;o[n==="key"?"focusKey":"focusValue"]()},350)}var it=class extends re{extractionTypes;callback;constructor(n,o){super(n),this.extractionTypes=vt(n),this.callback=o,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes.sort((n,o)=>{let l=me(this.plugin,n).length;return me(this.plugin,o).length-l})}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return n.name;let l=me(this.plugin,n).length;return`${n.name} (${l}x)`}onChooseItem(n){this.callback(n)}};function os(a,n){let{app:o,settings:l}=a,c=o.metadataCache.getFileCache(n)?.frontmatter,u=l.extraction.displayProperty;if(!c||u.length===0)return n.basename;let h=c?.["extraction-source"]?.length||0,p=h>1?`${h}x`:"",g=u.find(S=>{let P=c[S];return Array.isArray(P)?P.length>0:P||P===0});if(!g)return n.basename;let x=c[g];Array.isArray(x)&&(x=x.join(", "));let F=x?`${g}: ${x}`:"";return[n.basename,p,F].filter(Boolean).join("  \u2B29  ")}function ls(a,n){let o=a.vault.getFileByPath(`${n.path}/Template.md`);if(!o){new Oe.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,0);return}let l=a.metadataCache.getFileCache(o)?.frontmatter;if(!l){new Oe.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,0);return}return l}function vt(a){let{app:n,settings:o}=a,l=n.vault.getFolderByPath(o.extraction.folder);if(!l){new Oe.Notice("ERROR: Could not find Extraction Folder.",0);return}let c=l.children.filter(u=>u instanceof Oe.TFolder&&u.children.find(h=>h.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new Oe.Notice(u,0);return}return c}function me(a,n){return n.children.filter(l=>b(a,l)==="Extraction File")}var Zs=class extends re{editor;constructor(n,o){super(n),this.setPlaceholder("Add paragraph to following Extraction File:"),this.editor=o}getItems(){let{app:n,settings:o,plugin:l}=this,c=o.extraction.folder,u=n.vault.getMarkdownFiles().filter(h=>h.path.startsWith(c+"/")&&b(l,h)==="Extraction File").sort((h,p)=>p.stat.mtime-h.stat.mtime);return u.length===0&&(new _t.Notice("No extractions have been created yet.",3e3),this.close()),u}getItemText(n){return os(this.plugin,n)}async onChooseItem(n){let{app:o,editor:l}=this,c=l.editorComponent.view.file;if(!c){new _t.Notice("No file open.",4e3);return}let{blockId:u,lineWithoutId:h}=st(l);if(l.getLine(l.getCursor().line).includes(`[[${n.basename}]]`)){new _t.Notice(`The paragraph already references "${n.basename}". Aborting.`,0);return}let g=`${c.path.slice(0,-3)}#${u}`,x=`[[${g}]]`;o.fileManager.processFrontMatter(n,F=>{let k=F["extraction-source"];F["extraction-source"]=k?[...k,x]:[x]}),await o.vault.append(n,`![[${g}]]
`),rt(l,n,n.basename,h,u)}};function gn(a){let n=z(a.app);if(!(!n||Le(n)||Xe(n))){if(b(a)!=="Data File"){new _t.Notice("You must be in a Data File to make an extraction.",4e3);return}new Zs(a,n).open()}}var Ve=require("obsidian");var qs=class extends He{onSubmit;nameOfNewType="";constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let o=c=>c!=="",l=()=>{this.close(),this.onSubmit(this.nameOfNewType)};new Ve.Setting(n).setName("Name of the new type").addText(c=>{c.onChange(u=>{this.nameOfNewType=u.trim(),this.confirmationButton?.setDisabled(!o(u))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.nameOfNewType)&&(u.preventDefault(),l())})}),new Ve.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}};function yn(a){let{app:n,settings:o}=a;new qs(a,async l=>{l=l.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Ve.normalizePath)(o.extraction.folder+"/"+l);await n.vault.createFolder(c),new Ve.Notice(`Creating New Template for Extraction Type "${l}"`,6e3);let h=await n.vault.create(c+"/Template.md",`---
dimension: 
---

`);await wt(a,h),n.commands.executeCommandById("file-explorer:reveal-active-file"),as(n,"key")}).open()}var vn=Bt(yt()),Ee=require("obsidian");var Ul="-";function wn(a,n){return a.map(l=>`"${l.replaceAll('"','""')}"`).join(n)}async function _n(a){let{app:n,settings:o}=a,l=o.extraction.csvSeparator,c=vt(a);if(!c)return;let u;for(let h of c){let p=[],g=ls(n,h);if(!g){let L=`Export of Extraction Type "${h.name}" is skipped, as the Templade.md has no valid properties.`;new Ee.Notice(L,0);continue}let x=["File",...Object.keys(g),"extraction-date","extraction-source"],F=wn(x,l);p.push(F);let k=h.children.filter(L=>L instanceof Ee.TFile&&L.name!=="Template.md");for(let L of k){let G=n.metadataCache.getFileCache(L)?.frontmatter;if(!G)continue;let $=[];for(let pe of x){if(pe==="File"){$.push(L.basename);continue}let R=G[pe]??Ul,ce=typeof R!="object"?R.toString():Array.isArray(R)?R.join("; "):JSON.stringify(R);pe==="extraction-source"&&(ce=ce.replace(/\[\[|\]\]/g,"")),$.push(ce)}let H=wn($,l);p.push(H)}let S=(0,Ee.normalizePath)(o.analysis.folder+"/CSV Export");n.vault.getFolderByPath(S)||await n.vault.createFolder(S);let w=p.join(`
`),Q=(0,vn.default)().format("YYYY-MM-DD_HH-mm-ss"),te=(0,Ee.normalizePath)(`${S}/${h.name}_${Q}.csv`),V=await n.vault.create(te,w),j=V?`Successfully exported "${h.name}".`:`ERROR: Export for "${h.name}" failed.`;new Ee.Notice(j,V?5e3:0),!u&&V&&(u=V)}new Ee.Notice("All CSV exports finished.",3500),u&&n.showInFolder(u.path)}var Fn=Bt(yt()),Qe=require("obsidian");async function xn(a,n,o){let l=a.app;qt(l);let c=o.name,u=o.path,h=n.editorComponent.view.file;if(!h){new Qe.Notice("No file open.",4e3);return}let p=l.vault.getFileByPath(`${u}/Template.md`);if(!p){new Qe.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${c}".`,0);return}let g=await l.vault.cachedRead(p),{exists:x,frontmatter:F}=(0,Qe.getFrontMatterInfo)(g);if(!x){new Qe.Notice(`The file "Template.md" in the folder "${u}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,0),wt(a,p);return}let k,S=me(a,o).length;for(;;){S++;let G=S.toString().padStart(3,"0");if(k=`${u}/${c} ${G}.md`,!l.vault.getFileByPath(k))break}let{blockId:P,lineWithoutId:w}=st(n),Q=`${h.path.slice(0,-3)}#${P}`,te=(0,Fn.default)().format("YYYY-MM-DDTHH:mm"),V=["---",...F.split(`
`),"extraction-date: "+te,"extraction-source:",`  - "[[${Q}]]"`,"---","","**Paragraph extracted from:**",`![[${Q}]]`].join(`
`),j=await l.vault.create(k,V),L=j.basename;rt(n,j,L,w,P),await wt(a,j),as(l,"value")}function kn(a){let{app:n}=a,o=z(n);if(!o||Le(o))return;if(b(a)!=="Data File"){new Qe.Notice("You must be in a Data File to make an extraction.",4e3);return}if(Xe(o)||Zt(n))return;let l=vt(a);l&&(l.length===1?xn(a,o,l[0]):new it(a,c=>{xn(a,o,c)}).open())}var Cn=require("obsidian");function Tn(a){new it(a,async n=>{let o="Extraction Overview \u2013 "+n.name,l=["*This file updates automatically, any manual changes to it will be lost.*","","> [!INFO]","> You can use the codeblock property \"filter\" to only show specific values, Click the `</>` icon to edit the filter, for example: `filter: 'word'`, and move the cursor out of the codeblock. (Leave it empty to show all values.)","","```"+a.codeblockLabels.extractionOverview,`extraction-type: "${n.name}"`,'filter: ""',"```",""];await Kt(a,o,l)}).open()}function Sn(a,n){let o=a.app;o.internalPlugins.plugins["global-search"].enable();let l=(0,Cn.parseYaml)(n),c=l["extraction-type"],u=(l.filter||"").trim().toLowerCase(),h=a.settings.extraction.folder+"/"+c,p=l.ignore||[],g=o.vault.getFolderByPath(h);if(!g)return`\u26A0\uFE0F Extraction Type "${c}" invalid.`;let x=ls(o,g);if(!x)return`\u26A0\uFE0F Invalid template or frontmatter for "${c}".`;let F=Object.keys(x),k=me(a,g),S=F.map(w=>{let Q=o.metadataTypeManager.getPropertyInfo(w)?.type||"",te=o.metadataCache.getFrontmatterPropertyValuesForKey(w);if(te.length===0)return`<b>${w}</b> <small>not used yet</small><br>`;if(Q.startsWith("date")||p.includes(w))return`<b>${w}</b> <small>(type "${Q}")</small><br>`;let V=te.reduce((j,L)=>{if(u&&!L.toLowerCase().includes(u))return j;let $=0;for(let R of k){let ce=o.metadataCache.getFileCache(R)?.frontmatter?.[w];(ce===L||ce?.includes(L))&&$++}if($===0)return j;let H=L.replaceAll('"','\\"'),pe=`obsidian://search?query=["${w}":"${H}"] path:"${g.path}"`;return j.push(`<li><a href='${pe}'>${L}</a> (${$}x)</li>`),j},[]);return`<b>${w}</b> <small><ul>${V.join("")}</ul></small>`});return(u?`<hr><b>Filter:</b> <mark>${u}</mark><hr><br>`:"")+S.join("")}var ds=require("obsidian");var Js=class extends re{mergeKeepFile;constructor(n,o){super(n),this.setPlaceholder(`Select Extraction File to merge into "${o.basename}":`),this.mergeKeepFile=o}getItems(){let n=this.mergeKeepFile.parent,o=me(this.plugin,n).filter(l=>l.path!==this.mergeKeepFile.path).sort((l,c)=>c.stat.mtime-l.stat.mtime);return o.length===0&&(new ds.Notice("No other extractions have been created yet.",4e3),this.close()),o}getItemText(n){return os(this.plugin,n)}async onChooseItem(n){let o=this.mergeKeepFile.parent?.path||"";await ns(this.plugin,this.mergeKeepFile,n,o,!1)}};function Dn(a){let n=z(a.app);if(!n)return;if(b(a)!=="Extraction File"){new ds.Notice("You must be in an Extraction File for this.",4e3);return}let o=n.editorComponent.view.file;if(!o){new ds.Notice("No file open.",4e3);return}new Js(a,o).open()}var Mn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:kn,hotkeyLetter:"e",icon:"plus-square"},{id:"extract-existing-extraction-file",name:"Add paragraph as source to existing Extraction File",func:gn,hotkeyLetter:"l",icon:"square-asterisk"},{id:"merge-extractions",name:"Merge current Extraction File into another Extraction File",func:Dn,icon:"square-dot"},{id:"create-new-extraction-type",name:"Create new Extraction Type",func:yn,icon:"box-select"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:_n,icon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Show extraction type overview",func:Tn,icon:"square-equal"}];function xt(a){let n=a.settings.suppressSuggestionInFields.map(l=>`[data-property-key="${l}"]`).join(", "),o=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!a.styleElSuppressSuggestionsInFields){let l=activeDocument.createElement("style");l.addClass(a.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),a.register(()=>l?.detach()),a.styleElSuppressSuggestionsInFields=l}a.styleElSuppressSuggestionsInFields.textContent=o,a.app.workspace.trigger("css-change")}function cs(a){let o=`body .metadata-property-key { min-width: ${a.settings.propertiesKeysWidthPercent}% }`;if(!a.styleElPropertyKeyWidth){let l=activeDocument.createElement("style");l.addClass(a.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),a.register(()=>l?.detach()),a.styleElPropertyKeyWidth=l}a.styleElPropertyKeyWidth.textContent=o,a.app.workspace.trigger("css-change")}function Xs(a){return!!(a&&typeof a=="object"&&!Array.isArray(a))}function us(a,...n){if(n.length===0)return a;let o=n.shift();if(Xs(a)&&Xs(o))for(let l in o)Xs(o[l])?(a[l]||Object.assign(a,{[l]:{}}),us(a[l],o[l])):Object.assign(a,{[l]:o[l]});return us(a,...n)}var K=require("obsidian");function er(a){return(0,K.normalizePath)(a).replace(/:/g,"-")}var tr={"min-height":"5rem","min-width":"15rem"};function sr(a){return a.split(`
`).map(n=>n.trim()).filter(n=>n!=="")}var rr={"min-width":"15rem"},fs=class extends K.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,o=this.plugin.settings;n.empty(),n.addClass(this.plugin.cssclass),new K.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(l=>l.setPlaceholder("One property per line").setValue(o.suppressSuggestionInFields.join(`
`)).onChange(async c=>{o.suppressSuggestionInFields=sr(c),await this.plugin.saveSettings(),xt(this.plugin)}).inputEl.setCssProps(tr)),new K.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(l=>l.setLimits(20,60,5).setDynamicTooltip().setValue(o.propertiesKeysWidthPercent).onChange(async c=>{o.propertiesKeysWidthPercent=c,await this.plugin.saveSettings(),cs(this.plugin)})),n.createEl("h3",{text:"Coding"}),new K.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(l=>{new Ue(this.plugin,l.inputEl),l.setPlaceholder(we.coding.folder).setValue(o.coding.folder).onChange(async c=>{o.coding.folder=er(c)||we.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(rr)}),new K.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(l=>l.setValue(o.coding.displayCount).onChange(async c=>{o.coding.displayCount=c,await this.plugin.saveSettings()})),new K.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(l=>{for(let c in Jt)l.addOption(c,c);l.setValue(o.coding.sortFunc).onChange(async c=>{o.coding.sortFunc=c,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new K.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(l=>{new Ue(this.plugin,l.inputEl),l.setPlaceholder(we.extraction.folder).setValue(o.extraction.folder).onChange(async c=>{o.extraction.folder=er(c)||we.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(rr)}),new K.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(l=>l.setValue(o.extraction.displayCount).onChange(async c=>{o.extraction.displayCount=c,await this.plugin.saveSettings()})),new K.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(l=>{l.addOptions(Zr).setValue(o.extraction.openingMode).onChange(async c=>{o.extraction.openingMode=c,await this.plugin.saveSettings()})}),new K.Setting(n).setName("Ignore properties on merging").setDesc("List of properties, one per line, which should not trigger manual incongruence resolvement when merging Extraction Files. The properties are still added to the frontmatter, there merging just happens automatically without considering potential conflicts. This is intended for properties where it does not matter which value is chosen, such as IDs. ").addTextArea(l=>l.setPlaceholder("One property per line").setValue(o.extraction.ignorePropertyOnMerge.join(`
`)).onChange(async c=>{o.extraction.ignorePropertyOnMerge=sr(c),await this.plugin.saveSettings(),xt(this.plugin)}).inputEl.setCssProps(tr)),new K.Setting(n).setName("Display property when merging").setDesc("Property which should be displayed when selecting an Extraction File, for instance when merging Extraction Files. If a list of properties is specified, the first one that exists in the Extraction File is used. ").addTextArea(l=>l.setPlaceholder("One property per line, the first existing property is used.").setValue(o.extraction.displayProperty.join(`
`)).onChange(async c=>{o.extraction.displayProperty=sr(c),await this.plugin.saveSettings()}).inputEl.setCssProps(tr)),new K.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as .csv files.").addDropdown(l=>{l.addOptions(Kr).setValue(o.extraction.csvSeparator).onChange(async c=>{o.extraction.csvSeparator=c,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new K.Setting(n).setName("Analysis folder").setDesc("Location where overviews and exports are placed.").addSearch(l=>{new Ue(this.plugin,l.inputEl),l.setPlaceholder(we.analysis.folder).setValue(o.analysis.folder).onChange(async c=>{o.analysis.folder=er(c)||we.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(rr)})}};function hs(a){let{app:n,statusbar:o,settings:l}=a,c=[],u=b(a),h=n.workspace.getActiveFile();if(!h||!["Data File","Code File","Extraction File"].includes(u)){o.setText("");return}if(u==="Code File"){let k=gt(a,h);c.push(`Code ${k}x assigned`)}else if(u==="Extraction File"){let F=h.parent;if(F){let k=me(a,F).length;c.push(`${k}x extracted`)}}else if(u==="Data File"){let F=n.metadataCache.resolvedLinks[h.path]||{},k=0,S=0;for(let[P,w]of Object.entries(F))P.startsWith(l.coding.folder+"/")&&(k+=w),P.startsWith(l.extraction.folder+"/")&&S++;k>0&&c.push(`${k} Codes`),S>0&&c.push(`${S} Extractions`)}let p=n.metadataCache.unresolvedLinks[h.path]||{},g=0;for(let[F,k]of Object.entries(p))g+=k;g>0&&c.push(`${g} invalid links`);let x=c.map(F=>F.startsWith("1 ")?F.slice(0,-1):F).join(", ");o.setText(x)}function bn(a,n){let o=Object.keys(n).map(l=>Vl(a,l,n[l]));return o.length===1?o[0]:function(){o.forEach(l=>l())}}function Vl(a,n,o){let l=a[n],c=a.hasOwnProperty(n),u=c?l:function(){return Object.getPrototypeOf(a)[n].apply(this,arguments)},h=o(u);return l&&Object.setPrototypeOf(h,l),Object.setPrototypeOf(p,h),a[n]=p,g;function p(...x){return h===u&&a[n]===p&&g(),h.apply(this,x)}function g(){a[n]===p&&(c?a[n]=u:delete a[n]),h!==u&&(h=u,Object.setPrototypeOf(p,l||Function))}}var On=require("obsidian");function En(a){let n=a.app.vault;return bn(n,{trash:l=>async(c,u)=>{let h=b(a,c);if((h==="Code File"||h==="Extraction File")&&c instanceof On.TFile){let g=`Intercepted deletion of "${c.name}", deleting all references to the ${h} before proceeding with deletion.`;console.info(g),await fn(a,c)}await l.apply(n,[c,u])}})}var ms=class extends Yn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontype-overview",codeOverview:"quadro-code-overview"};backupDirName="pre-merge-backups";statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=we;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...pn,...Mn]){let o=this.addRibbonIcon(n.icon,`Quadro: ${n.name}`,()=>n.func(this));o.addClass(this.cssclass),o.setCssProps({border:"1px solid var(--text-faint)"});let l={id:n.id,name:n.name,icon:n.icon,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(l.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(l)}this.statusbar.addClass(this.cssclass),hs(this),this.registerEvent(this.app.workspace.on("file-open",()=>hs(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>hs(this))),this.trashWatcherUninstaller=En(this),await this.loadSettings(),this.addSettingTab(new fs(this)),xt(this),cs(this),qt(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,o)=>{o.innerHTML=en(this),o.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,o)=>{o.innerHTML=Sn(this,n),o.addClass(this.cssclass)}),window.CodeMirror.defineMode(this.codeblockLabels.extractionOverview,n=>window.CodeMirror.getMode(n,"yaml")),this.registerMarkdownCodeBlockProcessor("quadro-extractiontypes-overview",(n,o)=>{o.innerHTML='INFO: This overview is outdated. Please delete this file and re-run "Show extraction type overview".'})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),window.CodeMirror.defineMode(this.codeblockLabels.extractionOverview,n=>window.CodeMirror.getMode(n,"")),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=us({},we,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */