/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var yl=Object.create;var Rt=Object.defineProperty;var wl=Object.getOwnPropertyDescriptor;var _l=Object.getOwnPropertyNames;var vl=Object.getPrototypeOf,Fl=Object.prototype.hasOwnProperty;var xl=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),Cl=(o,n)=>{for(var a in n)Rt(o,a,{get:n[a],enumerable:!0})},Ps=(o,n,a,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of _l(n))!Fl.call(o,c)&&c!==a&&Rt(o,c,{get:()=>n[c],enumerable:!(l=wl(n,c))||l.enumerable});return o};var Is=(o,n,a)=>(a=o!=null?yl(vl(o)):{},Ps(n||!o||!o.__esModule?Rt(a,"default",{value:o,enumerable:!0}):a,o)),kl=o=>Ps(Rt({},"__esModule",{value:!0}),o);var Mr=xl((Dr,Ze)=>{(function(o,n){typeof Dr=="object"&&typeof Ze<"u"?Ze.exports=n():typeof define=="function"&&define.amd?define(n):o.moment=n()})(Dr,function(){"use strict";var o;function n(){return o.apply(null,arguments)}function a(e){o=e}function l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function m(e){return e===void 0}function y(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function C(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function F(e,t){var r=[],s,i=e.length;for(s=0;s<i;++s)r.push(t(e[s],s));return r}function x(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function k(e,t,r,s){return us(e,t,r,s,!0).utc()}function Y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(e){return e._pf==null&&(e._pf=Y()),e._pf}var L;Array.prototype.some?L=Array.prototype.some:L=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function Q(e){if(e._isValid==null){var t=w(e),r=L.call(t.parsedDateParts,function(i){return i!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function U(e){var t=k(NaN);return e!=null?x(w(t),e):w(t).userInvalidated=!0,t}var re=n.momentProperties=[],R=!1;function fe(e,t){var r,s,i,d=re.length;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=w(t)),m(t._locale)||(e._locale=t._locale),d>0)for(r=0;r<d;r++)s=re[r],i=t[s],m(i)||(e[s]=i);return e}function oe(e){fe(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R===!1&&(R=!0,n.updateOffset(this),R=!1)}function Z(e){return e instanceof oe||e!=null&&e._isAMomentObject!=null}function Re(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function $(e,t){var r=!0;return x(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),r){var s=[],i,d,h,v=arguments.length;for(d=0;d<v;d++){if(i="",typeof arguments[d]=="object"){i+=`
[`+d+"] ";for(h in arguments[0])u(arguments[0],h)&&(i+=h+": "+arguments[0][h]+", ");i=i.slice(0,-2)}else i=arguments[d];s.push(i)}Re(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Ae={};function Hr(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),Ae[e]||(Re(t),Ae[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function le(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function wn(e){var t,r;for(r in e)u(e,r)&&(t=e[r],le(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function er(e,t){var r=x({},e),s;for(s in t)u(t,s)&&(c(e[s])&&c(t[s])?(r[s]={},x(r[s],e[s]),x(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)u(e,s)&&!u(t,s)&&c(e[s])&&(r[s]=x({},r[s]));return r}function tr(e){e!=null&&this.set(e)}var rr;Object.keys?rr=Object.keys:rr=function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var _n={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function vn(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return le(s)?s.call(t,r):s}function de(e,t,r){var s=""+Math.abs(e),i=t-s.length,d=e>=0;return(d?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var sr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,nr={},$e={};function _(e,t,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&($e[e]=i),t&&($e[t[0]]=function(){return de(i.apply(this,arguments),t[1],t[2])}),r&&($e[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Fn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function xn(e){var t=e.match(sr),r,s;for(r=0,s=t.length;r<s;r++)$e[t[r]]?t[r]=$e[t[r]]:t[r]=Fn(t[r]);return function(i){var d="",h;for(h=0;h<s;h++)d+=le(t[h])?t[h].call(i,e):t[h];return d}}function yt(e,t){return e.isValid()?(t=Vr(t,e.localeData()),nr[t]=nr[t]||xn(t),nr[t](e)):e.localeData().invalidDate()}function Vr(e,t){var r=5;function s(i){return t.longDateFormat(i)||i}for(gt.lastIndex=0;r>=0&&gt.test(e);)e=e.replace(gt,s),gt.lastIndex=0,r-=1;return e}var Cn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function kn(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(sr).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var Sn="Invalid date";function Tn(){return this._invalidDate}var Dn="%d",Mn=/\d{1,2}/;function On(e){return this._ordinal.replace("%d",e)}var bn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function En(e,t,r,s){var i=this._relativeTime[r];return le(i)?i(e,t,r,s):i.replace(/%d/i,e)}function Yn(e,t){var r=this._relativeTime[e>0?"future":"past"];return le(r)?r(t):r.replace(/%s/i,t)}var st={};function H(e,t){var r=e.toLowerCase();st[r]=st[r+"s"]=st[t]=e}function X(e){return typeof e=="string"?st[e]||st[e.toLowerCase()]:void 0}function ir(e){var t={},r,s;for(s in e)u(e,s)&&(r=X(s),r&&(t[r]=e[s]));return t}var jr={};function V(e,t){jr[e]=t}function Pn(e){var t=[],r;for(r in e)u(e,r)&&t.push({unit:r,priority:jr[r]});return t.sort(function(s,i){return s.priority-i.priority}),t}function wt(e){return e%4===0&&e%100!==0||e%400===0}function ee(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function T(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=ee(t)),r}function Ue(e,t){return function(r){return r!=null?(Br(this,e,r),n.updateOffset(this,t),this):_t(this,e)}}function _t(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Br(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&wt(e.year())&&e.month()===1&&e.date()===29?(r=T(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Tt(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function In(e){return e=X(e),le(this[e])?this[e]():this}function Nn(e,t){if(typeof e=="object"){e=ir(e);var r=Pn(e),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](e[r[s].unit])}else if(e=X(e),le(this[e]))return this[e](t);return this}var Qr=/\d/,q=/\d\d/,Gr=/\d{3}/,ar=/\d{4}/,vt=/[+-]?\d{6}/,P=/\d\d?/,zr=/\d\d\d\d?/,Kr=/\d\d\d\d\d\d?/,Ft=/\d{1,3}/,or=/\d{1,4}/,xt=/[+-]?\d{1,6}/,He=/\d+/,Ct=/[+-]?\d+/,Wn=/Z|[+-]\d\d:?\d\d/gi,kt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ln=/[+-]?\d+(\.\d{1,3})?/,nt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,St;St={};function g(e,t,r){St[e]=le(t)?t:function(s,i){return s&&r?r:t}}function Rn(e,t){return u(St,e)?St[e](t._strict,t._locale):new RegExp(An(e))}function An(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,i,d){return r||s||i||d}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lr={};function O(e,t){var r,s=t,i;for(typeof e=="string"&&(e=[e]),y(t)&&(s=function(d,h){h[t]=T(d)}),i=e.length,r=0;r<i;r++)lr[e[r]]=s}function it(e,t){O(e,function(r,s,i,d){i._w=i._w||{},t(r,i._w,i,d)})}function $n(e,t,r){t!=null&&u(lr,e)&&lr[e](t,r._a,r,e)}var j=0,me=1,ce=2,A=3,se=4,pe=5,Ee=6,Un=7,Hn=8;function Vn(e,t){return(e%t+t)%t}var W;Array.prototype.indexOf?W=Array.prototype.indexOf:W=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Tt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Vn(t,12);return e+=(t-r)/12,r===1?wt(e)?29:28:31-r%7%2}_("M",["MM",2],"Mo",function(){return this.month()+1}),_("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),_("MMMM",0,0,function(e){return this.localeData().months(this,e)}),H("month","M"),V("month",8),g("M",P),g("MM",P,q),g("MMM",function(e,t){return t.monthsShortRegex(e)}),g("MMMM",function(e,t){return t.monthsRegex(e)}),O(["M","MM"],function(e,t){t[me]=T(e)-1}),O(["MMM","MMMM"],function(e,t,r,s){var i=r._locale.monthsParse(e,s,r._strict);i!=null?t[me]=i:w(r).invalidMonth=e});var jn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Zr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bn=nt,Qn=nt;function Gn(e,t){return e?l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qr).test(t)?"format":"standalone"][e.month()]:l(this._months)?this._months:this._months.standalone}function zn(e,t){return e?l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qr.test(t)?"format":"standalone"][e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Kn(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)d=k([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(d,"").toLocaleLowerCase();return r?t==="MMM"?(i=W.call(this._shortMonthsParse,h),i!==-1?i:null):(i=W.call(this._longMonthsParse,h),i!==-1?i:null):t==="MMM"?(i=W.call(this._shortMonthsParse,h),i!==-1?i:(i=W.call(this._longMonthsParse,h),i!==-1?i:null)):(i=W.call(this._longMonthsParse,h),i!==-1?i:(i=W.call(this._shortMonthsParse,h),i!==-1?i:null))}function Zn(e,t,r){var s,i,d;if(this._monthsParseExact)return Kn.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=k([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(d="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function Jr(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=T(t);else if(t=e.localeData().monthsParse(t),!y(t))return e}return r=Math.min(e.date(),Tt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Xr(e){return e!=null?(Jr(this,e),n.updateOffset(this,!0),this):_t(this,"Month")}function qn(){return Tt(this.year(),this.month())}function Jn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||es.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Bn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Xn(e){return this._monthsParseExact?(u(this,"_monthsRegex")||es.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Qn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function es(){function e(h,v){return v.length-h.length}var t=[],r=[],s=[],i,d;for(i=0;i<12;i++)d=k([2e3,i]),t.push(this.monthsShort(d,"")),r.push(this.months(d,"")),s.push(this.months(d,"")),s.push(this.monthsShort(d,""));for(t.sort(e),r.sort(e),s.sort(e),i=0;i<12;i++)t[i]=J(t[i]),r[i]=J(r[i]);for(i=0;i<24;i++)s[i]=J(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_("Y",0,0,function(){var e=this.year();return e<=9999?de(e,4):"+"+e}),_(0,["YY",2],0,function(){return this.year()%100}),_(0,["YYYY",4],0,"year"),_(0,["YYYYY",5],0,"year"),_(0,["YYYYYY",6,!0],0,"year"),H("year","y"),V("year",1),g("Y",Ct),g("YY",P,q),g("YYYY",or,ar),g("YYYYY",xt,vt),g("YYYYYY",xt,vt),O(["YYYYY","YYYYYY"],j),O("YYYY",function(e,t){t[j]=e.length===2?n.parseTwoDigitYear(e):T(e)}),O("YY",function(e,t){t[j]=n.parseTwoDigitYear(e)}),O("Y",function(e,t){t[j]=parseInt(e,10)});function at(e){return wt(e)?366:365}n.parseTwoDigitYear=function(e){return T(e)+(T(e)>68?1900:2e3)};var ts=Ue("FullYear",!0);function ei(){return wt(this.year())}function ti(e,t,r,s,i,d,h){var v;return e<100&&e>=0?(v=new Date(e+400,t,r,s,i,d,h),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,t,r,s,i,d,h),v}function ot(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Dt(e,t,r){var s=7+t-r,i=(7+ot(e,0,s).getUTCDay()-t)%7;return-i+s-1}function rs(e,t,r,s,i){var d=(7+r-s)%7,h=Dt(e,s,i),v=1+7*(t-1)+d+h,S,b;return v<=0?(S=e-1,b=at(S)+v):v>at(e)?(S=e+1,b=v-at(e)):(S=e,b=v),{year:S,dayOfYear:b}}function lt(e,t,r){var s=Dt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1,d,h;return i<1?(h=e.year()-1,d=i+ge(h,t,r)):i>ge(e.year(),t,r)?(d=i-ge(e.year(),t,r),h=e.year()+1):(h=e.year(),d=i),{week:d,year:h}}function ge(e,t,r){var s=Dt(e,t,r),i=Dt(e+1,t,r);return(at(e)-s+i)/7}_("w",["ww",2],"wo","week"),_("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),V("week",5),V("isoWeek",5),g("w",P),g("ww",P,q),g("W",P),g("WW",P,q),it(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=T(e)});function ri(e){return lt(e,this._week.dow,this._week.doy).week}var si={dow:0,doy:6};function ni(){return this._week.dow}function ii(){return this._week.doy}function ai(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function oi(e){var t=lt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_("d",0,"do","day"),_("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),_("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),_("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),_("e",0,0,"weekday"),_("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),g("d",P),g("e",P),g("E",P),g("dd",function(e,t){return t.weekdaysMinRegex(e)}),g("ddd",function(e,t){return t.weekdaysShortRegex(e)}),g("dddd",function(e,t){return t.weekdaysRegex(e)}),it(["dd","ddd","dddd"],function(e,t,r,s){var i=r._locale.weekdaysParse(e,s,r._strict);i!=null?t.d=i:w(r).invalidWeekday=e}),it(["d","e","E"],function(e,t,r,s){t[s]=T(e)});function li(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function di(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function dr(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ss="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ui="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),hi=nt,fi=nt,mi=nt;function pi(e,t){var r=l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?dr(r,this._week.dow):e?r[e.day()]:r}function gi(e){return e===!0?dr(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function yi(e){return e===!0?dr(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function wi(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)d=k([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(d,"").toLocaleLowerCase();return r?t==="dddd"?(i=W.call(this._weekdaysParse,h),i!==-1?i:null):t==="ddd"?(i=W.call(this._shortWeekdaysParse,h),i!==-1?i:null):(i=W.call(this._minWeekdaysParse,h),i!==-1?i:null):t==="dddd"?(i=W.call(this._weekdaysParse,h),i!==-1||(i=W.call(this._shortWeekdaysParse,h),i!==-1)?i:(i=W.call(this._minWeekdaysParse,h),i!==-1?i:null)):t==="ddd"?(i=W.call(this._shortWeekdaysParse,h),i!==-1||(i=W.call(this._weekdaysParse,h),i!==-1)?i:(i=W.call(this._minWeekdaysParse,h),i!==-1?i:null)):(i=W.call(this._minWeekdaysParse,h),i!==-1||(i=W.call(this._weekdaysParse,h),i!==-1)?i:(i=W.call(this._shortWeekdaysParse,h),i!==-1?i:null))}function _i(e,t,r){var s,i,d;if(this._weekdaysParseExact)return wi.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=k([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(d="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function vi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=li(e,this.localeData()),this.add(e-t,"d")):t}function Fi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function xi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=di(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ci(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||cr.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=hi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ki(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||cr.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Si(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||cr.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cr(){function e(G,Fe){return Fe.length-G.length}var t=[],r=[],s=[],i=[],d,h,v,S,b;for(d=0;d<7;d++)h=k([2e3,1]).day(d),v=J(this.weekdaysMin(h,"")),S=J(this.weekdaysShort(h,"")),b=J(this.weekdays(h,"")),t.push(v),r.push(S),s.push(b),i.push(v),i.push(S),i.push(b);t.sort(e),r.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ur(){return this.hours()%12||12}function Ti(){return this.hours()||24}_("H",["HH",2],0,"hour"),_("h",["hh",2],0,ur),_("k",["kk",2],0,Ti),_("hmm",0,0,function(){return""+ur.apply(this)+de(this.minutes(),2)}),_("hmmss",0,0,function(){return""+ur.apply(this)+de(this.minutes(),2)+de(this.seconds(),2)}),_("Hmm",0,0,function(){return""+this.hours()+de(this.minutes(),2)}),_("Hmmss",0,0,function(){return""+this.hours()+de(this.minutes(),2)+de(this.seconds(),2)});function ns(e,t){_(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ns("a",!0),ns("A",!1),H("hour","h"),V("hour",13);function is(e,t){return t._meridiemParse}g("a",is),g("A",is),g("H",P),g("h",P),g("k",P),g("HH",P,q),g("hh",P,q),g("kk",P,q),g("hmm",zr),g("hmmss",Kr),g("Hmm",zr),g("Hmmss",Kr),O(["H","HH"],A),O(["k","kk"],function(e,t,r){var s=T(e);t[A]=s===24?0:s}),O(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),O(["h","hh"],function(e,t,r){t[A]=T(e),w(r).bigHour=!0}),O("hmm",function(e,t,r){var s=e.length-2;t[A]=T(e.substr(0,s)),t[se]=T(e.substr(s)),w(r).bigHour=!0}),O("hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[A]=T(e.substr(0,s)),t[se]=T(e.substr(s,2)),t[pe]=T(e.substr(i)),w(r).bigHour=!0}),O("Hmm",function(e,t,r){var s=e.length-2;t[A]=T(e.substr(0,s)),t[se]=T(e.substr(s))}),O("Hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[A]=T(e.substr(0,s)),t[se]=T(e.substr(s,2)),t[pe]=T(e.substr(i))});function Di(e){return(e+"").toLowerCase().charAt(0)==="p"}var Mi=/[ap]\.?m?\.?/i,Oi=Ue("Hours",!0);function bi(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var as={calendar:_n,longDateFormat:Cn,invalidDate:Sn,ordinal:Dn,dayOfMonthOrdinalParse:Mn,relativeTime:bn,months:jn,monthsShort:Zr,week:si,weekdays:ci,weekdaysMin:ui,weekdaysShort:ss,meridiemParse:Mi},N={},dt={},ct;function Ei(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function os(e){return e&&e.toLowerCase().replace("_","-")}function Yi(e){for(var t=0,r,s,i,d;t<e.length;){for(d=os(e[t]).split("-"),r=d.length,s=os(e[t+1]),s=s?s.split("-"):null;r>0;){if(i=Mt(d.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&Ei(d,s)>=r-1)break;r--}t++}return ct}function Pi(e){return e.match("^[^/\\\\]*$")!=null}function Mt(e){var t=null,r;if(N[e]===void 0&&typeof Ze<"u"&&Ze&&Ze.exports&&Pi(e))try{t=ct._abbr,r=require,r("./locale/"+e),Te(t)}catch{N[e]=null}return N[e]}function Te(e,t){var r;return e&&(m(t)?r=ye(e):r=hr(e,t),r?ct=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ct._abbr}function hr(e,t){if(t!==null){var r,s=as;if(t.abbr=e,N[e]!=null)Hr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=N[e]._config;else if(t.parentLocale!=null)if(N[t.parentLocale]!=null)s=N[t.parentLocale]._config;else if(r=Mt(t.parentLocale),r!=null)s=r._config;else return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;return N[e]=new tr(er(s,t)),dt[e]&&dt[e].forEach(function(i){hr(i.name,i.config)}),Te(e),N[e]}else return delete N[e],null}function Ii(e,t){if(t!=null){var r,s,i=as;N[e]!=null&&N[e].parentLocale!=null?N[e].set(er(N[e]._config,t)):(s=Mt(e),s!=null&&(i=s._config),t=er(i,t),s==null&&(t.abbr=e),r=new tr(t),r.parentLocale=N[e],N[e]=r),Te(e)}else N[e]!=null&&(N[e].parentLocale!=null?(N[e]=N[e].parentLocale,e===Te()&&Te(e)):N[e]!=null&&delete N[e]);return N[e]}function ye(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ct;if(!l(e)){if(t=Mt(e),t)return t;e=[e]}return Yi(e)}function Ni(){return rr(N)}function fr(e){var t,r=e._a;return r&&w(e).overflow===-2&&(t=r[me]<0||r[me]>11?me:r[ce]<1||r[ce]>Tt(r[j],r[me])?ce:r[A]<0||r[A]>24||r[A]===24&&(r[se]!==0||r[pe]!==0||r[Ee]!==0)?A:r[se]<0||r[se]>59?se:r[pe]<0||r[pe]>59?pe:r[Ee]<0||r[Ee]>999?Ee:-1,w(e)._overflowDayOfYear&&(t<j||t>ce)&&(t=ce),w(e)._overflowWeeks&&t===-1&&(t=Un),w(e)._overflowWeekday&&t===-1&&(t=Hn),w(e).overflow=t),e}var Wi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/Z|[+-]\d\d(?::?\d\d)?/,Ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ai=/^\/?Date\((-?\d+)/i,$i=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ui={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ls(e){var t,r,s=e._i,i=Wi.exec(s)||Li.exec(s),d,h,v,S,b=Ot.length,G=mr.length;if(i){for(w(e).iso=!0,t=0,r=b;t<r;t++)if(Ot[t][1].exec(i[1])){h=Ot[t][0],d=Ot[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(i[3]){for(t=0,r=G;t<r;t++)if(mr[t][1].exec(i[3])){v=(i[2]||" ")+mr[t][0];break}if(v==null){e._isValid=!1;return}}if(!d&&v!=null){e._isValid=!1;return}if(i[4])if(Ri.exec(i[4]))S="Z";else{e._isValid=!1;return}e._f=h+(v||"")+(S||""),gr(e)}else e._isValid=!1}function Hi(e,t,r,s,i,d){var h=[Vi(e),Zr.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return d&&h.push(parseInt(d,10)),h}function Vi(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ji(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Bi(e,t,r){if(e){var s=ss.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return w(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Qi(e,t,r){if(e)return Ui[e];if(t)return 0;var s=parseInt(r,10),i=s%100,d=(s-i)/100;return d*60+i}function ds(e){var t=$i.exec(ji(e._i)),r;if(t){if(r=Hi(t[4],t[3],t[2],t[5],t[6],t[7]),!Bi(t[1],r,e))return;e._a=r,e._tzm=Qi(t[8],t[9],t[10]),e._d=ot.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function Gi(e){var t=Ai.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ls(e),e._isValid===!1)delete e._isValid;else return;if(ds(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=$("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ve(e,t,r){return e??t??r}function zi(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function pr(e){var t,r,s=[],i,d,h;if(!e._d){for(i=zi(e),e._w&&e._a[ce]==null&&e._a[me]==null&&Ki(e),e._dayOfYear!=null&&(h=Ve(e._a[j],i[j]),(e._dayOfYear>at(h)||e._dayOfYear===0)&&(w(e)._overflowDayOfYear=!0),r=ot(h,0,e._dayOfYear),e._a[me]=r.getUTCMonth(),e._a[ce]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[A]===24&&e._a[se]===0&&e._a[pe]===0&&e._a[Ee]===0&&(e._nextDay=!0,e._a[A]=0),e._d=(e._useUTC?ot:ti).apply(null,s),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[A]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(w(e).weekdayMismatch=!0)}}function Ki(e){var t,r,s,i,d,h,v,S,b;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,r=Ve(t.GG,e._a[j],lt(I(),1,4).year),s=Ve(t.W,1),i=Ve(t.E,1),(i<1||i>7)&&(S=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,b=lt(I(),d,h),r=Ve(t.gg,e._a[j],b.year),s=Ve(t.w,b.week),t.d!=null?(i=t.d,(i<0||i>6)&&(S=!0)):t.e!=null?(i=t.e+d,(t.e<0||t.e>6)&&(S=!0)):i=d),s<1||s>ge(r,d,h)?w(e)._overflowWeeks=!0:S!=null?w(e)._overflowWeekday=!0:(v=rs(r,s,i,d,h),e._a[j]=v.year,e._dayOfYear=v.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function gr(e){if(e._f===n.ISO_8601){ls(e);return}if(e._f===n.RFC_2822){ds(e);return}e._a=[],w(e).empty=!0;var t=""+e._i,r,s,i,d,h,v=t.length,S=0,b,G;for(i=Vr(e._f,e._locale).match(sr)||[],G=i.length,r=0;r<G;r++)d=i[r],s=(t.match(Rn(d,e))||[])[0],s&&(h=t.substr(0,t.indexOf(s)),h.length>0&&w(e).unusedInput.push(h),t=t.slice(t.indexOf(s)+s.length),S+=s.length),$e[d]?(s?w(e).empty=!1:w(e).unusedTokens.push(d),$n(d,s,e)):e._strict&&!s&&w(e).unusedTokens.push(d);w(e).charsLeftOver=v-S,t.length>0&&w(e).unusedInput.push(t),e._a[A]<=12&&w(e).bigHour===!0&&e._a[A]>0&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[A]=Zi(e._locale,e._a[A],e._meridiem),b=w(e).era,b!==null&&(e._a[j]=e._locale.erasConvertYear(b,e._a[j])),pr(e),fr(e)}function Zi(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function qi(e){var t,r,s,i,d,h,v=!1,S=e._f.length;if(S===0){w(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<S;i++)d=0,h=!1,t=fe({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],gr(t),Q(t)&&(h=!0),d+=w(t).charsLeftOver,d+=w(t).unusedTokens.length*10,w(t).score=d,v?d<s&&(s=d,r=t):(s==null||d<s||h)&&(s=d,r=t,h&&(v=!0));x(e,r||t)}function Ji(e){if(!e._d){var t=ir(e._i),r=t.day===void 0?t.date:t.day;e._a=F([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),pr(e)}}function Xi(e){var t=new oe(fr(cs(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function cs(e){var t=e._i,r=e._f;return e._locale=e._locale||ye(e._l),t===null||r===void 0&&t===""?U({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Z(t)?new oe(fr(t)):(C(t)?e._d=t:l(r)?qi(e):r?gr(e):ea(e),Q(e)||(e._d=null),e))}function ea(e){var t=e._i;m(t)?e._d=new Date(n.now()):C(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Gi(e):l(t)?(e._a=F(t.slice(0),function(r){return parseInt(r,10)}),pr(e)):c(t)?Ji(e):y(t)?e._d=new Date(t):n.createFromInputFallback(e)}function us(e,t,r,s,i){var d={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(c(e)&&f(e)||l(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=i,d._l=r,d._i=e,d._f=t,d._strict=s,Xi(d)}function I(e,t,r,s){return us(e,t,r,s,!1)}var ta=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:U()}),ra=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:U()});function hs(e,t){var r,s;if(t.length===1&&l(t[0])&&(t=t[0]),!t.length)return I();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function sa(){var e=[].slice.call(arguments,0);return hs("isBefore",e)}function na(){var e=[].slice.call(arguments,0);return hs("isAfter",e)}var ia=function(){return Date.now?Date.now():+new Date},ut=["year","quarter","month","week","day","hour","minute","second","millisecond"];function aa(e){var t,r=!1,s,i=ut.length;for(t in e)if(u(e,t)&&!(W.call(ut,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[ut[s]]){if(r)return!1;parseFloat(e[ut[s]])!==T(e[ut[s]])&&(r=!0)}return!0}function oa(){return this._isValid}function la(){return ne(NaN)}function bt(e){var t=ir(e),r=t.year||0,s=t.quarter||0,i=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,v=t.hour||0,S=t.minute||0,b=t.second||0,G=t.millisecond||0;this._isValid=aa(t),this._milliseconds=+G+b*1e3+S*6e4+v*1e3*60*60,this._days=+h+d*7,this._months=+i+s*3+r*12,this._data={},this._locale=ye(),this._bubble()}function Et(e){return e instanceof bt}function yr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function da(e,t,r){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),d=0,h;for(h=0;h<s;h++)(r&&e[h]!==t[h]||!r&&T(e[h])!==T(t[h]))&&d++;return d+i}function fs(e,t){_(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+de(~~(r/60),2)+t+de(~~r%60,2)})}fs("Z",":"),fs("ZZ",""),g("Z",kt),g("ZZ",kt),O(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=wr(kt,e)});var ca=/([\+\-]|\d\d)/gi;function wr(e,t){var r=(t||"").match(e),s,i,d;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(ca)||["-",0,0],d=+(i[1]*60)+T(i[2]),d===0?0:i[0]==="+"?d:-d)}function _r(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(Z(e)||C(e)?e.valueOf():I(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),n.updateOffset(r,!1),r):I(e).local()}function vr(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function ua(e,t,r){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=wr(kt,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=vr(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?ys(this,ne(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:vr(this)}function ha(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function fa(e){return this.utcOffset(0,e)}function ma(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(vr(this),"m")),this}function pa(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=wr(Wn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ga(e){return this.isValid()?(e=e?I(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ya(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wa(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={},t;return fe(e,this),e=cs(e),e._a?(t=e._isUTC?k(e._a):I(e._a),this._isDSTShifted=this.isValid()&&da(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _a(){return this.isValid()?!this._isUTC:!1}function va(){return this.isValid()?this._isUTC:!1}function ms(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Fa=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xa=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ne(e,t){var r=e,s=null,i,d,h;return Et(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:y(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=Fa.exec(e))?(i=s[1]==="-"?-1:1,r={y:0,d:T(s[ce])*i,h:T(s[A])*i,m:T(s[se])*i,s:T(s[pe])*i,ms:T(yr(s[Ee]*1e3))*i}):(s=xa.exec(e))?(i=s[1]==="-"?-1:1,r={y:Ye(s[2],i),M:Ye(s[3],i),w:Ye(s[4],i),d:Ye(s[5],i),h:Ye(s[6],i),m:Ye(s[7],i),s:Ye(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(h=Ca(I(r.from),I(r.to)),r={},r.ms=h.milliseconds,r.M=h.months),d=new bt(r),Et(e)&&u(e,"_locale")&&(d._locale=e._locale),Et(e)&&u(e,"_isValid")&&(d._isValid=e._isValid),d}ne.fn=bt.prototype,ne.invalid=la;function Ye(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function ps(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Ca(e,t){var r;return e.isValid()&&t.isValid()?(t=_r(t,e),e.isBefore(t)?r=ps(e,t):(r=ps(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function gs(e,t){return function(r,s){var i,d;return s!==null&&!isNaN(+s)&&(Hr(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=r,r=s,s=d),i=ne(r,s),ys(this,i,e),this}}function ys(e,t,r,s){var i=t._milliseconds,d=yr(t._days),h=yr(t._months);e.isValid()&&(s=s??!0,h&&Jr(e,_t(e,"Month")+h*r),d&&Br(e,"Date",_t(e,"Date")+d*r),i&&e._d.setTime(e._d.valueOf()+i*r),s&&n.updateOffset(e,d||h))}var ka=gs(1,"add"),Sa=gs(-1,"subtract");function ws(e){return typeof e=="string"||e instanceof String}function Ta(e){return Z(e)||C(e)||ws(e)||y(e)||Ma(e)||Da(e)||e===null||e===void 0}function Da(e){var t=c(e)&&!f(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,d,h=s.length;for(i=0;i<h;i+=1)d=s[i],r=r||u(e,d);return t&&r}function Ma(e){var t=l(e),r=!1;return t&&(r=e.filter(function(s){return!y(s)&&ws(e)}).length===0),t&&r}function Oa(e){var t=c(e)&&!f(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,d;for(i=0;i<s.length;i+=1)d=s[i],r=r||u(e,d);return t&&r}function ba(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Ea(e,t){arguments.length===1&&(arguments[0]?Ta(arguments[0])?(e=arguments[0],t=void 0):Oa(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||I(),s=_r(r,this).startOf("day"),i=n.calendarFormat(this,s)||"sameElse",d=t&&(le(t[i])?t[i].call(this,r):t[i]);return this.format(d||this.localeData().calendar(i,this,I(r)))}function Ya(){return new oe(this)}function Pa(e,t){var r=Z(e)?e:I(e);return this.isValid()&&r.isValid()?(t=X(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ia(e,t){var r=Z(e)?e:I(e);return this.isValid()&&r.isValid()?(t=X(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Na(e,t,r,s){var i=Z(e)?e:I(e),d=Z(t)?t:I(t);return this.isValid()&&i.isValid()&&d.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(d,r):!this.isAfter(d,r))):!1}function Wa(e,t){var r=Z(e)?e:I(e),s;return this.isValid()&&r.isValid()?(t=X(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function La(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ra(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Aa(e,t,r){var s,i,d;if(!this.isValid())return NaN;if(s=_r(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=X(t),t){case"year":d=Yt(this,s)/12;break;case"month":d=Yt(this,s);break;case"quarter":d=Yt(this,s)/3;break;case"second":d=(this-s)/1e3;break;case"minute":d=(this-s)/6e4;break;case"hour":d=(this-s)/36e5;break;case"day":d=(this-s-i)/864e5;break;case"week":d=(this-s-i)/6048e5;break;default:d=this-s}return r?d:ee(d)}function Yt(e,t){if(e.date()<t.date())return-Yt(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),i,d;return t-s<0?(i=e.clone().add(r-1,"months"),d=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),d=(t-s)/(i-s)),-(r+d)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $a(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ua(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?yt(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):le(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",yt(r,"Z")):yt(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ha(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,i,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(r+s+i+d)}function Va(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=yt(this,e);return this.localeData().postformat(t)}function ja(e,t){return this.isValid()&&(Z(e)&&e.isValid()||I(e).isValid())?ne({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ba(e){return this.from(I(),e)}function Qa(e,t){return this.isValid()&&(Z(e)&&e.isValid()||I(e).isValid())?ne({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ga(e){return this.to(I(),e)}function _s(e){var t;return e===void 0?this._locale._abbr:(t=ye(e),t!=null&&(this._locale=t),this)}var vs=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Fs(){return this._locale}var Pt=1e3,je=60*Pt,It=60*je,xs=(365*400+97)*24*It;function Be(e,t){return(e%t+t)%t}function Cs(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-xs:new Date(e,t,r).valueOf()}function ks(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-xs:Date.UTC(e,t,r)}function za(e){var t,r;if(e=X(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ks:Cs,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Be(t+(this._isUTC?0:this.utcOffset()*je),It);break;case"minute":t=this._d.valueOf(),t-=Be(t,je);break;case"second":t=this._d.valueOf(),t-=Be(t,Pt);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Ka(e){var t,r;if(e=X(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ks:Cs,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=It-Be(t+(this._isUTC?0:this.utcOffset()*je),It)-1;break;case"minute":t=this._d.valueOf(),t+=je-Be(t,je)-1;break;case"second":t=this._d.valueOf(),t+=Pt-Be(t,Pt)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function Za(){return this._d.valueOf()-(this._offset||0)*6e4}function qa(){return Math.floor(this.valueOf()/1e3)}function Ja(){return new Date(this.valueOf())}function Xa(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function eo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function to(){return this.isValid()?this.toISOString():null}function ro(){return Q(this)}function so(){return x({},w(this))}function no(){return w(this).overflow}function io(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_("N",0,0,"eraAbbr"),_("NN",0,0,"eraAbbr"),_("NNN",0,0,"eraAbbr"),_("NNNN",0,0,"eraName"),_("NNNNN",0,0,"eraNarrow"),_("y",["y",1],"yo","eraYear"),_("y",["yy",2],0,"eraYear"),_("y",["yyy",3],0,"eraYear"),_("y",["yyyy",4],0,"eraYear"),g("N",Fr),g("NN",Fr),g("NNN",Fr),g("NNNN",yo),g("NNNNN",wo),O(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var i=r._locale.erasParse(e,s,r._strict);i?w(r).era=i:w(r).invalidEra=e}),g("y",He),g("yy",He),g("yyy",He),g("yyyy",He),g("yo",_o),O(["y","yy","yyy","yyyy"],j),O(["yo"],function(e,t,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[j]=r._locale.eraYearOrdinalParse(e,i):t[j]=parseInt(e,10)});function ao(e,t){var r,s,i,d=this._eras||ye("en")._eras;for(r=0,s=d.length;r<s;++r){switch(typeof d[r].since){case"string":i=n(d[r].since).startOf("day"),d[r].since=i.valueOf();break}switch(typeof d[r].until){case"undefined":d[r].until=1/0;break;case"string":i=n(d[r].until).startOf("day").valueOf(),d[r].until=i.valueOf();break}}return d}function oo(e,t,r){var s,i,d=this.eras(),h,v,S;for(e=e.toUpperCase(),s=0,i=d.length;s<i;++s)if(h=d[s].name.toUpperCase(),v=d[s].abbr.toUpperCase(),S=d[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(v===e)return d[s];break;case"NNNN":if(h===e)return d[s];break;case"NNNNN":if(S===e)return d[s];break}else if([h,v,S].indexOf(e)>=0)return d[s]}function lo(e,t){var r=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function co(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function uo(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function ho(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function fo(){var e,t,r,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()}function mo(e){return u(this,"_erasNameRegex")||xr.call(this),e?this._erasNameRegex:this._erasRegex}function po(e){return u(this,"_erasAbbrRegex")||xr.call(this),e?this._erasAbbrRegex:this._erasRegex}function go(e){return u(this,"_erasNarrowRegex")||xr.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fr(e,t){return t.erasAbbrRegex(e)}function yo(e,t){return t.erasNameRegex(e)}function wo(e,t){return t.erasNarrowRegex(e)}function _o(e,t){return t._eraYearOrdinalRegex||He}function xr(){var e=[],t=[],r=[],s=[],i,d,h=this.eras();for(i=0,d=h.length;i<d;++i)t.push(J(h[i].name)),e.push(J(h[i].abbr)),r.push(J(h[i].narrow)),s.push(J(h[i].name)),s.push(J(h[i].abbr)),s.push(J(h[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}_(0,["gg",2],0,function(){return this.weekYear()%100}),_(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Nt(e,t){_(0,[e,e.length],0,t)}Nt("gggg","weekYear"),Nt("ggggg","weekYear"),Nt("GGGG","isoWeekYear"),Nt("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),g("G",Ct),g("g",Ct),g("GG",P,q),g("gg",P,q),g("GGGG",or,ar),g("gggg",or,ar),g("GGGGG",xt,vt),g("ggggg",xt,vt),it(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=T(e)}),it(["gg","GG"],function(e,t,r,s){t[s]=n.parseTwoDigitYear(e)});function vo(e){return Ss.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fo(e){return Ss.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function xo(){return ge(this.year(),1,4)}function Co(){return ge(this.isoWeekYear(),1,4)}function ko(){var e=this.localeData()._week;return ge(this.year(),e.dow,e.doy)}function So(){var e=this.localeData()._week;return ge(this.weekYear(),e.dow,e.doy)}function Ss(e,t,r,s,i){var d;return e==null?lt(this,s,i).year:(d=ge(e,s,i),t>d&&(t=d),To.call(this,e,t,r,s,i))}function To(e,t,r,s,i){var d=rs(e,t,r,s,i),h=ot(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}_("Q",0,"Qo","quarter"),H("quarter","Q"),V("quarter",7),g("Q",Qr),O("Q",function(e,t){t[me]=(T(e)-1)*3});function Do(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_("D",["DD",2],"Do","date"),H("date","D"),V("date",9),g("D",P),g("DD",P,q),g("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),O(["D","DD"],ce),O("Do",function(e,t){t[ce]=T(e.match(P)[0])});var Ts=Ue("Date",!0);_("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),V("dayOfYear",4),g("DDD",Ft),g("DDDD",Gr),O(["DDD","DDDD"],function(e,t,r){r._dayOfYear=T(e)});function Mo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_("m",["mm",2],0,"minute"),H("minute","m"),V("minute",14),g("m",P),g("mm",P,q),O(["m","mm"],se);var Oo=Ue("Minutes",!1);_("s",["ss",2],0,"second"),H("second","s"),V("second",15),g("s",P),g("ss",P,q),O(["s","ss"],pe);var bo=Ue("Seconds",!1);_("S",0,0,function(){return~~(this.millisecond()/100)}),_(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),_(0,["SSS",3],0,"millisecond"),_(0,["SSSS",4],0,function(){return this.millisecond()*10}),_(0,["SSSSS",5],0,function(){return this.millisecond()*100}),_(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),_(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),_(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),_(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),H("millisecond","ms"),V("millisecond",16),g("S",Ft,Qr),g("SS",Ft,q),g("SSS",Ft,Gr);var De,Ds;for(De="SSSS";De.length<=9;De+="S")g(De,He);function Eo(e,t){t[Ee]=T(("0."+e)*1e3)}for(De="S";De.length<=9;De+="S")O(De,Eo);Ds=Ue("Milliseconds",!1),_("z",0,0,"zoneAbbr"),_("zz",0,0,"zoneName");function Yo(){return this._isUTC?"UTC":""}function Po(){return this._isUTC?"Coordinated Universal Time":""}var p=oe.prototype;p.add=ka,p.calendar=Ea,p.clone=Ya,p.diff=Aa,p.endOf=Ka,p.format=Va,p.from=ja,p.fromNow=Ba,p.to=Qa,p.toNow=Ga,p.get=In,p.invalidAt=no,p.isAfter=Pa,p.isBefore=Ia,p.isBetween=Na,p.isSame=Wa,p.isSameOrAfter=La,p.isSameOrBefore=Ra,p.isValid=ro,p.lang=vs,p.locale=_s,p.localeData=Fs,p.max=ra,p.min=ta,p.parsingFlags=so,p.set=Nn,p.startOf=za,p.subtract=Sa,p.toArray=Xa,p.toObject=eo,p.toDate=Ja,p.toISOString=Ua,p.inspect=Ha,typeof Symbol<"u"&&Symbol.for!=null&&(p[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),p.toJSON=to,p.toString=$a,p.unix=qa,p.valueOf=Za,p.creationData=io,p.eraName=co,p.eraNarrow=uo,p.eraAbbr=ho,p.eraYear=fo,p.year=ts,p.isLeapYear=ei,p.weekYear=vo,p.isoWeekYear=Fo,p.quarter=p.quarters=Do,p.month=Xr,p.daysInMonth=qn,p.week=p.weeks=ai,p.isoWeek=p.isoWeeks=oi,p.weeksInYear=ko,p.weeksInWeekYear=So,p.isoWeeksInYear=xo,p.isoWeeksInISOWeekYear=Co,p.date=Ts,p.day=p.days=vi,p.weekday=Fi,p.isoWeekday=xi,p.dayOfYear=Mo,p.hour=p.hours=Oi,p.minute=p.minutes=Oo,p.second=p.seconds=bo,p.millisecond=p.milliseconds=Ds,p.utcOffset=ua,p.utc=fa,p.local=ma,p.parseZone=pa,p.hasAlignedHourOffset=ga,p.isDST=ya,p.isLocal=_a,p.isUtcOffset=va,p.isUtc=ms,p.isUTC=ms,p.zoneAbbr=Yo,p.zoneName=Po,p.dates=$("dates accessor is deprecated. Use date instead.",Ts),p.months=$("months accessor is deprecated. Use month instead",Xr),p.years=$("years accessor is deprecated. Use year instead",ts),p.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ha),p.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wa);function Io(e){return I(e*1e3)}function No(){return I.apply(null,arguments).parseZone()}function Ms(e){return e}var M=tr.prototype;M.calendar=vn,M.longDateFormat=kn,M.invalidDate=Tn,M.ordinal=On,M.preparse=Ms,M.postformat=Ms,M.relativeTime=En,M.pastFuture=Yn,M.set=wn,M.eras=ao,M.erasParse=oo,M.erasConvertYear=lo,M.erasAbbrRegex=po,M.erasNameRegex=mo,M.erasNarrowRegex=go,M.months=Gn,M.monthsShort=zn,M.monthsParse=Zn,M.monthsRegex=Xn,M.monthsShortRegex=Jn,M.week=ri,M.firstDayOfYear=ii,M.firstDayOfWeek=ni,M.weekdays=pi,M.weekdaysMin=yi,M.weekdaysShort=gi,M.weekdaysParse=_i,M.weekdaysRegex=Ci,M.weekdaysShortRegex=ki,M.weekdaysMinRegex=Si,M.isPM=Di,M.meridiem=bi;function Wt(e,t,r,s){var i=ye(),d=k().set(s,t);return i[r](d,e)}function Os(e,t,r){if(y(e)&&(t=e,e=void 0),e=e||"",t!=null)return Wt(e,t,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Wt(e,s,r,"month");return i}function Cr(e,t,r,s){typeof e=="boolean"?(y(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,y(t)&&(r=t,t=void 0),t=t||"");var i=ye(),d=e?i._week.dow:0,h,v=[];if(r!=null)return Wt(t,(r+d)%7,s,"day");for(h=0;h<7;h++)v[h]=Wt(t,(h+d)%7,s,"day");return v}function Wo(e,t){return Os(e,t,"months")}function Lo(e,t){return Os(e,t,"monthsShort")}function Ro(e,t,r){return Cr(e,t,r,"weekdays")}function Ao(e,t,r){return Cr(e,t,r,"weekdaysShort")}function $o(e,t,r){return Cr(e,t,r,"weekdaysMin")}Te("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=T(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}}),n.lang=$("moment.lang is deprecated. Use moment.locale instead.",Te),n.langData=$("moment.langData is deprecated. Use moment.localeData instead.",ye);var we=Math.abs;function Uo(){var e=this._data;return this._milliseconds=we(this._milliseconds),this._days=we(this._days),this._months=we(this._months),e.milliseconds=we(e.milliseconds),e.seconds=we(e.seconds),e.minutes=we(e.minutes),e.hours=we(e.hours),e.months=we(e.months),e.years=we(e.years),this}function bs(e,t,r,s){var i=ne(t,r);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Ho(e,t){return bs(this,e,t,1)}function Vo(e,t){return bs(this,e,t,-1)}function Es(e){return e<0?Math.floor(e):Math.ceil(e)}function jo(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,i,d,h,v,S;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Es(kr(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,i=ee(e/1e3),s.seconds=i%60,d=ee(i/60),s.minutes=d%60,h=ee(d/60),s.hours=h%24,t+=ee(h/24),S=ee(Ys(t)),r+=S,t-=Es(kr(S)),v=ee(r/12),r%=12,s.days=t,s.months=r,s.years=v,this}function Ys(e){return e*4800/146097}function kr(e){return e*146097/4800}function Bo(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=X(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+Ys(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(kr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function Qo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+T(this._months/12)*31536e6:NaN}function _e(e){return function(){return this.as(e)}}var Go=_e("ms"),zo=_e("s"),Ko=_e("m"),Zo=_e("h"),qo=_e("d"),Jo=_e("w"),Xo=_e("M"),el=_e("Q"),tl=_e("y");function rl(){return ne(this)}function sl(e){return e=X(e),this.isValid()?this[e+"s"]():NaN}function Pe(e){return function(){return this.isValid()?this._data[e]:NaN}}var nl=Pe("milliseconds"),il=Pe("seconds"),al=Pe("minutes"),ol=Pe("hours"),ll=Pe("days"),dl=Pe("months"),cl=Pe("years");function ul(){return ee(this.days()/7)}var ve=Math.round,Qe={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function hl(e,t,r,s,i){return i.relativeTime(t||1,!!r,e,s)}function fl(e,t,r,s){var i=ne(e).abs(),d=ve(i.as("s")),h=ve(i.as("m")),v=ve(i.as("h")),S=ve(i.as("d")),b=ve(i.as("M")),G=ve(i.as("w")),Fe=ve(i.as("y")),Me=d<=r.ss&&["s",d]||d<r.s&&["ss",d]||h<=1&&["m"]||h<r.m&&["mm",h]||v<=1&&["h"]||v<r.h&&["hh",v]||S<=1&&["d"]||S<r.d&&["dd",S];return r.w!=null&&(Me=Me||G<=1&&["w"]||G<r.w&&["ww",G]),Me=Me||b<=1&&["M"]||b<r.M&&["MM",b]||Fe<=1&&["y"]||["yy",Fe],Me[2]=t,Me[3]=+e>0,Me[4]=s,hl.apply(null,Me)}function ml(e){return e===void 0?ve:typeof e=="function"?(ve=e,!0):!1}function pl(e,t){return Qe[e]===void 0?!1:t===void 0?Qe[e]:(Qe[e]=t,e==="s"&&(Qe.ss=t-1),!0)}function gl(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=Qe,i,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},Qe,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),d=fl(this,!r,s,i),r&&(d=i.pastFuture(+this,d)),i.postformat(d)}var Sr=Math.abs;function Ge(e){return(e>0)-(e<0)||+e}function Lt(){if(!this.isValid())return this.localeData().invalidDate();var e=Sr(this._milliseconds)/1e3,t=Sr(this._days),r=Sr(this._months),s,i,d,h,v=this.asSeconds(),S,b,G,Fe;return v?(s=ee(e/60),i=ee(s/60),e%=60,s%=60,d=ee(r/12),r%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=v<0?"-":"",b=Ge(this._months)!==Ge(v)?"-":"",G=Ge(this._days)!==Ge(v)?"-":"",Fe=Ge(this._milliseconds)!==Ge(v)?"-":"",S+"P"+(d?b+d+"Y":"")+(r?b+r+"M":"")+(t?G+t+"D":"")+(i||s||e?"T":"")+(i?Fe+i+"H":"")+(s?Fe+s+"M":"")+(e?Fe+h+"S":"")):"P0D"}var D=bt.prototype;D.isValid=oa,D.abs=Uo,D.add=Ho,D.subtract=Vo,D.as=Bo,D.asMilliseconds=Go,D.asSeconds=zo,D.asMinutes=Ko,D.asHours=Zo,D.asDays=qo,D.asWeeks=Jo,D.asMonths=Xo,D.asQuarters=el,D.asYears=tl,D.valueOf=Qo,D._bubble=jo,D.clone=rl,D.get=sl,D.milliseconds=nl,D.seconds=il,D.minutes=al,D.hours=ol,D.days=ll,D.weeks=ul,D.months=dl,D.years=cl,D.humanize=gl,D.toISOString=Lt,D.toString=Lt,D.toJSON=Lt,D.locale=_s,D.localeData=Fs,D.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lt),D.lang=vs,_("X",0,0,"unix"),_("x",0,0,"valueOf"),g("x",Ct),g("X",Ln),O("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}),O("x",function(e,t,r){r._d=new Date(T(e))});return n.version="2.29.4",a(I),n.fn=p,n.min=sa,n.max=na,n.now=ia,n.utc=k,n.unix=Io,n.months=Wo,n.isDate=C,n.locale=Te,n.invalid=U,n.duration=ne,n.isMoment=Z,n.weekdays=Ro,n.parseZone=No,n.localeData=ye,n.isDuration=Et,n.monthsShort=Lo,n.weekdaysMin=$o,n.defineLocale=hr,n.updateLocale=Ii,n.locales=Ni,n.weekdaysShort=Ao,n.normalizeUnits=X,n.relativeTimeRounding=ml,n.relativeTimeThreshold=pl,n.calendarFormat=ba,n.prototype=p,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var bl={};Cl(bl,{default:()=>Xt});module.exports=kl(bl);var yn=require("obsidian");var xe=require("obsidian");var ue=require("obsidian"),At={state:{source:!1,mode:"source"}},Oe=/\[\[(.+?)([|#].*?)?\]\] ?/;async function Sl(o,n){await o.workspace.getLeaf().openFile(n,At),o.commands.executeCommandById("file-explorer:reveal-active-file")}function E(o,n){let{app:a,settings:l}=o,c=n===void 0?a.workspace.getActiveFile():typeof n=="string"?a.vault.getFileByPath(n):n;return!c||!(c instanceof ue.TFile)||c.extension!=="md"?!1:c.name==="Template.md"?"Template":c.path.startsWith(l.coding.folder+"/")?"Code File":c.path.startsWith(l.extraction.folder+"/")?"Extraction File":"Data File"}async function $t(o,n,a){let{app:l,settings:c}=o,u=["```"+n,"```",""];l.vault.getFolderByPath(c.analysis.folder)||l.vault.createFolder(c.analysis.folder);let m=(0,ue.normalizePath)(c.analysis.folder+`/${a}.md`),y=l.vault.getFileByPath(m)||await l.vault.create(m,u.join(`
`));await Sl(l,y),z(o.app)?.setCursor({line:u.length,ch:0})}function z(o){let n=o.workspace.activeEditor?.editor;return n||new ue.Notice("No active editor."),n}function be(o){if(o.getLine(o.getCursor().line).trim()===""&&!o.somethingSelected())return new ue.Notice(`Current line is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let a=o.getCursor("head").line!==o.getCursor("anchor").line,l=o.listSelections().length>1;return a||l?(new ue.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function ze(o){let n=o.getSelection().includes("==");return n&&new ue.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`,4e3),n}function Ut(o){let n=o.workspace.getActiveFile();if(!n)return!1;let a=/[|^#]/,l=n.basename.match(a)?.[0];if(!l)return!1;let c=`The current file contains an invalid character: ${l}

Rename the file and try again.`;return new ue.Notice(c,0),!0}function Ht(o){o.metadataTypeManager.setType("extraction-date","datetime"),o.metadataTypeManager.setType("extraction-source","multitext"),o.metadataTypeManager.setType("code description","text")}var Vt={"last used first":(o,n)=>n.stat.mtime-o.stat.mtime,"oldest used first":(o,n)=>o.stat.mtime-n.stat.mtime,"frequently used first":(o,n)=>n.stat.size-o.stat.size,"rarely used first":(o,n)=>o.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(o,n)=>o.basename.localeCompare(n.basename)},Ns={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Ws={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},he={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:",",ignorePropertyOnMerge:["extraction-source","extraction-date"]},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Tr(o,n){return n.path.slice(o.settings.coding.folder.length+1,-3)}function Ls(o,n){return n?n.path===o.settings.coding.folder+"/Template.md":!1}function ht(o,n){let a=o.app.metadataCache.resolvedLinks[n.path]||{},l=0;for(let[c,u]of Object.entries(a))E(o,c)==="Data File"&&(l+=u);return l}function jt(o,n,a){let l=o.app;return(a.match(new RegExp(Oe,"g"))||[]).reduce((f,m)=>{let[y,C]=m.match(Oe)||[];if(!C)return f;let F=l.metadataCache.getFirstLinkpathDest(C,n.path);return F&&E(o,F)==="Code File"&&f.push({tFile:F,wikilink:m}),f},[])}function Bt(o){let n=o.app.vault.getMarkdownFiles().filter(l=>E(o,l)==="Code File"),a=Vt[o.settings.coding.sortFunc];return n.sort(a),n}function Ke(o,n){let a=Tr(o,n);if(!o.settings.coding.displayCount)return a;let c=ht(o,n);return`${a} (${c}x)`}async function Rs(o){let n=o.codeblockLabels.codeOverview;await $t(o,n,"Code Overview")}function As(o,n){let{app:a,settings:l}=o,c=[...n.children];c.sort((f,m)=>f instanceof xe.TFolder&&m instanceof xe.TFile?-1:f instanceof xe.TFile&&m instanceof xe.TFolder?1:f.name.localeCompare(m.name));let u="";for(let f of c)if(f instanceof xe.TFolder){let m=f;if(!m.children.some(F=>F instanceof xe.TFile&&F.extension==="md"))continue;let C=As(o,m);u+=`<li>\u{1F4C1} ${m.name} ${C}</li>`}else if(f instanceof xe.TFile){let m=f,y=m.path===l.coding.folder+"/Template.md",C=m.extension!=="md";if(y||C)continue;let F=a.metadataCache.getFileCache(m)?.frontmatter?.["code description"],x=F?": "+F:"",k=`<a href="${m.path}" class="internal-link">${m.basename}</a>`,Y=ht(o,m);u+=`<li>\u{1F4C4} ${k} (${Y}x)${x}</li>`}return`<ul>${u}</ul>`}function $s(o){let{app:n,settings:a}=o,l=n.vault.getFolderByPath(a.coding.folder);return l?As(o,l):`\u26A0\uFE0F Code folder "${a.coding.folder}" not found.`}var Gs=require("obsidian");var Us=Is(Mr()),Or=/\^[\w-]+$/,Hs=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function Tl(o){let[n]=o.match(Or)||[];if(n){let l=o.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:l}}return{blockId:"^id-"+(0,Us.default)().format("YYMMDD-HHmmss"),lineWithoutId:o.trim()}}function qe(o){let n=o.getCursor(),a=o.getLine(n.line),l=o.getSelection();if(l){let f=l.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");o.replaceSelection(f),a=o.getLine(n.line)}let{blockId:c,lineWithoutId:u}=Tl(a);return{blockId:c,lineWithoutId:u}}function Je(o,n,a,l,c){let u=o.editorComponent.view.file,f=o.editorComponent.app;f.vault.setConfig("useMarkdownLinks",!1);let m=f.fileManager.generateMarkdownLink(n,u.path,"",a),y=`${l} ${m} ${c}`,C=o.getCursor();o.setLine(C.line,y),o.setCursor(C)}var Qt=require("obsidian"),te=class extends Qt.FuzzySuggestModal{hotkeyInstructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.hotkeyInstructions),this.scope.register([],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveDown(1)}),this.scope.register(["Shift"],"Tab",a=>{a.isComposing||!this.chooser||this.chooser.moveUp(1)})}},Ie=class extends Qt.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){this.contentEl.empty()}};var K=require("obsidian");var zt=require("obsidian"),Ne=class extends zt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,a){super(n.app,a),this.textInputEl=a,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(l=>l instanceof zt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(a=>a.path.includes(n))}renderSuggestion(n,a){a.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function Vs(o,n){return n.path.slice(o.settings.coding.folder.length+1)+"/"}var Gt=class extends Ne{getSuggestions(n){if(!n.includes("/"))return[];let a=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),f=c.path.startsWith(a.coding.folder+"/");return u&&f})}renderSuggestion(n,a){let l=Vs(this.plugin,n);a.createEl("span",{text:l})}selectSuggestion(n){this.textInputEl.value=Vs(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var br=class extends Ie{fullCode="";codeDesc="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let a=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),l=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new K.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new Gt(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!a(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&a(this.fullCode)&&(u.preventDefault(),l())})}),new K.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&a(this.fullCode)&&(u.preventDefault(),l())})}),new K.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},Er=class extends Ie{input="";onSubmit;constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new K.Setting(n).addTextArea(a=>{a.onChange(l=>{this.input=l.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new K.Setting(n).addButton(a=>{this.confirmationButton=a.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(a=>a.setButtonText("Cancel").onClick(()=>this.close()))}};async function js(o,n,a){let{app:l,settings:c}=o;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,K.normalizePath)(`${c.coding.folder}/${n}.md`);if(l.vault.getFileByPath(u))return new K.Notice(`Code "${n}" already exists, Code File not created.`,0),!1;let m=n.split("/"),y=m.pop(),C=m.length>0?"/"+m.join("/"):"",F=c.coding.folder+C;l.vault.getFolderByPath(F)||await l.vault.createFolder(F);let k=`code description: "${a.replaceAll('"',"'")}"`,Y=l.vault.getFileByPath(c.coding.folder+"/Template.md"),w=[];if(Y){let U=await l.vault.read(Y),{exists:re,frontmatter:R}=(0,K.getFrontMatterInfo)(U);re&&(R=R.match(/^code description:/m)?R.replace(/^code description:.*$/m,k):k+`
`+R,w.push(...R.trim().split(`
`)))}else w.push(k);let L=["---",...w,"---","",""],Q=await l.vault.create(`${F}/${y}.md`,L.join(`
`));return Q?(new K.Notice(`Created new code file: "${n}"`,3500),Q):(new K.Notice("Failed to create new code file.",0),!1)}function Bs(o,n){new br(o,async(a,l)=>{let c=await js(o,a,l);c&&n(c)}).open()}function Qs(o){new Er(o,async n=>{let a=0,l=[];for(let u of n.split(`
`))await js(o,u,"")?a++:l.push(u);let c=`${a} file(s) created`;l.length>0&&(c+=`
Could not create: `+l.join(", ")),new K.Notice(c,l.length>0?0:3e3)}).open()}var Yr=class extends te{editor;codesInPara;dataFile;constructor(n,a,l,c){super(n),this.editor=a,this.codesInPara=l,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([...this.hotkeyInstructions,{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(u.preventDefault(),this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...Bt(this.plugin).filter(l=>!this.codesInPara.find(c=>c.path===l.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u{1F79C} Create new code":Ke(this.plugin,n)}onChooseItem(n){n==="new-code-file"?Bs(this.plugin,a=>this.assignCode(a,this.dataFile)):this.assignCode(n,this.dataFile)}async assignCode(n,a){let l=this.editor,c=Tr(this.plugin,n),{blockId:u,lineWithoutId:f}=qe(l);Je(l,n,c,f,u);let m=`![[${a.path.slice(0,-3)}#${u}]]
`;await this.app.vault.append(n,m)}};function zs(o){let{app:n}=o,a=z(n);if(!a||be(a))return;if(E(o)!=="Data File"){new Gs.Notice("You must be in a Data File to assign a code.",4e3);return}if(ze(a)||Ut(n))return;let l=a.editorComponent.view.file,c=a.getLine(a.getCursor().line),u=jt(o,l,c).map(f=>f.tFile);new Yr(o,a,u,l).open()}var Ks=require("obsidian");async function Zs(o){let n=o.app,a=z(n);if(!a)return;if(E(o)!=="Code File"){new Ks.Notice("Must be in Code File to delete the code everywhere.",4e3);return}let l=a.editorComponent.view.file;await n.vault.trash(l,!0)}var We=require("obsidian");function qs(o,n){let a=Object.keys(n).map(l=>Dl(o,l,n[l]));return a.length===1?a[0]:function(){a.forEach(l=>l())}}function Dl(o,n,a){let l=o[n],c=o.hasOwnProperty(n),u=c?l:function(){return Object.getPrototypeOf(o)[n].apply(this,arguments)},f=a(u);return l&&Object.setPrototypeOf(f,l),Object.setPrototypeOf(m,f),o[n]=m,y;function m(...C){return f===u&&o[n]===m&&y(),f.apply(this,C)}function y(){o[n]===m&&(c?o[n]=u:delete o[n]),f!==u&&(f=u,Object.setPrototypeOf(m,l||Function))}}var Xs=require("obsidian");var Xe=require("obsidian");async function Js(o,n){let a=o.app,l=[],c=0,u=E(o,n),f=a.metadataCache.getFileCache(n)?.embeds||[];for(let y of f){let[C,F]=y.link.split("#");if(!C||!F)continue;let x=a.metadataCache.getFirstLinkpathDest(C,n.path);if(!x||E(o,x)!=="Data File")continue;let Y=await Pr(a,n,x,F);Y?l.push(Y):c++}if(c===0&&l.length===0){let y=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new Xe.Notice(y,0);return}let m=`${u} "${n.name}" and ${c} references to it deleted.
`;if(l.length>0){let y=[m,`\u26A0\uFE0F ${l.length} references could not be deleted:`,"- "+l.join(`
- `)].join(`
`);new Xe.Notice(y,0)}else new Xe.Notice(m)}async function Pr(o,n,a,l){let c=(await o.vault.read(a)).split(`
`),u=c.findIndex(C=>C.endsWith(l));if(u<0)return`Data File "${a.basename}", has no line with the ID "${l}".`;let f=c[u]||"",y=(f.match(new RegExp(Oe,"g"))||[]).find(C=>{C=C.trim().slice(2,-2);let F=o.metadataCache.getFirstLinkpathDest(C,a.path);return F instanceof Xe.TFile&&F.path===n.path});return y?(c[u]=f.replace(y,""),await o.vault.modify(a,c.join(`
`)),""):`Data File "${a.basename}", line "${l}" has no valid link to the "${n.name}".`}function et(o){let n=o.app.vault;return qs(n,{trash:l=>async(c,u)=>{let f=E(o,c);if((f==="Code File"||f==="Extraction File")&&c instanceof Xs.TFile){let y=`Intercepted deletion of "${c.name}", deleting all references to the ${f} before proceeding with deletion.`;console.info(y),await Js(o,c)}await l.apply(n,[c,u])}})}var Ir=class extends te{toBeMergedFile;permaNotice;constructor(n,a){super(n),this.setPlaceholder(`Select Code File to merge "${a.basename}" into`),this.toBeMergedFile=a;let l=["MERGING INFO","- Lists properties are fully merged.",`- For conflicting, non-list properties, the values from "${a.basename}" are take priority.`].join(`
`);this.permaNotice=new We.Notice(l,0)}onClose(){this.permaNotice.hide()}onNoSuggestion(){new We.Notice("There must be at least two Code Files to merge.",4e3),this.close()}getItems(){return Bt(this.plugin).filter(a=>a.path!==this.toBeMergedFile.path)}getItemText(n){return Ke(this.plugin,n)}async onChooseItem(n){let{plugin:a,app:l}=this,c=`## Codes from "${this.toBeMergedFile.basename}"`,u=await l.vault.cachedRead(this.toBeMergedFile),{contentStart:f}=(0,We.getFrontMatterInfo)(u),m=u.slice(f).trim(),y=[c,m].join(`
`);a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,y,!1),a.trashWatcherUninstaller=et(a),setTimeout(async()=>await l.vault.append(n,""),500),new We.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function en(o){let n=z(o.app);if(!n)return;if(E(o)!=="Code File"){new We.Notice("You must be in the Code File for this.",3500);return}let a=n.editorComponent.view.file;new Ir(o,a).open()}var Nr=require("obsidian");function tn(o){E(o)!=="Code File"?new Nr.Notice("You must be in a code file.",4e3):Ls(o,o.app.workspace.getActiveFile())?new Nr.Notice("You cannot rename the template file.",5e3):o.app.commands.executeCommandById("workspace:edit-file-title")}var Ce=require("obsidian");var Wr=class extends te{codesInParagraph;dataFile;editor;constructor(n,a,l,c){super(n),this.codesInParagraph=c,this.dataFile=l,this.editor=a,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return Ke(this.plugin,n.tFile)}onChooseItem(n){rn(this.editor,this.dataFile,n)}};async function rn(o,n,a){let l=o.editorComponent.app,c=o.getCursor().line,u=o.getLine(c),f=u.replace(a.wikilink,"");o.setLine(c,f);let[m]=u.match(Or)||[];if(!m){new Ce.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`,0);return}let y=(await l.vault.read(a.tFile)).split(`
`),C=y.findIndex(F=>{if(!F.includes(m))return!1;let x=F.match(new RegExp(Oe,"g"))||[];for(let k of x){let[Y,w]=k.match(Oe)||[];if(!w)continue;if(l.metadataCache.getFirstLinkpathDest(w,a.tFile.path)?.path===n.path)return!0}return!1});if(C<0){new Ce.Notice(`"Code File "${a.tFile.basename}" contains no reference to Data File "${n.basename}" with the ID "${m}". Reference in Code File is thus not deleted.`,0);return}y.splice(C,1),await l.vault.modify(a.tFile,y.join(`
`)),new Ce.Notice(`Assignment of code "${a.tFile.basename}" removed.`,3500)}async function Ml(o,n){let a=n.getLine(n.getCursor().line),[l,c,u]=a.match(Hs)||[],f=n.editorComponent.view.file,m=o.metadataCache.getFirstLinkpathDest(c||"",f.path);if(!u||!c||!m){new Ce.Notice("Current line has no correct reference.",0);return}let y=await Pr(o,f,m,u);if(y){new Ce.Notice(y+`

Aborting removal of Code.`,0);return}o.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new Ce.Notice(`Assignment of code "${f.basename}" removed.`,3500)}function sn(o){let n=o.app,a=z(n);if(!a||be(a))return;if(E(o)==="Code File"&&Ml(n,a),E(o)!=="Data File"){new Ce.Notice("You must be in a Data File or Code File to unassign a code.",4e3);return}let l=a.editorComponent.view.file,c=a.getLine(a.getCursor().line),u=jt(o,l,c);u.length===0?new Ce.Notice("Line does not contain any codes to remove.",3500):u.length===1?rn(a,l,u[0]):new Wr(o,a,l,u).open()}var nn=[{id:"assign-code",name:"Assign code to paragraph",func:zs,hotkeyLetter:"a",icon:"plus-circle"},{id:"rename-code",name:"Rename code",func:tn,hotkeyLetter:"r",icon:"circle-slash"},{id:"unassign-code",name:"Remove code from paragraph",func:sn,hotkeyLetter:"d",icon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:Zs,icon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:en,icon:"circle-dot"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:Qs,icon:"circle-dashed"},{id:"code-overview-codeblock",name:"Create/goto code overview file",func:Rs,icon:"circle-equal"}];var ft=require("obsidian");async function an(o){let{app:n,settings:a}=o,l=z(n);if(!l||be(l))return;if(E(o)!=="Data File"){new ft.Notice("You must be in a Data File to make an extraction.",5e3);return}if(ze(l))return;let u=n.vault.getMarkdownFiles().filter(L=>L.name!=="Template.md"&&L.path.startsWith(a.extraction.folder+"/"));if(u.length===0){new ft.Notice("No extractions have been created yet.",3e3);return}let f=u.sort((L,Q)=>Q.stat.ctime-L.stat.ctime)[0],m=l.editorComponent.view.file,{blockId:y,lineWithoutId:C}=qe(l);if(l.getLine(l.getCursor().line).includes(`[[${f.basename}]]`)){new ft.Notice("The paragraph already references the last Extraction File. Aborting.",4e3);return}let x=(await n.vault.read(f)).trim().split(`
`),k=`${m.path.slice(0,-3)}#${y}`,Y=1+x.findIndex(L=>L.startsWith("extraction-source:"));if(Y===0){new ft.Notice('Could not find "extraction-source:" property in last Extraction File. Aborting.',0);return}let w=Y+x.slice(Y).findIndex(L=>!L.startsWith("  - "));x.splice(w,0,`  - "[[${k}]]"`),x.push(`![[${k}]]`),x.push(""),await n.vault.modify(f,x.join(`
`)),Je(l,f,f.basename,C,y)}var Le=require("obsidian");var ie=require("obsidian");async function mt(o,n){let{app:a,settings:l}=o,c=l.extraction.openingMode,u=a.workspace.getLeaf();if(c==="tab"){let f=u.parent;await a.workspace.createLeafInParent(f,f.children.length).openFile(n,At)}else{let f=c==="right-split"?"right":"bottom",m=c==="right-split"?"vertical":"horizontal",y=a.workspace.getAdjacentLeafInDirection(u,f)||a.workspace.createLeafBySplit(u,m,!1);await y.openFile(n,At),y.parent.setDimension(2)}}function Kt(o,n){o.vault.setConfig("propertiesInDocument","visible"),setTimeout(()=>{let a=o.workspace.getActiveViewOfType(ie.MarkdownView)?.metadataEditor.rendered[0];if(!a)return;a[n==="key"?"focusKey":"focusValue"]()},350)}function on(o,n){let a=o.vault.getFileByPath(`${n.path}/Template.md`);if(!a){new ie.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,0);return}let l=o.metadataCache.getFileCache(a)?.frontmatter;if(!l){new ie.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,0);return}return l}function tt(o){let{app:n,settings:a}=o,l=n.vault.getFolderByPath(a.extraction.folder);if(!l){new ie.Notice("ERROR: Could not find Extraction Folder.",0);return}let c=l.children.filter(u=>u instanceof ie.TFolder&&u.children.find(f=>f.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new ie.Notice(u,0);return}return c}function ke(o){return o.children.filter(a=>a instanceof ie.TFile&&a.extension==="md"&&a.name!=="Template.md").length}var Lr=class extends Ie{onSubmit;nameOfNewType="";constructor(n,a){super(n),this.onSubmit=a}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let a=c=>c!=="",l=()=>{this.close(),this.onSubmit(this.nameOfNewType)};new Le.Setting(n).setName("Name of the new type").addText(c=>{c.onChange(u=>{this.nameOfNewType=u.trim(),this.confirmationButton?.setDisabled(!a(u))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&a(this.nameOfNewType)&&(u.preventDefault(),l())})}),new Le.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}};function ln(o){let{app:n,settings:a}=o;new Lr(o,async l=>{l=l.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Le.normalizePath)(a.extraction.folder+"/"+l);await n.vault.createFolder(c),new Le.Notice(`Creating New Template for Extraction Type "${l}"`,6e3);let f=await n.vault.create(c+"/Template.md",`---
dimension: 
---

`);await mt(o,f),n.commands.executeCommandById("file-explorer:reveal-active-file"),Kt(n,"key")}).open()}var cn=Is(Mr()),Se=require("obsidian");var Ol="-";function dn(o,n){return o.map(l=>`"${l.replaceAll('"','""')}"`).join(n)}async function un(o){let{app:n,settings:a}=o,l=a.extraction.csvSeparator,c=tt(o);if(!c)return;let u;for(let f of c){let m=[],y=on(n,f);if(!y){let R=`Export of Extraction Type "${f.name}" is skipped, as the Templade.md has no valid properties.`;new Se.Notice(R,0);continue}let C=["File",...Object.keys(y),"extraction-date","extraction-source"],F=dn(C,l);m.push(F);let x=f.children.filter(R=>R instanceof Se.TFile&&R.name!=="Template.md");for(let R of x){let fe=n.metadataCache.getFileCache(R)?.frontmatter;if(!fe)continue;let oe=[];for(let Re of C){if(Re==="File"){oe.push(R.basename);continue}let $=fe[Re]??Ol,Ae=typeof $!="object"?$.toString():Array.isArray($)?$.join("; "):JSON.stringify($);Re==="extraction-source"&&(Ae=Ae.replace(/\[\[|\]\]/g,"")),oe.push(Ae)}let Z=dn(oe,l);m.push(Z)}let k=(0,Se.normalizePath)(a.analysis.folder+"/CSV Export");n.vault.getFolderByPath(k)||await n.vault.createFolder(k);let w=m.join(`
`),L=(0,cn.default)().format("YYYY-MM-DD_HH-mm-ss"),Q=(0,Se.normalizePath)(`${k}/${f.name}_${L}.csv`),U=await n.vault.create(Q,w),re=U?`Successfully exported "${f.name}".`:`ERROR: Export for "${f.name}" failed.`;new Se.Notice(re,U?5e3:0),!u&&U&&(u=U)}new Se.Notice("All CSV exports finished.",3500),u&&n.showInFolder(u.path)}var rt=require("obsidian");var Rr=class extends te{extractionTypes;editor;dataFile;constructor(n,a,l,c){super(n),this.extractionTypes=l,this.editor=a,this.dataFile=c,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes.sort((a,l)=>ke(l)-ke(a))}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return Ar.name;let l=ke(n);return`${n.name} (${l}x)`}onChooseItem(n){Ar(this.plugin,this.editor,this.dataFile,n)}};async function Ar(o,n,a,l){let c=o.app;Ht(c);let u=l.name,f=l.path,m=c.vault.getFileByPath(`${f}/Template.md`);if(!m){new rt.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${u}".`,0);return}let y=await c.vault.cachedRead(m),{exists:C,frontmatter:F}=(0,rt.getFrontMatterInfo)(y);if(!C){new rt.Notice(`The file "Template.md" in the folder "${f}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,0),mt(o,m);return}let x,k=ke(l);for(;;){k++;let fe=k.toString().padStart(3,"0");if(x=`${f}/${u} ${fe}.md`,!c.vault.getFileByPath(x))break}let{blockId:Y,lineWithoutId:w}=qe(n),L=new Date().toISOString().slice(0,-5),Q=`${a.path.slice(0,-3)}#${Y}`,U=["---",...F.split(`
`),"extraction-date: "+L,"extraction-source:",`  - "[[${Q}]]"`,"---","","**Paragraph extracted from:**",`![[${Q}]]`].join(`
`),re=await c.vault.create(x,U),R=re.basename;Je(n,re,R,w,Y),await mt(o,re),Kt(c,"value")}function hn(o){let{app:n}=o,a=z(n);if(!a||be(a))return;if(E(o)!=="Data File"){new rt.Notice("You must be in a Data File to make an extraction.",4e3);return}if(ze(a)||Ut(n))return;let l=tt(o);if(!l)return;let c=a.editorComponent.view.file;l.length===1?Ar(o,a,c,l[0]):new Rr(o,a,l,c).open()}async function fn(o){let n=o.codeblockLabels.extractionOverview;await $t(o,n,"Extraction Type Overview")}function mn(o){let n=o.app,a=[];n.internalPlugins.plugins["global-search"].enable();let l=tt(o);if(!l)return"\u26A0\uFE0F No valid extraction templates found.";for(let c of l){let u=n.vault.getFileByPath(c.path+"/Template.md");if(!u)continue;let f=n.metadataCache.getFileCache(u)?.frontmatter;if(!f){a.push(`\u26A0\uFE0F Invalid properties in template file for "${c.name}".`);continue}let m=`<a href="${u.path}" class="internal-link">${c.name}</a>`,y=Object.keys(f).map(F=>{let x=n.metadataTypeManager.getPropertyInfo(F)?.type||"",k=n.metadataCache.getFrontmatterPropertyValuesForKey(F),Y=7,w="";k.length>0&&!x.startsWith("date")&&(w=k.slice(0,Y).map(U=>`<li><a href='${`obsidian://search?query=path:"${c.path}" ["${F}":"${U}"]`}'>${U}</a></li>`).join(""),k.length>Y&&(w+=`<li><i>${k.length-Y} more\u2026</i></li>`),w="<ul>"+w+"</ul>");let Q=w||(x?": "+x:"");return`<li><b>${F}</b>${Q}</li>`}),C=ke(c);a.push(`<b>${m}</b> (${C}x)<ul>`+y.join("")+"</ul>")}return a.join("<br>")}var ae=require("obsidian");var $r=class extends te{toBeMergedFile;toBeMergedFrontmatter;permaNotice;constructor(n,a){super(n),this.setPlaceholder(`Select Extraction File to merge "${a.basename}" into.`),this.toBeMergedFile=a,this.toBeMergedFrontmatter=this.app.metadataCache.getFileCache(this.toBeMergedFile)?.frontmatter||{};let l=`INFO
"Incongruence" refers to the dimensions that can not be automatically merged. The discarded values are saved, so you can manually fix the Extraction File after the merge operation.`;this.permaNotice=new ae.Notice(l,0)}onClose(){this.permaNotice.hide()}onNoSuggestion(){new ae.Notice("There must be at least two extractions of the same type to merge.",5e3),this.close()}getDiscardedProperties(n){let{app:a,settings:l}=this,c=a.metadataCache.getFileCache(n)?.frontmatter||{},u={};for(let f in this.toBeMergedFrontmatter){let m=c[f],y=this.toBeMergedFrontmatter[f],C=Array.isArray(m)&&Array.isArray(y),F=!m&&m!==0||!y&&y!==0,x=m===y,k=l.extraction.ignorePropertyOnMerge.includes(f);C||F||x||k||(u[f]=m)}return u}getItems(){return this.toBeMergedFile.parent.children.filter(l=>l instanceof ae.TFile&&l.extension==="md"&&l.name!=="Template.md"&&l.path!==this.toBeMergedFile.path).sort((l,c)=>c.stat.mtime-l.stat.mtime)}getItemText(n){let a=Object.keys(this.getDiscardedProperties(n)).length,l=a>0?`    (${a}x incongruent)`:"";return n.basename+l}async onChooseItem(n){let{plugin:a,app:l}=this,c=this.getDiscardedProperties(n);a.trashWatcherUninstaller&&a.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,"",!1),a.trashWatcherUninstaller=et(a);let u=n,f=(await l.vault.read(u)).replaceAll(`**Paragraph extracted from:**
`,"").replaceAll(`


`,`
`);if(Object.keys(c).length>0){let C=["","#### Properties that could be not be automatically merged",...(0,ae.stringifyYaml)(c).trim().split(`
`).map(x=>"- "+x),"","---",""].join(`
`),F=(0,ae.getFrontMatterInfo)(f).contentStart;f=f.slice(0,F)+C+f.slice(F)}setTimeout(async()=>await l.vault.modify(u,f),500),new ae.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,5e3)}};function pn(o){let n=z(o.app);if(!n)return;if(E(o)!=="Extraction File"){new ae.Notice("You must be in the Extraction File for this.",3e3);return}let a=n.editorComponent.view.file;new $r(o,a).open()}var gn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:hn,hotkeyLetter:"e",icon:"plus-square"},{id:"extract-to-last-extraction-file",name:"Add paragraph to last Extraction File",func:an,hotkeyLetter:"l",icon:"square-asterisk"},{id:"merge-extractions",name:"Merge current Extraction File into another Extraction File",func:pn,icon:"square-dot"},{id:"create-new-extraction-type",name:"Create new Extraction Type",func:ln,icon:"box-select"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:un,icon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Create/Goto extraction type overview file",func:fn,icon:"square-equal"}];function pt(o){let n=o.settings.suppressSuggestionInFields.map(l=>`[data-property-key="${l}"]`).join(", "),a=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!o.styleElSuppressSuggestionsInFields){let l=activeDocument.createElement("style");l.addClass(o.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),o.register(()=>l?.detach()),o.styleElSuppressSuggestionsInFields=l}o.styleElSuppressSuggestionsInFields.textContent=a,o.app.workspace.trigger("css-change")}function Zt(o){let a=`body .metadata-property-key { min-width: ${o.settings.propertiesKeysWidthPercent}% }`;if(!o.styleElPropertyKeyWidth){let l=activeDocument.createElement("style");l.addClass(o.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),o.register(()=>l?.detach()),o.styleElPropertyKeyWidth=l}o.styleElPropertyKeyWidth.textContent=a,o.app.workspace.trigger("css-change")}var B=require("obsidian");function Ur(o){return(0,B.normalizePath)(o).replace(/:/g,"-")}var qt=class extends B.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,a=this.plugin.settings,l={"min-width":"15rem"};n.empty(),n.addClass(this.plugin.cssclass),new B.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(c=>c.setPlaceholder("One property per line").setValue(a.suppressSuggestionInFields.join(`
`)).onChange(async u=>{let f=u.split(`
`).map(m=>m.trim()).filter(m=>m!=="");a.suppressSuggestionInFields=f,await this.plugin.saveSettings(),pt(this.plugin)}).inputEl.setCssProps({"min-height":"5rem","min-width":"15rem"})),new B.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(c=>c.setLimits(20,60,5).setDynamicTooltip().setValue(a.propertiesKeysWidthPercent).onChange(async u=>{a.propertiesKeysWidthPercent=u,await this.plugin.saveSettings(),Zt(this.plugin)})),n.createEl("h3",{text:"Coding"}),new B.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(c=>{new Ne(this.plugin,c.inputEl),c.setPlaceholder(he.coding.folder).setValue(a.coding.folder).onChange(async u=>{a.coding.folder=Ur(u)||he.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(l)}),new B.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(a.coding.displayCount).onChange(async u=>{a.coding.displayCount=u,await this.plugin.saveSettings()})),new B.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(c=>{for(let u in Vt)c.addOption(u,u);c.setValue(a.coding.sortFunc).onChange(async u=>{a.coding.sortFunc=u,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new B.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(c=>{new Ne(this.plugin,c.inputEl),c.setPlaceholder(he.extraction.folder).setValue(a.extraction.folder).onChange(async u=>{a.extraction.folder=Ur(u)||he.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(l)}),new B.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(c=>c.setValue(a.extraction.displayCount).onChange(async u=>{a.extraction.displayCount=u,await this.plugin.saveSettings()})),new B.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(c=>{c.addOptions(Ws).setValue(a.extraction.openingMode).onChange(async u=>{a.extraction.openingMode=u,await this.plugin.saveSettings()})}),new B.Setting(n).setName("Ignore properties on merging").setDesc("List of properties, one per line, which should not trigger manual incongruence resolvement when merging Extraction Files. The properties are still added to the frontmatter, there merging just happens automatically without considering potential conflicts. This is intended for properties where it does not matter which value is chosen, such as IDs. ").addTextArea(c=>c.setPlaceholder("One property per line").setValue(a.extraction.ignorePropertyOnMerge.join(`
`)).onChange(async u=>{let f=u.split(`
`).map(m=>m.trim()).filter(m=>m!=="");a.extraction.ignorePropertyOnMerge=f,await this.plugin.saveSettings(),pt(this.plugin)}).inputEl.setCssProps({"min-height":"5rem","min-width":"15rem"})),new B.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as csv files.").addDropdown(c=>{c.addOptions(Ns).setValue(a.extraction.csvSeparator).onChange(async u=>{a.extraction.csvSeparator=u,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new B.Setting(n).setName("Analysis folder").setDesc("Location where aggregations, overviews, and exports are stored.").addSearch(c=>{new Ne(this.plugin,c.inputEl),c.setPlaceholder(he.analysis.folder).setValue(a.analysis.folder).onChange(async u=>{a.analysis.folder=Ur(u)||he.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(l)})}};function Jt(o){let{app:n,statusbar:a,settings:l}=o,c=[],u=E(o),f=n.workspace.getActiveFile();if(!f||!u||u==="Template"){a.setText("");return}if(u==="Code File"){let x=ht(o,f);c.push(`Code ${x}x assigned`)}else if(u==="Extraction File"){let F=f.parent;if(F){let x=ke(F);c.push(`${x}x extracted`)}}else if(u==="Data File"){let F=n.metadataCache.resolvedLinks[f.path]||{},x=0,k=0;for(let[Y,w]of Object.entries(F))Y.startsWith(l.coding.folder+"/")&&(x+=w),Y.startsWith(l.extraction.folder+"/")&&k++;x>0&&c.push(`${x} Codes`),k>0&&c.push(`${k} Extractions`)}let m=n.metadataCache.unresolvedLinks[f.path]||{},y=0;for(let[F,x]of Object.entries(m))y+=x;y>0&&c.push(`${y} invalid links`);let C=c.map(F=>F.replace(/^(1 .*)s$/,"$1")).join(", ");a.setText(C)}var Xt=class extends yn.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontypes-overview",codeOverview:"quadro-code-overview"};statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=he;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...nn,...gn]){let a=this.addRibbonIcon(n.icon,`Quadro: ${n.name}`,()=>n.func(this));a.addClass(this.cssclass),a.setCssProps({border:"1px solid var(--text-faint)"});let l={id:n.id,name:n.name,icon:n.icon,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(l.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(l)}this.statusbar.addClass(this.cssclass),Jt(this),this.registerEvent(this.app.workspace.on("file-open",()=>Jt(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>Jt(this))),this.trashWatcherUninstaller=et(this),await this.loadSettings(),this.addSettingTab(new qt(this)),pt(this),Zt(this),Ht(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,a)=>{a.innerHTML=$s(this),a.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,a)=>{a.innerHTML=mn(this),a.addClass(this.cssclass)})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=Object.assign({},he,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
